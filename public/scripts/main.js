(()=>{var Av=Object.create;var $c=Object.defineProperty;var wv=Object.getOwnPropertyDescriptor;var Nv=Object.getOwnPropertyNames;var Tv=Object.getPrototypeOf,Sv=Object.prototype.hasOwnProperty;var En=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Hd=(r,t)=>{for(var e in t)$c(r,e,{get:t[e],enumerable:!0})},Lv=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Nv(t))!Sv.call(r,l)&&l!==e&&$c(r,l,{get:()=>t[l],enumerable:!(n=wv(t,l))||n.enumerable});return r};var lr=(r,t,e)=>(e=r!=null?Av(Tv(r)):{},Lv(t||!r||!r.__esModule?$c(e,"default",{value:r,enumerable:!0}):e,r));var fg=En((eR,hg)=>{var yr=-1,tr=1,Oe=0;function Eo(r,t,e,n,l){if(r===t)return r?[[Oe,r]]:[];if(e!=null){var a=g2(r,t,e);if(a)return a}var u=ou(r,t),f=r.substring(0,u);r=r.substring(u),t=t.substring(u),u=Vl(r,t);var d=r.substring(r.length-u);r=r.substring(0,r.length-u),t=t.substring(0,t.length-u);var m=a2(r,t);return f&&m.unshift([Oe,f]),d&&m.push([Oe,d]),lu(m,l),n&&h2(m),m}function a2(r,t){var e;if(!r)return[[tr,t]];if(!t)return[[yr,r]];var n=r.length>t.length?r:t,l=r.length>t.length?t:r,a=n.indexOf(l);if(a!==-1)return e=[[tr,n.substring(0,a)],[Oe,l],[tr,n.substring(a+l.length)]],r.length>t.length&&(e[0][0]=e[2][0]=yr),e;if(l.length===1)return[[yr,r],[tr,t]];var u=u2(r,t);if(u){var f=u[0],d=u[1],m=u[2],y=u[3],b=u[4],N=Eo(f,m),A=Eo(d,y);return N.concat([[Oe,b]],A)}return c2(r,t)}function c2(r,t){for(var e=r.length,n=t.length,l=Math.ceil((e+n)/2),a=l,u=2*l,f=new Array(u),d=new Array(u),m=0;m<u;m++)f[m]=-1,d[m]=-1;f[a+1]=0,d[a+1]=0;for(var y=e-n,b=y%2!==0,N=0,A=0,E=0,k=0,x=0;x<l;x++){for(var T=-x+N;T<=x-A;T+=2){var C=a+T,_;T===-x||T!==x&&f[C-1]<f[C+1]?_=f[C+1]:_=f[C-1]+1;for(var j=_-T;_<e&&j<n&&r.charAt(_)===t.charAt(j);)_++,j++;if(f[C]=_,_>e)A+=2;else if(j>n)N+=2;else if(b){var H=a+y-T;if(H>=0&&H<u&&d[H]!==-1){var Z=e-d[H];if(_>=Z)return rg(r,t,_,j)}}}for(var G=-x+E;G<=x-k;G+=2){var H=a+G,Z;G===-x||G!==x&&d[H-1]<d[H+1]?Z=d[H+1]:Z=d[H-1]+1;for(var O=Z-G;Z<e&&O<n&&r.charAt(e-Z-1)===t.charAt(n-O-1);)Z++,O++;if(d[H]=Z,Z>e)k+=2;else if(O>n)E+=2;else if(!b){var C=a+y-G;if(C>=0&&C<u&&f[C]!==-1){var _=f[C],j=a+_-C;if(Z=e-Z,_>=Z)return rg(r,t,_,j)}}}}return[[yr,r],[tr,t]]}function rg(r,t,e,n){var l=r.substring(0,e),a=t.substring(0,n),u=r.substring(e),f=t.substring(n),d=Eo(l,a),m=Eo(u,f);return d.concat(m)}function ou(r,t){if(!r||!t||r.charAt(0)!==t.charAt(0))return 0;for(var e=0,n=Math.min(r.length,t.length),l=n,a=0;e<l;)r.substring(a,l)==t.substring(a,l)?(e=l,a=e):n=l,l=Math.floor((n-e)/2+e);return lg(r.charCodeAt(l-1))&&l--,l}function ng(r,t){var e=r.length,n=t.length;if(e==0||n==0)return 0;e>n?r=r.substring(e-n):e<n&&(t=t.substring(0,e));var l=Math.min(e,n);if(r==t)return l;for(var a=0,u=1;;){var f=r.substring(l-u),d=t.indexOf(f);if(d==-1)return a;u+=d,(d==0||r.substring(l-u)==t.substring(0,u))&&(a=u,u++)}}function Vl(r,t){if(!r||!t||r.slice(-1)!==t.slice(-1))return 0;for(var e=0,n=Math.min(r.length,t.length),l=n,a=0;e<l;)r.substring(r.length-l,r.length-a)==t.substring(t.length-l,t.length-a)?(e=l,a=e):n=l,l=Math.floor((n-e)/2+e);return ag(r.charCodeAt(r.length-l))&&l--,l}function u2(r,t){var e=r.length>t.length?r:t,n=r.length>t.length?t:r;if(e.length<4||n.length*2<e.length)return null;function l(A,E,k){for(var x=A.substring(k,k+Math.floor(A.length/4)),T=-1,C="",_,j,H,Z;(T=E.indexOf(x,T+1))!==-1;){var G=ou(A.substring(k),E.substring(T)),O=Vl(A.substring(0,k),E.substring(0,T));C.length<O+G&&(C=E.substring(T-O,T)+E.substring(T,T+G),_=A.substring(0,k-O),j=A.substring(k+G),H=E.substring(0,T-O),Z=E.substring(T+G))}return C.length*2>=A.length?[_,j,H,Z,C]:null}var a=l(e,n,Math.ceil(e.length/4)),u=l(e,n,Math.ceil(e.length/2)),f;if(!a&&!u)return null;u?a?f=a[4].length>u[4].length?a:u:f=u:f=a;var d,m,y,b;r.length>t.length?(d=f[0],m=f[1],y=f[2],b=f[3]):(y=f[0],b=f[1],d=f[2],m=f[3]);var N=f[4];return[d,m,y,b,N]}function h2(r){for(var t=!1,e=[],n=0,l=null,a=0,u=0,f=0,d=0,m=0;a<r.length;)r[a][0]==Oe?(e[n++]=a,u=d,f=m,d=0,m=0,l=r[a][1]):(r[a][0]==tr?d+=r[a][1].length:m+=r[a][1].length,l&&l.length<=Math.max(u,f)&&l.length<=Math.max(d,m)&&(r.splice(e[n-1],0,[yr,l]),r[e[n-1]+1][0]=tr,n--,n--,a=n>0?e[n-1]:-1,u=0,f=0,d=0,m=0,l=null,t=!0)),a++;for(t&&lu(r),p2(r),a=1;a<r.length;){if(r[a-1][0]==yr&&r[a][0]==tr){var y=r[a-1][1],b=r[a][1],N=ng(y,b),A=ng(b,y);N>=A?(N>=y.length/2||N>=b.length/2)&&(r.splice(a,0,[Oe,b.substring(0,N)]),r[a-1][1]=y.substring(0,y.length-N),r[a+1][1]=b.substring(N),a++):(A>=y.length/2||A>=b.length/2)&&(r.splice(a,0,[Oe,y.substring(0,A)]),r[a-1][0]=tr,r[a-1][1]=b.substring(0,b.length-A),r[a+1][0]=yr,r[a+1][1]=y.substring(A),a++),a++}a++}}var sg=/[^a-zA-Z0-9]/,ig=/\s/,og=/[\r\n]/,f2=/\n\r?\n$/,d2=/^\r?\n\r?\n/;function p2(r){function t(A,E){if(!A||!E)return 6;var k=A.charAt(A.length-1),x=E.charAt(0),T=k.match(sg),C=x.match(sg),_=T&&k.match(ig),j=C&&x.match(ig),H=_&&k.match(og),Z=j&&x.match(og),G=H&&A.match(f2),O=Z&&E.match(d2);return G||O?5:H||Z?4:T&&!_&&j?3:_||j?2:T||C?1:0}for(var e=1;e<r.length-1;){if(r[e-1][0]==Oe&&r[e+1][0]==Oe){var n=r[e-1][1],l=r[e][1],a=r[e+1][1],u=Vl(n,l);if(u){var f=l.substring(l.length-u);n=n.substring(0,n.length-u),l=f+l.substring(0,l.length-u),a=f+a}for(var d=n,m=l,y=a,b=t(n,l)+t(l,a);l.charAt(0)===a.charAt(0);){n+=l.charAt(0),l=l.substring(1)+a.charAt(0),a=a.substring(1);var N=t(n,l)+t(l,a);N>=b&&(b=N,d=n,m=l,y=a)}r[e-1][1]!=d&&(d?r[e-1][1]=d:(r.splice(e-1,1),e--),r[e][1]=m,y?r[e+1][1]=y:(r.splice(e+1,1),e--))}e++}}function lu(r,t){r.push([Oe,""]);for(var e=0,n=0,l=0,a="",u="",f;e<r.length;){if(e<r.length-1&&!r[e][1]){r.splice(e,1);continue}switch(r[e][0]){case tr:l++,u+=r[e][1],e++;break;case yr:n++,a+=r[e][1],e++;break;case Oe:var d=e-l-n-1;if(t){if(d>=0&&ug(r[d][1])){var m=r[d][1].slice(-1);if(r[d][1]=r[d][1].slice(0,-1),a=m+a,u=m+u,!r[d][1]){r.splice(d,1),e--;var y=d-1;r[y]&&r[y][0]===tr&&(l++,u=r[y][1]+u,y--),r[y]&&r[y][0]===yr&&(n++,a=r[y][1]+a,y--),d=y}}if(cg(r[e][1])){var m=r[e][1].charAt(0);r[e][1]=r[e][1].slice(1),a+=m,u+=m}}if(e<r.length-1&&!r[e][1]){r.splice(e,1);break}if(a.length>0||u.length>0){a.length>0&&u.length>0&&(f=ou(u,a),f!==0&&(d>=0?r[d][1]+=u.substring(0,f):(r.splice(0,0,[Oe,u.substring(0,f)]),e++),u=u.substring(f),a=a.substring(f)),f=Vl(u,a),f!==0&&(r[e][1]=u.substring(u.length-f)+r[e][1],u=u.substring(0,u.length-f),a=a.substring(0,a.length-f)));var b=l+n;a.length===0&&u.length===0?(r.splice(e-b,b),e=e-b):a.length===0?(r.splice(e-b,b,[tr,u]),e=e-b+1):u.length===0?(r.splice(e-b,b,[yr,a]),e=e-b+1):(r.splice(e-b,b,[yr,a],[tr,u]),e=e-b+2)}e!==0&&r[e-1][0]===Oe?(r[e-1][1]+=r[e][1],r.splice(e,1)):e++,l=0,n=0,a="",u="";break}}r[r.length-1][1]===""&&r.pop();var N=!1;for(e=1;e<r.length-1;)r[e-1][0]===Oe&&r[e+1][0]===Oe&&(r[e][1].substring(r[e][1].length-r[e-1][1].length)===r[e-1][1]?(r[e][1]=r[e-1][1]+r[e][1].substring(0,r[e][1].length-r[e-1][1].length),r[e+1][1]=r[e-1][1]+r[e+1][1],r.splice(e-1,1),N=!0):r[e][1].substring(0,r[e+1][1].length)==r[e+1][1]&&(r[e-1][1]+=r[e+1][1],r[e][1]=r[e][1].substring(r[e+1][1].length)+r[e+1][1],r.splice(e+1,1),N=!0)),e++;N&&lu(r,t)}function lg(r){return r>=55296&&r<=56319}function ag(r){return r>=56320&&r<=57343}function cg(r){return ag(r.charCodeAt(0))}function ug(r){return lg(r.charCodeAt(r.length-1))}function m2(r){for(var t=[],e=0;e<r.length;e++)r[e][1].length>0&&t.push(r[e]);return t}function iu(r,t,e,n){return ug(r)||cg(n)?null:m2([[Oe,r],[yr,t],[tr,e],[Oe,n]])}function g2(r,t,e){var n=typeof e=="number"?{index:e,length:0}:e.oldRange,l=typeof e=="number"?null:e.newRange,a=r.length,u=t.length;if(n.length===0&&(l===null||l.length===0)){var f=n.index,d=r.slice(0,f),m=r.slice(f),y=l?l.index:null;t:{var b=f+u-a;if(y!==null&&y!==b||b<0||b>u)break t;var N=t.slice(0,b),A=t.slice(b);if(A!==m)break t;var E=Math.min(f,b),k=d.slice(0,E),x=N.slice(0,E);if(k!==x)break t;var T=d.slice(E),C=N.slice(E);return iu(k,T,C,m)}t:{if(y!==null&&y!==f)break t;var _=f,N=t.slice(0,_),A=t.slice(_);if(N!==d)break t;var j=Math.min(a-_,u-_),H=m.slice(m.length-j),Z=A.slice(A.length-j);if(H!==Z)break t;var T=m.slice(0,m.length-j),C=A.slice(0,A.length-j);return iu(d,T,C,H)}}if(n.length>0&&l&&l.length===0)t:{var k=r.slice(0,n.index),H=r.slice(n.index+n.length),E=k.length,j=H.length;if(u<E+j)break t;var x=t.slice(0,E),Z=t.slice(u-j);if(k!==x||H!==Z)break t;var T=r.slice(E,a-j),C=t.slice(E,u-j);return iu(k,T,C,H)}return null}function Kl(r,t,e,n){return Eo(r,t,e,n,!0)}Kl.INSERT=tr;Kl.DELETE=yr;Kl.EQUAL=Oe;hg.exports=Kl});var Au=En((Ao,Ti)=>{var b2=200,Ng="__lodash_hash_undefined__",Tg=9007199254740991,mu="[object Arguments]",y2="[object Array]",Sg="[object Boolean]",Lg="[object Date]",v2="[object Error]",gu="[object Function]",Og="[object GeneratorFunction]",Gl="[object Map]",qg="[object Number]",bu="[object Object]",dg="[object Promise]",Cg="[object RegExp]",Wl="[object Set]",_g="[object String]",kg="[object Symbol]",cu="[object WeakMap]",Rg="[object ArrayBuffer]",Zl="[object DataView]",Ig="[object Float32Array]",Bg="[object Float64Array]",jg="[object Int8Array]",Mg="[object Int16Array]",Dg="[object Int32Array]",Pg="[object Uint8Array]",Ug="[object Uint8ClampedArray]",Fg="[object Uint16Array]",Hg="[object Uint32Array]",x2=/[\\^$.*+?()[\]{}|]/g,E2=/\w*$/,A2=/^\[object .+?Constructor\]$/,w2=/^(?:0|[1-9]\d*)$/,Qt={};Qt[mu]=Qt[y2]=Qt[Rg]=Qt[Zl]=Qt[Sg]=Qt[Lg]=Qt[Ig]=Qt[Bg]=Qt[jg]=Qt[Mg]=Qt[Dg]=Qt[Gl]=Qt[qg]=Qt[bu]=Qt[Cg]=Qt[Wl]=Qt[_g]=Qt[kg]=Qt[Pg]=Qt[Ug]=Qt[Fg]=Qt[Hg]=!0;Qt[v2]=Qt[gu]=Qt[cu]=!1;var N2=typeof global=="object"&&global&&global.Object===Object&&global,T2=typeof self=="object"&&self&&self.Object===Object&&self,Ln=N2||T2||Function("return this")(),zg=typeof Ao=="object"&&Ao&&!Ao.nodeType&&Ao,pg=zg&&typeof Ti=="object"&&Ti&&!Ti.nodeType&&Ti,S2=pg&&pg.exports===zg;function L2(r,t){return r.set(t[0],t[1]),r}function O2(r,t){return r.add(t),r}function q2(r,t){for(var e=-1,n=r?r.length:0;++e<n&&t(r[e],e,r)!==!1;);return r}function C2(r,t){for(var e=-1,n=t.length,l=r.length;++e<n;)r[l+e]=t[e];return r}function $g(r,t,e,n){var l=-1,a=r?r.length:0;for(n&&a&&(e=r[++l]);++l<a;)e=t(e,r[l],l,r);return e}function _2(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}function k2(r,t){return r?.[t]}function Vg(r){var t=!1;if(r!=null&&typeof r.toString!="function")try{t=!!(r+"")}catch{}return t}function mg(r){var t=-1,e=Array(r.size);return r.forEach(function(n,l){e[++t]=[l,n]}),e}function yu(r,t){return function(e){return r(t(e))}}function gg(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var R2=Array.prototype,I2=Function.prototype,Xl=Object.prototype,au=Ln["__core-js_shared__"],bg=function(){var r=/[^.]+$/.exec(au&&au.keys&&au.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Kg=I2.toString,os=Xl.hasOwnProperty,Jl=Xl.toString,B2=RegExp("^"+Kg.call(os).replace(x2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yg=S2?Ln.Buffer:void 0,vg=Ln.Symbol,xg=Ln.Uint8Array,j2=yu(Object.getPrototypeOf,Object),M2=Object.create,D2=Xl.propertyIsEnumerable,P2=R2.splice,Eg=Object.getOwnPropertySymbols,U2=yg?yg.isBuffer:void 0,F2=yu(Object.keys,Object),uu=Oi(Ln,"DataView"),wo=Oi(Ln,"Map"),hu=Oi(Ln,"Promise"),fu=Oi(Ln,"Set"),du=Oi(Ln,"WeakMap"),No=Oi(Object,"create"),H2=Is(uu),z2=Is(wo),$2=Is(hu),V2=Is(fu),K2=Is(du),Ag=vg?vg.prototype:void 0,wg=Ag?Ag.valueOf:void 0;function Rs(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function G2(){this.__data__=No?No(null):{}}function W2(r){return this.has(r)&&delete this.__data__[r]}function Z2(r){var t=this.__data__;if(No){var e=t[r];return e===Ng?void 0:e}return os.call(t,r)?t[r]:void 0}function X2(r){var t=this.__data__;return No?t[r]!==void 0:os.call(t,r)}function J2(r,t){var e=this.__data__;return e[r]=No&&t===void 0?Ng:t,this}Rs.prototype.clear=G2;Rs.prototype.delete=W2;Rs.prototype.get=Z2;Rs.prototype.has=X2;Rs.prototype.set=J2;function On(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function Q2(){this.__data__=[]}function Y2(r){var t=this.__data__,e=Ql(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():P2.call(t,e,1),!0}function tT(r){var t=this.__data__,e=Ql(t,r);return e<0?void 0:t[e][1]}function eT(r){return Ql(this.__data__,r)>-1}function rT(r,t){var e=this.__data__,n=Ql(e,r);return n<0?e.push([r,t]):e[n][1]=t,this}On.prototype.clear=Q2;On.prototype.delete=Y2;On.prototype.get=tT;On.prototype.has=eT;On.prototype.set=rT;function Si(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function nT(){this.__data__={hash:new Rs,map:new(wo||On),string:new Rs}}function sT(r){return Yl(this,r).delete(r)}function iT(r){return Yl(this,r).get(r)}function oT(r){return Yl(this,r).has(r)}function lT(r,t){return Yl(this,r).set(r,t),this}Si.prototype.clear=nT;Si.prototype.delete=sT;Si.prototype.get=iT;Si.prototype.has=oT;Si.prototype.set=lT;function Li(r){this.__data__=new On(r)}function aT(){this.__data__=new On}function cT(r){return this.__data__.delete(r)}function uT(r){return this.__data__.get(r)}function hT(r){return this.__data__.has(r)}function fT(r,t){var e=this.__data__;if(e instanceof On){var n=e.__data__;if(!wo||n.length<b2-1)return n.push([r,t]),this;e=this.__data__=new Si(n)}return e.set(r,t),this}Li.prototype.clear=aT;Li.prototype.delete=cT;Li.prototype.get=uT;Li.prototype.has=hT;Li.prototype.set=fT;function dT(r,t){var e=xu(r)||MT(r)?_2(r.length,String):[],n=e.length,l=!!n;for(var a in r)(t||os.call(r,a))&&!(l&&(a=="length"||RT(a,n)))&&e.push(a);return e}function Gg(r,t,e){var n=r[t];(!(os.call(r,t)&&Jg(n,e))||e===void 0&&!(t in r))&&(r[t]=e)}function Ql(r,t){for(var e=r.length;e--;)if(Jg(r[e][0],t))return e;return-1}function pT(r,t){return r&&Wg(t,Eu(t),r)}function pu(r,t,e,n,l,a,u){var f;if(n&&(f=a?n(r,l,a,u):n(r)),f!==void 0)return f;if(!ta(r))return r;var d=xu(r);if(d){if(f=CT(r),!t)return LT(r,f)}else{var m=ks(r),y=m==gu||m==Og;if(PT(r))return xT(r,t);if(m==bu||m==mu||y&&!a){if(Vg(r))return a?r:{};if(f=_T(y?{}:r),!t)return OT(r,pT(f,r))}else{if(!Qt[m])return a?r:{};f=kT(r,m,pu,t)}}u||(u=new Li);var b=u.get(r);if(b)return b;if(u.set(r,f),!d)var N=e?qT(r):Eu(r);return q2(N||r,function(A,E){N&&(E=A,A=r[E]),Gg(f,E,pu(A,t,e,n,E,r,u))}),f}function mT(r){return ta(r)?M2(r):{}}function gT(r,t,e){var n=t(r);return xu(r)?n:C2(n,e(r))}function bT(r){return Jl.call(r)}function yT(r){if(!ta(r)||BT(r))return!1;var t=Yg(r)||Vg(r)?B2:A2;return t.test(Is(r))}function vT(r){if(!Xg(r))return F2(r);var t=[];for(var e in Object(r))os.call(r,e)&&e!="constructor"&&t.push(e);return t}function xT(r,t){if(t)return r.slice();var e=new r.constructor(r.length);return r.copy(e),e}function vu(r){var t=new r.constructor(r.byteLength);return new xg(t).set(new xg(r)),t}function ET(r,t){var e=t?vu(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}function AT(r,t,e){var n=t?e(mg(r),!0):mg(r);return $g(n,L2,new r.constructor)}function wT(r){var t=new r.constructor(r.source,E2.exec(r));return t.lastIndex=r.lastIndex,t}function NT(r,t,e){var n=t?e(gg(r),!0):gg(r);return $g(n,O2,new r.constructor)}function TT(r){return wg?Object(wg.call(r)):{}}function ST(r,t){var e=t?vu(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}function LT(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}function Wg(r,t,e,n){e||(e={});for(var l=-1,a=t.length;++l<a;){var u=t[l],f=n?n(e[u],r[u],u,e,r):void 0;Gg(e,u,f===void 0?r[u]:f)}return e}function OT(r,t){return Wg(r,Zg(r),t)}function qT(r){return gT(r,Eu,Zg)}function Yl(r,t){var e=r.__data__;return IT(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Oi(r,t){var e=k2(r,t);return yT(e)?e:void 0}var Zg=Eg?yu(Eg,Object):HT,ks=bT;(uu&&ks(new uu(new ArrayBuffer(1)))!=Zl||wo&&ks(new wo)!=Gl||hu&&ks(hu.resolve())!=dg||fu&&ks(new fu)!=Wl||du&&ks(new du)!=cu)&&(ks=function(r){var t=Jl.call(r),e=t==bu?r.constructor:void 0,n=e?Is(e):void 0;if(n)switch(n){case H2:return Zl;case z2:return Gl;case $2:return dg;case V2:return Wl;case K2:return cu}return t});function CT(r){var t=r.length,e=r.constructor(t);return t&&typeof r[0]=="string"&&os.call(r,"index")&&(e.index=r.index,e.input=r.input),e}function _T(r){return typeof r.constructor=="function"&&!Xg(r)?mT(j2(r)):{}}function kT(r,t,e,n){var l=r.constructor;switch(t){case Rg:return vu(r);case Sg:case Lg:return new l(+r);case Zl:return ET(r,n);case Ig:case Bg:case jg:case Mg:case Dg:case Pg:case Ug:case Fg:case Hg:return ST(r,n);case Gl:return AT(r,n,e);case qg:case _g:return new l(r);case Cg:return wT(r);case Wl:return NT(r,n,e);case kg:return TT(r)}}function RT(r,t){return t=t??Tg,!!t&&(typeof r=="number"||w2.test(r))&&r>-1&&r%1==0&&r<t}function IT(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function BT(r){return!!bg&&bg in r}function Xg(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||Xl;return r===e}function Is(r){if(r!=null){try{return Kg.call(r)}catch{}try{return r+""}catch{}}return""}function jT(r){return pu(r,!0,!0)}function Jg(r,t){return r===t||r!==r&&t!==t}function MT(r){return DT(r)&&os.call(r,"callee")&&(!D2.call(r,"callee")||Jl.call(r)==mu)}var xu=Array.isArray;function Qg(r){return r!=null&&UT(r.length)&&!Yg(r)}function DT(r){return FT(r)&&Qg(r)}var PT=U2||zT;function Yg(r){var t=ta(r)?Jl.call(r):"";return t==gu||t==Og}function UT(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Tg}function ta(r){var t=typeof r;return!!r&&(t=="object"||t=="function")}function FT(r){return!!r&&typeof r=="object"}function Eu(r){return Qg(r)?dT(r):vT(r)}function HT(){return[]}function zT(){return!1}Ti.exports=jT});var Iu=En((To,Ci)=>{var $T=200,Ru="__lodash_hash_undefined__",aa=1,h1=2,f1=9007199254740991,ea="[object Arguments]",Su="[object Array]",VT="[object AsyncFunction]",d1="[object Boolean]",p1="[object Date]",m1="[object Error]",g1="[object Function]",KT="[object GeneratorFunction]",ra="[object Map]",b1="[object Number]",GT="[object Null]",qi="[object Object]",t1="[object Promise]",WT="[object Proxy]",y1="[object RegExp]",na="[object Set]",v1="[object String]",ZT="[object Symbol]",XT="[object Undefined]",Lu="[object WeakMap]",x1="[object ArrayBuffer]",sa="[object DataView]",JT="[object Float32Array]",QT="[object Float64Array]",YT="[object Int8Array]",t5="[object Int16Array]",e5="[object Int32Array]",r5="[object Uint8Array]",n5="[object Uint8ClampedArray]",s5="[object Uint16Array]",i5="[object Uint32Array]",o5=/[\\^$.*+?()[\]{}|]/g,l5=/^\[object .+?Constructor\]$/,a5=/^(?:0|[1-9]\d*)$/,re={};re[JT]=re[QT]=re[YT]=re[t5]=re[e5]=re[r5]=re[n5]=re[s5]=re[i5]=!0;re[ea]=re[Su]=re[x1]=re[d1]=re[sa]=re[p1]=re[m1]=re[g1]=re[ra]=re[b1]=re[qi]=re[y1]=re[na]=re[v1]=re[Lu]=!1;var E1=typeof global=="object"&&global&&global.Object===Object&&global,c5=typeof self=="object"&&self&&self.Object===Object&&self,qn=E1||c5||Function("return this")(),A1=typeof To=="object"&&To&&!To.nodeType&&To,e1=A1&&typeof Ci=="object"&&Ci&&!Ci.nodeType&&Ci,w1=e1&&e1.exports===A1,wu=w1&&E1.process,r1=function(){try{return wu&&wu.binding&&wu.binding("util")}catch{}}(),n1=r1&&r1.isTypedArray;function u5(r,t){for(var e=-1,n=r==null?0:r.length,l=0,a=[];++e<n;){var u=r[e];t(u,e,r)&&(a[l++]=u)}return a}function h5(r,t){for(var e=-1,n=t.length,l=r.length;++e<n;)r[l+e]=t[e];return r}function f5(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function d5(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}function p5(r){return function(t){return r(t)}}function m5(r,t){return r.has(t)}function g5(r,t){return r?.[t]}function b5(r){var t=-1,e=Array(r.size);return r.forEach(function(n,l){e[++t]=[l,n]}),e}function y5(r,t){return function(e){return r(t(e))}}function v5(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var x5=Array.prototype,E5=Function.prototype,ca=Object.prototype,Nu=qn["__core-js_shared__"],N1=E5.toString,cn=ca.hasOwnProperty,s1=function(){var r=/[^.]+$/.exec(Nu&&Nu.keys&&Nu.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),T1=ca.toString,A5=RegExp("^"+N1.call(cn).replace(o5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),i1=w1?qn.Buffer:void 0,ia=qn.Symbol,o1=qn.Uint8Array,S1=ca.propertyIsEnumerable,w5=x5.splice,Bs=ia?ia.toStringTag:void 0,l1=Object.getOwnPropertySymbols,N5=i1?i1.isBuffer:void 0,T5=y5(Object.keys,Object),Ou=_i(qn,"DataView"),So=_i(qn,"Map"),qu=_i(qn,"Promise"),Cu=_i(qn,"Set"),_u=_i(qn,"WeakMap"),Lo=_i(Object,"create"),S5=Ds(Ou),L5=Ds(So),O5=Ds(qu),q5=Ds(Cu),C5=Ds(_u),a1=ia?ia.prototype:void 0,Tu=a1?a1.valueOf:void 0;function js(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function _5(){this.__data__=Lo?Lo(null):{},this.size=0}function k5(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}function R5(r){var t=this.__data__;if(Lo){var e=t[r];return e===Ru?void 0:e}return cn.call(t,r)?t[r]:void 0}function I5(r){var t=this.__data__;return Lo?t[r]!==void 0:cn.call(t,r)}function B5(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=Lo&&t===void 0?Ru:t,this}js.prototype.clear=_5;js.prototype.delete=k5;js.prototype.get=R5;js.prototype.has=I5;js.prototype.set=B5;function Cn(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function j5(){this.__data__=[],this.size=0}function M5(r){var t=this.__data__,e=ua(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():w5.call(t,e,1),--this.size,!0}function D5(r){var t=this.__data__,e=ua(t,r);return e<0?void 0:t[e][1]}function P5(r){return ua(this.__data__,r)>-1}function U5(r,t){var e=this.__data__,n=ua(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}Cn.prototype.clear=j5;Cn.prototype.delete=M5;Cn.prototype.get=D5;Cn.prototype.has=P5;Cn.prototype.set=U5;function Ms(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function F5(){this.size=0,this.__data__={hash:new js,map:new(So||Cn),string:new js}}function H5(r){var t=ha(this,r).delete(r);return this.size-=t?1:0,t}function z5(r){return ha(this,r).get(r)}function $5(r){return ha(this,r).has(r)}function V5(r,t){var e=ha(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}Ms.prototype.clear=F5;Ms.prototype.delete=H5;Ms.prototype.get=z5;Ms.prototype.has=$5;Ms.prototype.set=V5;function oa(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new Ms;++t<e;)this.add(r[t])}function K5(r){return this.__data__.set(r,Ru),this}function G5(r){return this.__data__.has(r)}oa.prototype.add=oa.prototype.push=K5;oa.prototype.has=G5;function as(r){var t=this.__data__=new Cn(r);this.size=t.size}function W5(){this.__data__=new Cn,this.size=0}function Z5(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function X5(r){return this.__data__.get(r)}function J5(r){return this.__data__.has(r)}function Q5(r,t){var e=this.__data__;if(e instanceof Cn){var n=e.__data__;if(!So||n.length<$T-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new Ms(n)}return e.set(r,t),this.size=e.size,this}as.prototype.clear=W5;as.prototype.delete=Z5;as.prototype.get=X5;as.prototype.has=J5;as.prototype.set=Q5;function Y5(r,t){var e=la(r),n=!e&&pS(r),l=!e&&!n&&ku(r),a=!e&&!n&&!l&&R1(r),u=e||n||l||a,f=u?d5(r.length,String):[],d=f.length;for(var m in r)(t||cn.call(r,m))&&!(u&&(m=="length"||l&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||cS(m,d)))&&f.push(m);return f}function ua(r,t){for(var e=r.length;e--;)if(q1(r[e][0],t))return e;return-1}function tS(r,t,e){var n=t(r);return la(r)?n:h5(n,e(r))}function qo(r){return r==null?r===void 0?XT:GT:Bs&&Bs in Object(r)?lS(r):dS(r)}function c1(r){return Oo(r)&&qo(r)==ea}function L1(r,t,e,n,l){return r===t?!0:r==null||t==null||!Oo(r)&&!Oo(t)?r!==r&&t!==t:eS(r,t,e,n,L1,l)}function eS(r,t,e,n,l,a){var u=la(r),f=la(t),d=u?Su:ls(r),m=f?Su:ls(t);d=d==ea?qi:d,m=m==ea?qi:m;var y=d==qi,b=m==qi,N=d==m;if(N&&ku(r)){if(!ku(t))return!1;u=!0,y=!1}if(N&&!y)return a||(a=new as),u||R1(r)?O1(r,t,e,n,l,a):iS(r,t,d,e,n,l,a);if(!(e&aa)){var A=y&&cn.call(r,"__wrapped__"),E=b&&cn.call(t,"__wrapped__");if(A||E){var k=A?r.value():r,x=E?t.value():t;return a||(a=new as),l(k,x,e,n,a)}}return N?(a||(a=new as),oS(r,t,e,n,l,a)):!1}function rS(r){if(!k1(r)||hS(r))return!1;var t=C1(r)?A5:l5;return t.test(Ds(r))}function nS(r){return Oo(r)&&_1(r.length)&&!!re[qo(r)]}function sS(r){if(!fS(r))return T5(r);var t=[];for(var e in Object(r))cn.call(r,e)&&e!="constructor"&&t.push(e);return t}function O1(r,t,e,n,l,a){var u=e&aa,f=r.length,d=t.length;if(f!=d&&!(u&&d>f))return!1;var m=a.get(r);if(m&&a.get(t))return m==t;var y=-1,b=!0,N=e&h1?new oa:void 0;for(a.set(r,t),a.set(t,r);++y<f;){var A=r[y],E=t[y];if(n)var k=u?n(E,A,y,t,r,a):n(A,E,y,r,t,a);if(k!==void 0){if(k)continue;b=!1;break}if(N){if(!f5(t,function(x,T){if(!m5(N,T)&&(A===x||l(A,x,e,n,a)))return N.push(T)})){b=!1;break}}else if(!(A===E||l(A,E,e,n,a))){b=!1;break}}return a.delete(r),a.delete(t),b}function iS(r,t,e,n,l,a,u){switch(e){case sa:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case x1:return!(r.byteLength!=t.byteLength||!a(new o1(r),new o1(t)));case d1:case p1:case b1:return q1(+r,+t);case m1:return r.name==t.name&&r.message==t.message;case y1:case v1:return r==t+"";case ra:var f=b5;case na:var d=n&aa;if(f||(f=v5),r.size!=t.size&&!d)return!1;var m=u.get(r);if(m)return m==t;n|=h1,u.set(r,t);var y=O1(f(r),f(t),n,l,a,u);return u.delete(r),y;case ZT:if(Tu)return Tu.call(r)==Tu.call(t)}return!1}function oS(r,t,e,n,l,a){var u=e&aa,f=u1(r),d=f.length,m=u1(t),y=m.length;if(d!=y&&!u)return!1;for(var b=d;b--;){var N=f[b];if(!(u?N in t:cn.call(t,N)))return!1}var A=a.get(r);if(A&&a.get(t))return A==t;var E=!0;a.set(r,t),a.set(t,r);for(var k=u;++b<d;){N=f[b];var x=r[N],T=t[N];if(n)var C=u?n(T,x,N,t,r,a):n(x,T,N,r,t,a);if(!(C===void 0?x===T||l(x,T,e,n,a):C)){E=!1;break}k||(k=N=="constructor")}if(E&&!k){var _=r.constructor,j=t.constructor;_!=j&&"constructor"in r&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(E=!1)}return a.delete(r),a.delete(t),E}function u1(r){return tS(r,bS,aS)}function ha(r,t){var e=r.__data__;return uS(t)?e[typeof t=="string"?"string":"hash"]:e.map}function _i(r,t){var e=g5(r,t);return rS(e)?e:void 0}function lS(r){var t=cn.call(r,Bs),e=r[Bs];try{r[Bs]=void 0;var n=!0}catch{}var l=T1.call(r);return n&&(t?r[Bs]=e:delete r[Bs]),l}var aS=l1?function(r){return r==null?[]:(r=Object(r),u5(l1(r),function(t){return S1.call(r,t)}))}:yS,ls=qo;(Ou&&ls(new Ou(new ArrayBuffer(1)))!=sa||So&&ls(new So)!=ra||qu&&ls(qu.resolve())!=t1||Cu&&ls(new Cu)!=na||_u&&ls(new _u)!=Lu)&&(ls=function(r){var t=qo(r),e=t==qi?r.constructor:void 0,n=e?Ds(e):"";if(n)switch(n){case S5:return sa;case L5:return ra;case O5:return t1;case q5:return na;case C5:return Lu}return t});function cS(r,t){return t=t??f1,!!t&&(typeof r=="number"||a5.test(r))&&r>-1&&r%1==0&&r<t}function uS(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function hS(r){return!!s1&&s1 in r}function fS(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||ca;return r===e}function dS(r){return T1.call(r)}function Ds(r){if(r!=null){try{return N1.call(r)}catch{}try{return r+""}catch{}}return""}function q1(r,t){return r===t||r!==r&&t!==t}var pS=c1(function(){return arguments}())?c1:function(r){return Oo(r)&&cn.call(r,"callee")&&!S1.call(r,"callee")},la=Array.isArray;function mS(r){return r!=null&&_1(r.length)&&!C1(r)}var ku=N5||vS;function gS(r,t){return L1(r,t)}function C1(r){if(!k1(r))return!1;var t=qo(r);return t==g1||t==KT||t==VT||t==WT}function _1(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=f1}function k1(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function Oo(r){return r!=null&&typeof r=="object"}var R1=n1?p5(n1):nS;function bS(r){return mS(r)?Y5(r):sS(r)}function yS(){return[]}function vS(){return!1}Ci.exports=gS});var I1=En(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var xS=Au(),ES=Iu(),Bu;(function(r){function t(a={},u={},f=!1){typeof a!="object"&&(a={}),typeof u!="object"&&(u={});let d=xS(u);f||(d=Object.keys(d).reduce((m,y)=>(d[y]!=null&&(m[y]=d[y]),m),{}));for(let m in a)a[m]!==void 0&&u[m]===void 0&&(d[m]=a[m]);return Object.keys(d).length>0?d:void 0}r.compose=t;function e(a={},u={}){typeof a!="object"&&(a={}),typeof u!="object"&&(u={});let f=Object.keys(a).concat(Object.keys(u)).reduce((d,m)=>(ES(a[m],u[m])||(d[m]=u[m]===void 0?null:u[m]),d),{});return Object.keys(f).length>0?f:void 0}r.diff=e;function n(a={},u={}){a=a||{};let f=Object.keys(u).reduce((d,m)=>(u[m]!==a[m]&&a[m]!==void 0&&(d[m]=u[m]),d),{});return Object.keys(a).reduce((d,m)=>(a[m]!==u[m]&&u[m]===void 0&&(d[m]=null),d),f)}r.invert=n;function l(a,u,f=!1){if(typeof a!="object")return u;if(typeof u!="object")return;if(!f)return u;let d=Object.keys(u).reduce((m,y)=>(a[y]===void 0&&(m[y]=u[y]),m),{});return Object.keys(d).length>0?d:void 0}r.transform=l})(Bu||(Bu={}));ju.default=Bu});var Pu=En(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var Mu;(function(r){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}r.length=t})(Mu||(Mu={}));Du.default=Mu});var j1=En(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});var B1=Pu(),Uu=class{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);let e=this.ops[this.index];if(e){let n=this.offset,l=B1.default.length(e);if(t>=l-n?(t=l-n,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{let a={};return e.attributes&&(a.attributes=e.attributes),typeof e.retain=="number"?a.retain=t:typeof e.retain=="object"&&e.retain!==null?a.retain=e.retain:typeof e.insert=="string"?a.insert=e.insert.substr(n,t):a.insert=e.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?B1.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{let t=this.offset,e=this.index,n=this.next(),l=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(l)}}else return[]}};Fu.default=Uu});var vr=En((kn,da)=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.AttributeMap=kn.OpIterator=kn.Op=void 0;var fa=fg(),AS=Au(),Hu=Iu(),Ps=I1();kn.AttributeMap=Ps.default;var _n=Pu();kn.Op=_n.default;var qr=j1();kn.OpIterator=qr.default;var wS="\0",M1=(r,t)=>{if(typeof r!="object"||r===null)throw new Error(`cannot retain a ${typeof r}`);if(typeof t!="object"||t===null)throw new Error(`cannot retain a ${typeof t}`);let e=Object.keys(r)[0];if(!e||e!==Object.keys(t)[0])throw new Error(`embed types not matched: ${e} != ${Object.keys(t)[0]}`);return[e,r[e],t[e]]},Rn=class r{constructor(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){let e=this.handlers[t];if(!e)throw new Error(`no handlers for embed type "${t}"`);return e}insert(t,e){let n={};return typeof t=="string"&&t.length===0?this:(n.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))}delete(t){return t<=0?this:this.push({delete:t})}retain(t,e){if(typeof t=="number"&&t<=0)return this;let n={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)}push(t){let e=this.ops.length,n=this.ops[e-1];if(t=AS(t),typeof n=="object"){if(typeof t.delete=="number"&&typeof n.delete=="number")return this.ops[e-1]={delete:n.delete+t.delete},this;if(typeof n.delete=="number"&&t.insert!=null&&(e-=1,n=this.ops[e-1],typeof n!="object"))return this.ops.unshift(t),this;if(Hu(t.attributes,n.attributes)){if(typeof t.insert=="string"&&typeof n.insert=="string")return this.ops[e-1]={insert:n.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof n.retain=="number")return this.ops[e-1]={retain:n.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this}chop(){let t=this.ops[this.ops.length-1];return t&&typeof t.retain=="number"&&!t.attributes&&this.ops.pop(),this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){let e=[],n=[];return this.forEach(l=>{(t(l)?e:n).push(l)}),[e,n]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce((t,e)=>e.insert?t+_n.default.length(e):e.delete?t-e.delete:t,0)}length(){return this.reduce((t,e)=>t+_n.default.length(e),0)}slice(t=0,e=1/0){let n=[],l=new qr.default(this.ops),a=0;for(;a<e&&l.hasNext();){let u;a<t?u=l.next(t-a):(u=l.next(e-a),n.push(u)),a+=_n.default.length(u)}return new r(n)}compose(t){let e=new qr.default(this.ops),n=new qr.default(t.ops),l=[],a=n.peek();if(a!=null&&typeof a.retain=="number"&&a.attributes==null){let f=a.retain;for(;e.peekType()==="insert"&&e.peekLength()<=f;)f-=e.peekLength(),l.push(e.next());a.retain-f>0&&n.next(a.retain-f)}let u=new r(l);for(;e.hasNext()||n.hasNext();)if(n.peekType()==="insert")u.push(n.next());else if(e.peekType()==="delete")u.push(e.next());else{let f=Math.min(e.peekLength(),n.peekLength()),d=e.next(f),m=n.next(f);if(m.retain){let y={};if(typeof d.retain=="number")y.retain=typeof m.retain=="number"?f:m.retain;else if(typeof m.retain=="number")d.retain==null?y.insert=d.insert:y.retain=d.retain;else{let N=d.retain==null?"insert":"retain",[A,E,k]=M1(d[N],m.retain),x=r.getHandler(A);y[N]={[A]:x.compose(E,k,N==="retain")}}let b=Ps.default.compose(d.attributes,m.attributes,typeof d.retain=="number");if(b&&(y.attributes=b),u.push(y),!n.hasNext()&&Hu(u.ops[u.ops.length-1],y)){let N=new r(e.rest());return u.concat(N).chop()}}else typeof m.delete=="number"&&(typeof d.retain=="number"||typeof d.retain=="object"&&d.retain!==null)&&u.push(m)}return u.chop()}concat(t){let e=new r(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e}diff(t,e){if(this.ops===t.ops)return new r;let n=[this,t].map(d=>d.map(m=>{if(m.insert!=null)return typeof m.insert=="string"?m.insert:wS;let y=d===t?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")),l=new r,a=fa(n[0],n[1],e,!0),u=new qr.default(this.ops),f=new qr.default(t.ops);return a.forEach(d=>{let m=d[1].length;for(;m>0;){let y=0;switch(d[0]){case fa.INSERT:y=Math.min(f.peekLength(),m),l.push(f.next(y));break;case fa.DELETE:y=Math.min(m,u.peekLength()),u.next(y),l.delete(y);break;case fa.EQUAL:y=Math.min(u.peekLength(),f.peekLength(),m);let b=u.next(y),N=f.next(y);Hu(b.insert,N.insert)?l.retain(y,Ps.default.diff(b.attributes,N.attributes)):l.push(N).delete(y);break}m-=y}}),l.chop()}eachLine(t,e=`
`){let n=new qr.default(this.ops),l=new r,a=0;for(;n.hasNext();){if(n.peekType()!=="insert")return;let u=n.peek(),f=_n.default.length(u)-n.peekLength(),d=typeof u.insert=="string"?u.insert.indexOf(e,f)-f:-1;if(d<0)l.push(n.next());else if(d>0)l.push(n.next(d));else{if(t(l,n.next(1).attributes||{},a)===!1)return;a+=1,l=new r}}l.length()>0&&t(l,{},a)}invert(t){let e=new r;return this.reduce((n,l)=>{if(l.insert)e.delete(_n.default.length(l));else{if(typeof l.retain=="number"&&l.attributes==null)return e.retain(l.retain),n+l.retain;if(l.delete||typeof l.retain=="number"){let a=l.delete||l.retain;return t.slice(n,n+a).forEach(f=>{l.delete?e.push(f):l.retain&&l.attributes&&e.retain(_n.default.length(f),Ps.default.invert(l.attributes,f.attributes))}),n+a}else if(typeof l.retain=="object"&&l.retain!==null){let a=t.slice(n,n+1),u=new qr.default(a.ops).next(),[f,d,m]=M1(l.retain,u.insert),y=r.getHandler(f);return e.retain({[f]:y.invert(d,m)},Ps.default.invert(l.attributes,u.attributes)),n+1}}return n},0),e.chop()}transform(t,e=!1){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);let n=t,l=new qr.default(this.ops),a=new qr.default(n.ops),u=new r;for(;l.hasNext()||a.hasNext();)if(l.peekType()==="insert"&&(e||a.peekType()!=="insert"))u.retain(_n.default.length(l.next()));else if(a.peekType()==="insert")u.push(a.next());else{let f=Math.min(l.peekLength(),a.peekLength()),d=l.next(f),m=a.next(f);if(d.delete)continue;if(m.delete)u.push(m);else{let y=d.retain,b=m.retain,N=typeof b=="object"&&b!==null?b:f;if(typeof y=="object"&&y!==null&&typeof b=="object"&&b!==null){let A=Object.keys(y)[0];if(A===Object.keys(b)[0]){let E=r.getHandler(A);E&&(N={[A]:E.transform(y[A],b[A],e)})}}u.retain(N,Ps.default.transform(d.attributes,m.attributes,e))}}return u.chop()}transformPosition(t,e=!1){e=!!e;let n=new qr.default(this.ops),l=0;for(;n.hasNext()&&l<=t;){let a=n.peekLength(),u=n.peekType();if(n.next(),u==="delete"){t-=Math.min(a,t-l);continue}else u==="insert"&&(l<t||!e)&&(t+=a);l+=a}return t}};Rn.Op=_n.default;Rn.OpIterator=qr.default;Rn.AttributeMap=Ps.default;Rn.handlers={};kn.default=Rn;typeof da=="object"&&(da.exports=Rn,da.exports.default=Rn)});var U1=En((ER,Gu)=>{"use strict";var NS=Object.prototype.hasOwnProperty,er="~";function _o(){}Object.create&&(_o.prototype=Object.create(null),new _o().__proto__||(er=!1));function TS(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function P1(r,t,e,n,l){if(typeof e!="function")throw new TypeError("The listener must be a function");var a=new TS(e,n||r,l),u=er?er+t:t;return r._events[u]?r._events[u].fn?r._events[u]=[r._events[u],a]:r._events[u].push(a):(r._events[u]=a,r._eventsCount++),r}function pa(r,t){--r._eventsCount===0?r._events=new _o:delete r._events[t]}function Ke(){this._events=new _o,this._eventsCount=0}Ke.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)NS.call(e,n)&&t.push(er?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Ke.prototype.listeners=function(t){var e=er?er+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var l=0,a=n.length,u=new Array(a);l<a;l++)u[l]=n[l].fn;return u};Ke.prototype.listenerCount=function(t){var e=er?er+t:t,n=this._events[e];return n?n.fn?1:n.length:0};Ke.prototype.emit=function(t,e,n,l,a,u){var f=er?er+t:t;if(!this._events[f])return!1;var d=this._events[f],m=arguments.length,y,b;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),m){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,l),!0;case 5:return d.fn.call(d.context,e,n,l,a),!0;case 6:return d.fn.call(d.context,e,n,l,a,u),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];d.fn.apply(d.context,y)}else{var N=d.length,A;for(b=0;b<N;b++)switch(d[b].once&&this.removeListener(t,d[b].fn,void 0,!0),m){case 1:d[b].fn.call(d[b].context);break;case 2:d[b].fn.call(d[b].context,e);break;case 3:d[b].fn.call(d[b].context,e,n);break;case 4:d[b].fn.call(d[b].context,e,n,l);break;default:if(!y)for(A=1,y=new Array(m-1);A<m;A++)y[A-1]=arguments[A];d[b].fn.apply(d[b].context,y)}}return!0};Ke.prototype.on=function(t,e,n){return P1(this,t,e,n,!1)};Ke.prototype.once=function(t,e,n){return P1(this,t,e,n,!0)};Ke.prototype.removeListener=function(t,e,n,l){var a=er?er+t:t;if(!this._events[a])return this;if(!e)return pa(this,a),this;var u=this._events[a];if(u.fn)u.fn===e&&(!l||u.once)&&(!n||u.context===n)&&pa(this,a);else{for(var f=0,d=[],m=u.length;f<m;f++)(u[f].fn!==e||l&&!u[f].once||n&&u[f].context!==n)&&d.push(u[f]);d.length?this._events[a]=d.length===1?d[0]:d:pa(this,a)}return this};Ke.prototype.removeAllListeners=function(t){var e;return t?(e=er?er+t:t,this._events[e]&&pa(this,e)):(this._events=new _o,this._eventsCount=0),this};Ke.prototype.off=Ke.prototype.removeListener;Ke.prototype.addListener=Ke.prototype.on;Ke.prefixed=er;Ke.EventEmitter=Ke;typeof Gu<"u"&&(Gu.exports=Ke)});var Ob=En((We,nr)=>{(function(r,t){if(typeof We=="object"&&typeof nr=="object")nr.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e=t();for(var n in e)(typeof We=="object"?We:r)[n]=e[n]}})(self,()=>(()=>{var r={64:(n,l,a)=>{(n.exports=a(765)(!1)).push([n.id,`.ql-html-overlayContainer {
  background: #0000007d;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
}

.ql-html-popupContainer {
  background: #ddd;
  position: absolute;
  top: 5%;
  left: 5%;
  right: 5%;
  bottom: 5%;
  border-radius: 10px;
}

.ql-html-textContainer {
  position: relative;
  height: calc(100% - 40px);
  padding: 20px;
}

.ql-html-textArea {
  background: #fff;
  position: absolute;
  left: 15px;
  width: calc(100% - 30px);
  height: calc(100% - 60px) !important;
}

.ql-html-textArea .ql-syntax {
  word-break: break-all;
  white-space: pre-wrap;
}

.ql-html-buttonCancel {
  margin-right: 20px;
}

.ql-html-popupTitle {
  margin: 0;
  display: block;
  font-style: italic;
}

.ql-html-buttonGroup {
  position: absolute;
  bottom: 20px;
  transform: scale(1.5);
  left: calc(50% - 60px);
}
`,""])},765:n=>{n.exports=function(l){var a=[];return a.toString=function(){return this.map(function(u){var f=function(d,m){var y=d[1]||"",b=d[3];if(!b)return y;if(m&&typeof btoa=="function"){var N=(E=b,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(E))))+" */"),A=b.sources.map(function(k){return"/*# sourceURL="+b.sourceRoot+k+" */"});return[y].concat(A).concat([N]).join(`
`)}var E;return[y].join(`
`)}(u,l);return u[2]?"@media "+u[2]+"{"+f+"}":f}).join("")},a.i=function(u,f){typeof u=="string"&&(u=[[null,u,""]]);for(var d={},m=0;m<this.length;m++){var y=this[m][0];typeof y=="number"&&(d[y]=!0)}for(m=0;m<u.length;m++){var b=u[m];typeof b[0]=="number"&&d[b[0]]||(f&&!b[2]?b[2]=f:f&&(b[2]="("+b[2]+") and ("+f+")"),a.push(b))}},a}},228:n=>{"use strict";var l=Object.prototype.hasOwnProperty,a="~";function u(){}function f(b,N,A){this.fn=b,this.context=N,this.once=A||!1}function d(b,N,A,E,k){if(typeof A!="function")throw new TypeError("The listener must be a function");var x=new f(A,E||b,k),T=a?a+N:N;return b._events[T]?b._events[T].fn?b._events[T]=[b._events[T],x]:b._events[T].push(x):(b._events[T]=x,b._eventsCount++),b}function m(b,N){--b._eventsCount==0?b._events=new u:delete b._events[N]}function y(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1)),y.prototype.eventNames=function(){var b,N,A=[];if(this._eventsCount===0)return A;for(N in b=this._events)l.call(b,N)&&A.push(a?N.slice(1):N);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(b)):A},y.prototype.listeners=function(b){var N=a?a+b:b,A=this._events[N];if(!A)return[];if(A.fn)return[A.fn];for(var E=0,k=A.length,x=new Array(k);E<k;E++)x[E]=A[E].fn;return x},y.prototype.listenerCount=function(b){var N=a?a+b:b,A=this._events[N];return A?A.fn?1:A.length:0},y.prototype.emit=function(b,N,A,E,k,x){var T=a?a+b:b;if(!this._events[T])return!1;var C,_,j=this._events[T],H=arguments.length;if(j.fn){switch(j.once&&this.removeListener(b,j.fn,void 0,!0),H){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,N),!0;case 3:return j.fn.call(j.context,N,A),!0;case 4:return j.fn.call(j.context,N,A,E),!0;case 5:return j.fn.call(j.context,N,A,E,k),!0;case 6:return j.fn.call(j.context,N,A,E,k,x),!0}for(_=1,C=new Array(H-1);_<H;_++)C[_-1]=arguments[_];j.fn.apply(j.context,C)}else{var Z,G=j.length;for(_=0;_<G;_++)switch(j[_].once&&this.removeListener(b,j[_].fn,void 0,!0),H){case 1:j[_].fn.call(j[_].context);break;case 2:j[_].fn.call(j[_].context,N);break;case 3:j[_].fn.call(j[_].context,N,A);break;case 4:j[_].fn.call(j[_].context,N,A,E);break;default:if(!C)for(Z=1,C=new Array(H-1);Z<H;Z++)C[Z-1]=arguments[Z];j[_].fn.apply(j[_].context,C)}}return!0},y.prototype.on=function(b,N,A){return d(this,b,N,A,!1)},y.prototype.once=function(b,N,A){return d(this,b,N,A,!0)},y.prototype.removeListener=function(b,N,A,E){var k=a?a+b:b;if(!this._events[k])return this;if(!N)return m(this,k),this;var x=this._events[k];if(x.fn)x.fn!==N||E&&!x.once||A&&x.context!==A||m(this,k);else{for(var T=0,C=[],_=x.length;T<_;T++)(x[T].fn!==N||E&&!x[T].once||A&&x[T].context!==A)&&C.push(x[T]);C.length?this._events[k]=C.length===1?C[0]:C:m(this,k)}return this},y.prototype.removeAllListeners=function(b){var N;return b?(N=a?a+b:b,this._events[N]&&m(this,N)):(this._events=new u,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=a,y.EventEmitter=y,n.exports=y},606:n=>{var l=-1,a=1,u=0;function f(O,W,ot,q,D){if(O===W)return O?[[u,O]]:[];if(ot!=null){var K=function(F,pt,ft){var Nt=typeof ft=="number"?{index:ft,length:0}:ft.oldRange,Pt=typeof ft=="number"?null:ft.newRange,dt=F.length,It=pt.length;if(Nt.length===0&&(Pt===null||Pt.length===0)){var _t=Nt.index,ne=F.slice(0,_t),Ft=F.slice(_t),Yt=Pt?Pt.index:null,Vt=_t+It-dt;if((Yt===null||Yt===Vt)&&!(Vt<0||Vt>It)){var ue=pt.slice(0,Vt);if((jt=pt.slice(Vt))===Ft){var Bt=Math.min(_t,Vt);if((Lt=ne.slice(0,Bt))===(Et=ue.slice(0,Bt)))return Z(Lt,ne.slice(Bt),ue.slice(Bt),Ft)}}if(Yt===null||Yt===_t){var At=_t,jt=(ue=pt.slice(0,At),pt.slice(At));if(ue===ne){var mt=Math.min(dt-At,It-At);if((wt=Ft.slice(Ft.length-mt))===(Kt=jt.slice(jt.length-mt)))return Z(ne,Ft.slice(0,Ft.length-mt),jt.slice(0,jt.length-mt),wt)}}}if(Nt.length>0&&Pt&&Pt.length===0){var Lt=F.slice(0,Nt.index),wt=F.slice(Nt.index+Nt.length);if(!(It<(Bt=Lt.length)+(mt=wt.length))){var Et=pt.slice(0,Bt),Kt=pt.slice(It-mt);if(Lt===Et&&wt===Kt)return Z(Lt,F.slice(Bt,dt-mt),pt.slice(Bt,It-mt),wt)}}return null}(O,W,ot);if(K)return K}var V=m(O,W),X=O.substring(0,V);V=b(O=O.substring(V),W=W.substring(V));var lt=O.substring(O.length-V),yt=function(F,pt){var ft;if(!F)return[[a,pt]];if(!pt)return[[l,F]];var Nt=F.length>pt.length?F:pt,Pt=F.length>pt.length?pt:F,dt=Nt.indexOf(Pt);if(dt!==-1)return ft=[[a,Nt.substring(0,dt)],[u,Pt],[a,Nt.substring(dt+Pt.length)]],F.length>pt.length&&(ft[0][0]=ft[2][0]=l),ft;if(Pt.length===1)return[[l,F],[a,pt]];var It=function(At,jt){var mt=At.length>jt.length?At:jt,Lt=At.length>jt.length?jt:At;if(mt.length<4||2*Lt.length<mt.length)return null;function wt(se,de,Le){for(var Rt,ge,pe,be,ye=se.substring(Le,Le+Math.floor(se.length/4)),Tt=-1,Ht="";(Tt=de.indexOf(ye,Tt+1))!==-1;){var ie=m(se.substring(Le),de.substring(Tt)),qt=b(se.substring(0,Le),de.substring(0,Tt));Ht.length<qt+ie&&(Ht=de.substring(Tt-qt,Tt)+de.substring(Tt,Tt+ie),Rt=se.substring(0,Le-qt),ge=se.substring(Le+ie),pe=de.substring(0,Tt-qt),be=de.substring(Tt+ie))}return 2*Ht.length>=se.length?[Rt,ge,pe,be,Ht]:null}var Et,Kt,kt,Gt,te,he=wt(mt,Lt,Math.ceil(mt.length/4)),Ie=wt(mt,Lt,Math.ceil(mt.length/2));if(!he&&!Ie)return null;Et=Ie?he&&he[4].length>Ie[4].length?he:Ie:he,At.length>jt.length?(Kt=Et[0],kt=Et[1],Gt=Et[2],te=Et[3]):(Gt=Et[0],te=Et[1],Kt=Et[2],kt=Et[3]);var fe=Et[4];return[Kt,kt,Gt,te,fe]}(F,pt);if(It){var _t=It[0],ne=It[1],Ft=It[2],Yt=It[3],Vt=It[4],ue=f(_t,Ft),Bt=f(ne,Yt);return ue.concat([[u,Vt]],Bt)}return function(At,jt){for(var mt=At.length,Lt=jt.length,wt=Math.ceil((mt+Lt)/2),Et=wt,Kt=2*wt,kt=new Array(Kt),Gt=new Array(Kt),te=0;te<Kt;te++)kt[te]=-1,Gt[te]=-1;kt[Et+1]=0,Gt[Et+1]=0;for(var he=mt-Lt,Ie=he%2!=0,fe=0,se=0,de=0,Le=0,Rt=0;Rt<wt;Rt++){for(var ge=-Rt+fe;ge<=Rt-se;ge+=2){for(var pe=Et+ge,be=(qt=ge===-Rt||ge!==Rt&&kt[pe-1]<kt[pe+1]?kt[pe+1]:kt[pe-1]+1)-ge;qt<mt&&be<Lt&&At.charAt(qt)===jt.charAt(be);)qt++,be++;if(kt[pe]=qt,qt>mt)se+=2;else if(be>Lt)fe+=2;else if(Ie&&(Ht=Et+he-ge)>=0&&Ht<Kt&&Gt[Ht]!==-1&&qt>=(Tt=mt-Gt[Ht]))return d(At,jt,qt,be)}for(var ye=-Rt+de;ye<=Rt-Le;ye+=2){for(var Tt,Ht=Et+ye,ie=(Tt=ye===-Rt||ye!==Rt&&Gt[Ht-1]<Gt[Ht+1]?Gt[Ht+1]:Gt[Ht-1]+1)-ye;Tt<mt&&ie<Lt&&At.charAt(mt-Tt-1)===jt.charAt(Lt-ie-1);)Tt++,ie++;if(Gt[Ht]=Tt,Tt>mt)Le+=2;else if(ie>Lt)de+=2;else if(!Ie&&(pe=Et+he-ye)>=0&&pe<Kt&&kt[pe]!==-1){var qt;if(be=Et+(qt=kt[pe])-pe,qt>=(Tt=mt-Tt))return d(At,jt,qt,be)}}}return[[l,At],[a,jt]]}(F,pt)}(O=O.substring(0,O.length-V),W=W.substring(0,W.length-V));return X&&yt.unshift([u,X]),lt&&yt.push([u,lt]),T(yt,D),q&&function(F){for(var pt=!1,ft=[],Nt=0,Pt=null,dt=0,It=0,_t=0,ne=0,Ft=0;dt<F.length;)F[dt][0]==u?(ft[Nt++]=dt,It=ne,_t=Ft,ne=0,Ft=0,Pt=F[dt][1]):(F[dt][0]==a?ne+=F[dt][1].length:Ft+=F[dt][1].length,Pt&&Pt.length<=Math.max(It,_t)&&Pt.length<=Math.max(ne,Ft)&&(F.splice(ft[Nt-1],0,[l,Pt]),F[ft[Nt-1]+1][0]=a,Nt--,dt=--Nt>0?ft[Nt-1]:-1,It=0,_t=0,ne=0,Ft=0,Pt=null,pt=!0)),dt++;for(pt&&T(F),function(At){function jt(se,de){if(!se||!de)return 6;var Le=se.charAt(se.length-1),Rt=de.charAt(0),ge=Le.match(N),pe=Rt.match(N),be=ge&&Le.match(A),ye=pe&&Rt.match(A),Tt=be&&Le.match(E),Ht=ye&&Rt.match(E),ie=Tt&&se.match(k),qt=Ht&&de.match(x);return ie||qt?5:Tt||Ht?4:ge&&!be&&ye?3:be||ye?2:ge||pe?1:0}for(var mt=1;mt<At.length-1;){if(At[mt-1][0]==u&&At[mt+1][0]==u){var Lt=At[mt-1][1],wt=At[mt][1],Et=At[mt+1][1],Kt=b(Lt,wt);if(Kt){var kt=wt.substring(wt.length-Kt);Lt=Lt.substring(0,Lt.length-Kt),wt=kt+wt.substring(0,wt.length-Kt),Et=kt+Et}for(var Gt=Lt,te=wt,he=Et,Ie=jt(Lt,wt)+jt(wt,Et);wt.charAt(0)===Et.charAt(0);){Lt+=wt.charAt(0),wt=wt.substring(1)+Et.charAt(0),Et=Et.substring(1);var fe=jt(Lt,wt)+jt(wt,Et);fe>=Ie&&(Ie=fe,Gt=Lt,te=wt,he=Et)}At[mt-1][1]!=Gt&&(Gt?At[mt-1][1]=Gt:(At.splice(mt-1,1),mt--),At[mt][1]=te,he?At[mt+1][1]=he:(At.splice(mt+1,1),mt--))}mt++}}(F),dt=1;dt<F.length;){if(F[dt-1][0]==l&&F[dt][0]==a){var Yt=F[dt-1][1],Vt=F[dt][1],ue=y(Yt,Vt),Bt=y(Vt,Yt);ue>=Bt?(ue>=Yt.length/2||ue>=Vt.length/2)&&(F.splice(dt,0,[u,Vt.substring(0,ue)]),F[dt-1][1]=Yt.substring(0,Yt.length-ue),F[dt+1][1]=Vt.substring(ue),dt++):(Bt>=Yt.length/2||Bt>=Vt.length/2)&&(F.splice(dt,0,[u,Yt.substring(0,Bt)]),F[dt-1][0]=a,F[dt-1][1]=Vt.substring(0,Vt.length-Bt),F[dt+1][0]=l,F[dt+1][1]=Yt.substring(Bt),dt++),dt++}dt++}}(yt),yt}function d(O,W,ot,q){var D=O.substring(0,ot),K=W.substring(0,q),V=O.substring(ot),X=W.substring(q),lt=f(D,K),yt=f(V,X);return lt.concat(yt)}function m(O,W){if(!O||!W||O.charAt(0)!==W.charAt(0))return 0;for(var ot=0,q=Math.min(O.length,W.length),D=q,K=0;ot<D;)O.substring(K,D)==W.substring(K,D)?K=ot=D:q=D,D=Math.floor((q-ot)/2+ot);return C(O.charCodeAt(D-1))&&D--,D}function y(O,W){var ot=O.length,q=W.length;if(ot==0||q==0)return 0;ot>q?O=O.substring(ot-q):ot<q&&(W=W.substring(0,ot));var D=Math.min(ot,q);if(O==W)return D;for(var K=0,V=1;;){var X=O.substring(D-V),lt=W.indexOf(X);if(lt==-1)return K;V+=lt,lt!=0&&O.substring(D-V)!=W.substring(0,V)||(K=V,V++)}}function b(O,W){if(!O||!W||O.slice(-1)!==W.slice(-1))return 0;for(var ot=0,q=Math.min(O.length,W.length),D=q,K=0;ot<D;)O.substring(O.length-D,O.length-K)==W.substring(W.length-D,W.length-K)?K=ot=D:q=D,D=Math.floor((q-ot)/2+ot);return _(O.charCodeAt(O.length-D))&&D--,D}var N=/[^a-zA-Z0-9]/,A=/\s/,E=/[\r\n]/,k=/\n\r?\n$/,x=/^\r?\n\r?\n/;function T(O,W){O.push([u,""]);for(var ot,q=0,D=0,K=0,V="",X="";q<O.length;)if(q<O.length-1&&!O[q][1])O.splice(q,1);else switch(O[q][0]){case a:K++,X+=O[q][1],q++;break;case l:D++,V+=O[q][1],q++;break;case u:var lt=q-K-D-1;if(W){if(lt>=0&&H(O[lt][1])){var yt=O[lt][1].slice(-1);if(O[lt][1]=O[lt][1].slice(0,-1),V=yt+V,X=yt+X,!O[lt][1]){O.splice(lt,1),q--;var F=lt-1;O[F]&&O[F][0]===a&&(K++,X=O[F][1]+X,F--),O[F]&&O[F][0]===l&&(D++,V=O[F][1]+V,F--),lt=F}}j(O[q][1])&&(yt=O[q][1].charAt(0),O[q][1]=O[q][1].slice(1),V+=yt,X+=yt)}if(q<O.length-1&&!O[q][1]){O.splice(q,1);break}if(V.length>0||X.length>0){V.length>0&&X.length>0&&((ot=m(X,V))!==0&&(lt>=0?O[lt][1]+=X.substring(0,ot):(O.splice(0,0,[u,X.substring(0,ot)]),q++),X=X.substring(ot),V=V.substring(ot)),(ot=b(X,V))!==0&&(O[q][1]=X.substring(X.length-ot)+O[q][1],X=X.substring(0,X.length-ot),V=V.substring(0,V.length-ot)));var pt=K+D;V.length===0&&X.length===0?(O.splice(q-pt,pt),q-=pt):V.length===0?(O.splice(q-pt,pt,[a,X]),q=q-pt+1):X.length===0?(O.splice(q-pt,pt,[l,V]),q=q-pt+1):(O.splice(q-pt,pt,[l,V],[a,X]),q=q-pt+2)}q!==0&&O[q-1][0]===u?(O[q-1][1]+=O[q][1],O.splice(q,1)):q++,K=0,D=0,V="",X=""}O[O.length-1][1]===""&&O.pop();var ft=!1;for(q=1;q<O.length-1;)O[q-1][0]===u&&O[q+1][0]===u&&(O[q][1].substring(O[q][1].length-O[q-1][1].length)===O[q-1][1]?(O[q][1]=O[q-1][1]+O[q][1].substring(0,O[q][1].length-O[q-1][1].length),O[q+1][1]=O[q-1][1]+O[q+1][1],O.splice(q-1,1),ft=!0):O[q][1].substring(0,O[q+1][1].length)==O[q+1][1]&&(O[q-1][1]+=O[q+1][1],O[q][1]=O[q][1].substring(O[q+1][1].length)+O[q+1][1],O.splice(q+1,1),ft=!0)),q++;ft&&T(O,W)}function C(O){return O>=55296&&O<=56319}function _(O){return O>=56320&&O<=57343}function j(O){return _(O.charCodeAt(0))}function H(O){return C(O.charCodeAt(O.length-1))}function Z(O,W,ot,q){return H(O)||j(q)?null:function(D){for(var K=[],V=0;V<D.length;V++)D[V][1].length>0&&K.push(D[V]);return K}([[u,O],[l,W],[a,ot],[u,q]])}function G(O,W,ot,q){return f(O,W,ot,q,!0)}G.INSERT=a,G.DELETE=l,G.EQUAL=u,n.exports=G},193:(n,l,a)=>{n=a.nmd(n);var u="__lodash_hash_undefined__",f=9007199254740991,d="[object Arguments]",m="[object Boolean]",y="[object Date]",b="[object Function]",N="[object GeneratorFunction]",A="[object Map]",E="[object Number]",k="[object Object]",x="[object Promise]",T="[object RegExp]",C="[object Set]",_="[object String]",j="[object Symbol]",H="[object WeakMap]",Z="[object ArrayBuffer]",G="[object DataView]",O="[object Float32Array]",W="[object Float64Array]",ot="[object Int8Array]",q="[object Int16Array]",D="[object Int32Array]",K="[object Uint8Array]",V="[object Uint8ClampedArray]",X="[object Uint16Array]",lt="[object Uint32Array]",yt=/\w*$/,F=/^\[object .+?Constructor\]$/,pt=/^(?:0|[1-9]\d*)$/,ft={};ft[d]=ft["[object Array]"]=ft[Z]=ft[G]=ft[m]=ft[y]=ft[O]=ft[W]=ft[ot]=ft[q]=ft[D]=ft[A]=ft[E]=ft[k]=ft[T]=ft[C]=ft[_]=ft[j]=ft[K]=ft[V]=ft[X]=ft[lt]=!0,ft["[object Error]"]=ft[b]=ft[H]=!1;var Nt=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,Pt=typeof self=="object"&&self&&self.Object===Object&&self,dt=Nt||Pt||Function("return this")(),It=l&&!l.nodeType&&l,_t=It&&n&&!n.nodeType&&n,ne=_t&&_t.exports===It;function Ft(L,P){return L.set(P[0],P[1]),L}function Yt(L,P){return L.add(P),L}function Vt(L,P,Y,w){var R=-1,$=L?L.length:0;for(w&&$&&(Y=L[++R]);++R<$;)Y=P(Y,L[R],R,L);return Y}function ue(L){var P=!1;if(L!=null&&typeof L.toString!="function")try{P=!!(L+"")}catch{}return P}function Bt(L){var P=-1,Y=Array(L.size);return L.forEach(function(w,R){Y[++P]=[R,w]}),Y}function At(L,P){return function(Y){return L(P(Y))}}function jt(L){var P=-1,Y=Array(L.size);return L.forEach(function(w){Y[++P]=w}),Y}var mt,Lt=Array.prototype,wt=Function.prototype,Et=Object.prototype,Kt=dt["__core-js_shared__"],kt=(mt=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||""))?"Symbol(src)_1."+mt:"",Gt=wt.toString,te=Et.hasOwnProperty,he=Et.toString,Ie=RegExp("^"+Gt.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=ne?dt.Buffer:void 0,se=dt.Symbol,de=dt.Uint8Array,Le=At(Object.getPrototypeOf,Object),Rt=Object.create,ge=Et.propertyIsEnumerable,pe=Lt.splice,be=Object.getOwnPropertySymbols,ye=fe?fe.isBuffer:void 0,Tt=At(Object.keys,Object),Ht=sr(dt,"DataView"),ie=sr(dt,"Map"),qt=sr(dt,"Promise"),Ze=sr(dt,"Set"),Qr=sr(dt,"WeakMap"),Rr=sr(Object,"create"),ys=oe(Ht),Zi=oe(ie),Ks=oe(qt),vs=oe(Ze),Dn=oe(Qr),mr=se?se.prototype:void 0,Xe=mr?mr.valueOf:void 0;function xe(L){var P=-1,Y=L?L.length:0;for(this.clear();++P<Y;){var w=L[P];this.set(w[0],w[1])}}function _e(L){var P=-1,Y=L?L.length:0;for(this.clear();++P<Y;){var w=L[P];this.set(w[0],w[1])}}function ke(L){var P=-1,Y=L?L.length:0;for(this.clear();++P<Y;){var w=L[P];this.set(w[0],w[1])}}function Ir(L){this.__data__=new _e(L)}function dn(L,P){var Y=rn(L)||function(J){return function(st){return function(gt){return!!gt&&typeof gt=="object"}(st)&&mn(st)}(J)&&te.call(J,"callee")&&(!ge.call(J,"callee")||he.call(J)==d)}(L)?function(J,st){for(var gt=-1,Ot=Array(J);++gt<J;)Ot[gt]=st(gt);return Ot}(L.length,String):[],w=Y.length,R=!!w;for(var $ in L)!P&&!te.call(L,$)||R&&($=="length"||wr($,w))||Y.push($);return Y}function Yr(L,P,Y){var w=L[P];te.call(L,P)&&Fn(w,Y)&&(Y!==void 0||P in L)||(L[P]=Y)}function tn(L,P){for(var Y=L.length;Y--;)if(Fn(L[Y][0],P))return Y;return-1}function en(L,P,Y,w,R,$,J){var st;if(w&&(st=$?w(L,R,$,J):w(L)),st!==void 0)return st;if(!nn(L))return L;var gt=rn(L);if(gt){if(st=function(tt){var xt=tt.length,Ct=tt.constructor(xt);return xt&&typeof tt[0]=="string"&&te.call(tt,"index")&&(Ct.index=tt.index,Ct.input=tt.input),Ct}(L),!P)return function(tt,xt){var Ct=-1,Mt=tt.length;for(xt||(xt=Array(Mt));++Ct<Mt;)xt[Ct]=tt[Ct];return xt}(L,st)}else{var Ot=Br(L),Wt=Ot==b||Ot==N;if(xs(L))return function(tt,xt){if(xt)return tt.slice();var Ct=new tt.constructor(tt.length);return tt.copy(Ct),Ct}(L,P);if(Ot==k||Ot==d||Wt&&!$){if(ue(L))return $?L:{};if(st=function(tt){return typeof tt.constructor!="function"||Un(tt)?{}:(xt=Le(tt),nn(xt)?Rt(xt):{});var xt}(Wt?{}:L),!P)return function(tt,xt){return Pn(tt,Ar(tt),xt)}(L,function(tt,xt){return tt&&Pn(xt,gn(xt),tt)}(st,L))}else{if(!ft[Ot])return $?L:{};st=function(tt,xt,Ct,Mt){var je=tt.constructor;switch(xt){case Z:return pn(tt);case m:case y:return new je(+tt);case G:return function(St,le){var Me=le?pn(St.buffer):St.buffer;return new St.constructor(Me,St.byteOffset,St.byteLength)}(tt,Mt);case O:case W:case ot:case q:case D:case K:case V:case X:case lt:return function(St,le){var Me=le?pn(St.buffer):St.buffer;return new St.constructor(Me,St.byteOffset,St.length)}(tt,Mt);case A:return function(St,le,Me){var jr=le?Me(Bt(St),!0):Bt(St);return Vt(jr,Ft,new St.constructor)}(tt,Mt,Ct);case E:case _:return new je(tt);case T:return function(St){var le=new St.constructor(St.source,yt.exec(St));return le.lastIndex=St.lastIndex,le}(tt);case C:return function(St,le,Me){var jr=le?Me(jt(St),!0):jt(St);return Vt(jr,Yt,new St.constructor)}(tt,Mt,Ct);case j:return Fe=tt,Xe?Object(Xe.call(Fe)):{}}var Fe}(L,Ot,en,P)}}J||(J=new Ir);var Ee=J.get(L);if(Ee)return Ee;if(J.set(L,st),!gt)var Zt=Y?function(tt){return function(xt,Ct,Mt){var je=Ct(xt);return rn(xt)?je:function(Fe,St){for(var le=-1,Me=St.length,jr=Fe.length;++le<Me;)Fe[jr+le]=St[le];return Fe}(je,Mt(xt))}(tt,gn,Ar)}(L):gn(L);return function(tt,xt){for(var Ct=-1,Mt=tt?tt.length:0;++Ct<Mt&&xt(tt[Ct],Ct,tt)!==!1;);}(Zt||L,function(tt,xt){Zt&&(tt=L[xt=tt]),Yr(st,xt,en(tt,P,Y,w,xt,L,J))}),st}function Xi(L){return!(!nn(L)||(P=L,kt&&kt in P))&&(Hn(L)||ue(L)?Ie:F).test(oe(L));var P}function pn(L){var P=new L.constructor(L.byteLength);return new de(P).set(new de(L)),P}function Pn(L,P,Y,w){Y||(Y={});for(var R=-1,$=P.length;++R<$;){var J=P[R],st=w?w(Y[J],L[J],J,Y,L):void 0;Yr(Y,J,st===void 0?L[J]:st)}return Y}function Be(L,P){var Y,w,R=L.__data__;return((w=typeof(Y=P))=="string"||w=="number"||w=="symbol"||w=="boolean"?Y!=="__proto__":Y===null)?R[typeof P=="string"?"string":"hash"]:R.map}function sr(L,P){var Y=function(w,R){return w?.[R]}(L,P);return Xi(Y)?Y:void 0}xe.prototype.clear=function(){this.__data__=Rr?Rr(null):{}},xe.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},xe.prototype.get=function(L){var P=this.__data__;if(Rr){var Y=P[L];return Y===u?void 0:Y}return te.call(P,L)?P[L]:void 0},xe.prototype.has=function(L){var P=this.__data__;return Rr?P[L]!==void 0:te.call(P,L)},xe.prototype.set=function(L,P){return this.__data__[L]=Rr&&P===void 0?u:P,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(L){var P=this.__data__,Y=tn(P,L);return!(Y<0)&&(Y==P.length-1?P.pop():pe.call(P,Y,1),!0)},_e.prototype.get=function(L){var P=this.__data__,Y=tn(P,L);return Y<0?void 0:P[Y][1]},_e.prototype.has=function(L){return tn(this.__data__,L)>-1},_e.prototype.set=function(L,P){var Y=this.__data__,w=tn(Y,L);return w<0?Y.push([L,P]):Y[w][1]=P,this},ke.prototype.clear=function(){this.__data__={hash:new xe,map:new(ie||_e),string:new xe}},ke.prototype.delete=function(L){return Be(this,L).delete(L)},ke.prototype.get=function(L){return Be(this,L).get(L)},ke.prototype.has=function(L){return Be(this,L).has(L)},ke.prototype.set=function(L,P){return Be(this,L).set(L,P),this},Ir.prototype.clear=function(){this.__data__=new _e},Ir.prototype.delete=function(L){return this.__data__.delete(L)},Ir.prototype.get=function(L){return this.__data__.get(L)},Ir.prototype.has=function(L){return this.__data__.has(L)},Ir.prototype.set=function(L,P){var Y=this.__data__;if(Y instanceof _e){var w=Y.__data__;if(!ie||w.length<199)return w.push([L,P]),this;Y=this.__data__=new ke(w)}return Y.set(L,P),this};var Ar=be?At(be,Object):function(){return[]},Br=function(L){return he.call(L)};function wr(L,P){return!!(P=P??f)&&(typeof L=="number"||pt.test(L))&&L>-1&&L%1==0&&L<P}function Un(L){var P=L&&L.constructor;return L===(typeof P=="function"&&P.prototype||Et)}function oe(L){if(L!=null){try{return Gt.call(L)}catch{}try{return L+""}catch{}}return""}function Fn(L,P){return L===P||L!=L&&P!=P}(Ht&&Br(new Ht(new ArrayBuffer(1)))!=G||ie&&Br(new ie)!=A||qt&&Br(qt.resolve())!=x||Ze&&Br(new Ze)!=C||Qr&&Br(new Qr)!=H)&&(Br=function(L){var P=he.call(L),Y=P==k?L.constructor:void 0,w=Y?oe(Y):void 0;if(w)switch(w){case ys:return G;case Zi:return A;case Ks:return x;case vs:return C;case Dn:return H}return P});var rn=Array.isArray;function mn(L){return L!=null&&function(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=f}(L.length)&&!Hn(L)}var xs=ye||function(){return!1};function Hn(L){var P=nn(L)?he.call(L):"";return P==b||P==N}function nn(L){var P=typeof L;return!!L&&(P=="object"||P=="function")}function gn(L){return mn(L)?dn(L):function(P){if(!Un(P))return Tt(P);var Y=[];for(var w in Object(P))te.call(P,w)&&w!="constructor"&&Y.push(w);return Y}(L)}n.exports=function(L){return en(L,!0,!0)}},142:(n,l,a)=>{n=a.nmd(n);var u="__lodash_hash_undefined__",f=1,d=2,m=9007199254740991,y="[object Arguments]",b="[object Array]",N="[object AsyncFunction]",A="[object Boolean]",E="[object Date]",k="[object Error]",x="[object Function]",T="[object GeneratorFunction]",C="[object Map]",_="[object Number]",j="[object Null]",H="[object Object]",Z="[object Promise]",G="[object Proxy]",O="[object RegExp]",W="[object Set]",ot="[object String]",q="[object Symbol]",D="[object Undefined]",K="[object WeakMap]",V="[object ArrayBuffer]",X="[object DataView]",lt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,F={};F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F[y]=F[b]=F[V]=F[A]=F[X]=F[E]=F[k]=F[x]=F[C]=F[_]=F[H]=F[O]=F[W]=F[ot]=F[K]=!1;var pt=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,ft=typeof self=="object"&&self&&self.Object===Object&&self,Nt=pt||ft||Function("return this")(),Pt=l&&!l.nodeType&&l,dt=Pt&&n&&!n.nodeType&&n,It=dt&&dt.exports===Pt,_t=It&&pt.process,ne=function(){try{return _t&&_t.binding&&_t.binding("util")}catch{}}(),Ft=ne&&ne.isTypedArray;function Yt(w,R){for(var $=-1,J=w==null?0:w.length;++$<J;)if(R(w[$],$,w))return!0;return!1}function Vt(w){var R=-1,$=Array(w.size);return w.forEach(function(J,st){$[++R]=[st,J]}),$}function ue(w){var R=-1,$=Array(w.size);return w.forEach(function(J){$[++R]=J}),$}var Bt,At,jt,mt=Array.prototype,Lt=Function.prototype,wt=Object.prototype,Et=Nt["__core-js_shared__"],Kt=Lt.toString,kt=wt.hasOwnProperty,Gt=(Bt=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+Bt:"",te=wt.toString,he=RegExp("^"+Kt.call(kt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=It?Nt.Buffer:void 0,fe=Nt.Symbol,se=Nt.Uint8Array,de=wt.propertyIsEnumerable,Le=mt.splice,Rt=fe?fe.toStringTag:void 0,ge=Object.getOwnPropertySymbols,pe=Ie?Ie.isBuffer:void 0,be=(At=Object.keys,jt=Object,function(w){return At(jt(w))}),ye=Ar(Nt,"DataView"),Tt=Ar(Nt,"Map"),Ht=Ar(Nt,"Promise"),ie=Ar(Nt,"Set"),qt=Ar(Nt,"WeakMap"),Ze=Ar(Object,"create"),Qr=oe(ye),Rr=oe(Tt),ys=oe(Ht),Zi=oe(ie),Ks=oe(qt),vs=fe?fe.prototype:void 0,Dn=vs?vs.valueOf:void 0;function mr(w){var R=-1,$=w==null?0:w.length;for(this.clear();++R<$;){var J=w[R];this.set(J[0],J[1])}}function Xe(w){var R=-1,$=w==null?0:w.length;for(this.clear();++R<$;){var J=w[R];this.set(J[0],J[1])}}function xe(w){var R=-1,$=w==null?0:w.length;for(this.clear();++R<$;){var J=w[R];this.set(J[0],J[1])}}function _e(w){var R=-1,$=w==null?0:w.length;for(this.__data__=new xe;++R<$;)this.add(w[R])}function ke(w){var R=this.__data__=new Xe(w);this.size=R.size}function Ir(w,R){var $=mn(w),J=!$&&rn(w),st=!$&&!J&&xs(w),gt=!$&&!J&&!st&&P(w),Ot=$||J||st||gt,Wt=Ot?function(tt,xt){for(var Ct=-1,Mt=Array(tt);++Ct<tt;)Mt[Ct]=xt(Ct);return Mt}(w.length,String):[],Ee=Wt.length;for(var Zt in w)!R&&!kt.call(w,Zt)||Ot&&(Zt=="length"||st&&(Zt=="offset"||Zt=="parent")||gt&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||Un(Zt,Ee))||Wt.push(Zt);return Wt}function dn(w,R){for(var $=w.length;$--;)if(Fn(w[$][0],R))return $;return-1}function Yr(w){return w==null?w===void 0?D:j:Rt&&Rt in Object(w)?function(R){var $=kt.call(R,Rt),J=R[Rt];try{R[Rt]=void 0;var st=!0}catch{}var gt=te.call(R);return st&&($?R[Rt]=J:delete R[Rt]),gt}(w):function(R){return te.call(R)}(w)}function tn(w){return L(w)&&Yr(w)==y}function en(w,R,$,J,st){return w===R||(w==null||R==null||!L(w)&&!L(R)?w!=w&&R!=R:function(gt,Ot,Wt,Ee,Zt,tt){var xt=mn(gt),Ct=mn(Ot),Mt=xt?b:wr(gt),je=Ct?b:wr(Ot),Fe=(Mt=Mt==y?H:Mt)==H,St=(je=je==y?H:je)==H,le=Mt==je;if(le&&xs(gt)){if(!xs(Ot))return!1;xt=!0,Fe=!1}if(le&&!Fe)return tt||(tt=new ke),xt||P(gt)?Pn(gt,Ot,Wt,Ee,Zt,tt):function(Ut,Dt,Gs,ir,Ji,or,Mr){switch(Gs){case X:if(Ut.byteLength!=Dt.byteLength||Ut.byteOffset!=Dt.byteOffset)return!1;Ut=Ut.buffer,Dt=Dt.buffer;case V:return!(Ut.byteLength!=Dt.byteLength||!or(new se(Ut),new se(Dt)));case A:case E:case _:return Fn(+Ut,+Dt);case k:return Ut.name==Dt.name&&Ut.message==Dt.message;case O:case ot:return Ut==Dt+"";case C:var Dr=Vt;case W:var Es=ir&f;if(Dr||(Dr=ue),Ut.size!=Dt.size&&!Es)return!1;var As=Mr.get(Ut);if(As)return As==Dt;ir|=d,Mr.set(Ut,Dt);var Qi=Pn(Dr(Ut),Dr(Dt),ir,Ji,or,Mr);return Mr.delete(Ut),Qi;case q:if(Dn)return Dn.call(Ut)==Dn.call(Dt)}return!1}(gt,Ot,Mt,Wt,Ee,Zt,tt);if(!(Wt&f)){var Me=Fe&&kt.call(gt,"__wrapped__"),jr=St&&kt.call(Ot,"__wrapped__");if(Me||jr){var ec=Me?gt.value():gt,tl=jr?Ot.value():Ot;return tt||(tt=new ke),Zt(ec,tl,Wt,Ee,tt)}}return le?(tt||(tt=new ke),function(Ut,Dt,Gs,ir,Ji,or){var Mr=Gs&f,Dr=Be(Ut),Es=Dr.length,As=Be(Dt),Qi=As.length;if(Es!=Qi&&!Mr)return!1;for(var Ws=Es;Ws--;){var bn=Dr[Ws];if(!(Mr?bn in Dt:kt.call(Dt,bn)))return!1}var el=or.get(Ut);if(el&&or.get(Dt))return el==Dt;var Zs=!0;or.set(Ut,Dt),or.set(Dt,Ut);for(var Yi=Mr;++Ws<Es;){var Xs=Ut[bn=Dr[Ws]],gr=Dt[bn];if(ir)var at=Mr?ir(gr,Xs,bn,Dt,Ut,or):ir(Xs,gr,bn,Ut,Dt,or);if(!(at===void 0?Xs===gr||Ji(Xs,gr,Gs,ir,or):at)){Zs=!1;break}Yi||(Yi=bn=="constructor")}if(Zs&&!Yi){var Je=Ut.constructor,Pr=Dt.constructor;Je==Pr||!("constructor"in Ut)||!("constructor"in Dt)||typeof Je=="function"&&Je instanceof Je&&typeof Pr=="function"&&Pr instanceof Pr||(Zs=!1)}return or.delete(Ut),or.delete(Dt),Zs}(gt,Ot,Wt,Ee,Zt,tt)):!1}(w,R,$,J,en,st))}function Xi(w){return!(!gn(w)||function(R){return!!Gt&&Gt in R}(w))&&(Hn(w)?he:lt).test(oe(w))}function pn(w){if($=(R=w)&&R.constructor,J=typeof $=="function"&&$.prototype||wt,R!==J)return be(w);var R,$,J,st=[];for(var gt in Object(w))kt.call(w,gt)&&gt!="constructor"&&st.push(gt);return st}function Pn(w,R,$,J,st,gt){var Ot=$&f,Wt=w.length,Ee=R.length;if(Wt!=Ee&&!(Ot&&Ee>Wt))return!1;var Zt=gt.get(w);if(Zt&&gt.get(R))return Zt==R;var tt=-1,xt=!0,Ct=$&d?new _e:void 0;for(gt.set(w,R),gt.set(R,w);++tt<Wt;){var Mt=w[tt],je=R[tt];if(J)var Fe=Ot?J(je,Mt,tt,R,w,gt):J(Mt,je,tt,w,R,gt);if(Fe!==void 0){if(Fe)continue;xt=!1;break}if(Ct){if(!Yt(R,function(St,le){if(Me=le,!Ct.has(Me)&&(Mt===St||st(Mt,St,$,J,gt)))return Ct.push(le);var Me})){xt=!1;break}}else if(Mt!==je&&!st(Mt,je,$,J,gt)){xt=!1;break}}return gt.delete(w),gt.delete(R),xt}function Be(w){return function(R,$,J){var st=$(R);return mn(R)?st:function(gt,Ot){for(var Wt=-1,Ee=Ot.length,Zt=gt.length;++Wt<Ee;)gt[Zt+Wt]=Ot[Wt];return gt}(st,J(R))}(w,Y,Br)}function sr(w,R){var $,J,st=w.__data__;return((J=typeof($=R))=="string"||J=="number"||J=="symbol"||J=="boolean"?$!=="__proto__":$===null)?st[typeof R=="string"?"string":"hash"]:st.map}function Ar(w,R){var $=function(J,st){return J?.[st]}(w,R);return Xi($)?$:void 0}mr.prototype.clear=function(){this.__data__=Ze?Ze(null):{},this.size=0},mr.prototype.delete=function(w){var R=this.has(w)&&delete this.__data__[w];return this.size-=R?1:0,R},mr.prototype.get=function(w){var R=this.__data__;if(Ze){var $=R[w];return $===u?void 0:$}return kt.call(R,w)?R[w]:void 0},mr.prototype.has=function(w){var R=this.__data__;return Ze?R[w]!==void 0:kt.call(R,w)},mr.prototype.set=function(w,R){var $=this.__data__;return this.size+=this.has(w)?0:1,$[w]=Ze&&R===void 0?u:R,this},Xe.prototype.clear=function(){this.__data__=[],this.size=0},Xe.prototype.delete=function(w){var R=this.__data__,$=dn(R,w);return!($<0)&&($==R.length-1?R.pop():Le.call(R,$,1),--this.size,!0)},Xe.prototype.get=function(w){var R=this.__data__,$=dn(R,w);return $<0?void 0:R[$][1]},Xe.prototype.has=function(w){return dn(this.__data__,w)>-1},Xe.prototype.set=function(w,R){var $=this.__data__,J=dn($,w);return J<0?(++this.size,$.push([w,R])):$[J][1]=R,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(Tt||Xe),string:new mr}},xe.prototype.delete=function(w){var R=sr(this,w).delete(w);return this.size-=R?1:0,R},xe.prototype.get=function(w){return sr(this,w).get(w)},xe.prototype.has=function(w){return sr(this,w).has(w)},xe.prototype.set=function(w,R){var $=sr(this,w),J=$.size;return $.set(w,R),this.size+=$.size==J?0:1,this},_e.prototype.add=_e.prototype.push=function(w){return this.__data__.set(w,u),this},_e.prototype.has=function(w){return this.__data__.has(w)},ke.prototype.clear=function(){this.__data__=new Xe,this.size=0},ke.prototype.delete=function(w){var R=this.__data__,$=R.delete(w);return this.size=R.size,$},ke.prototype.get=function(w){return this.__data__.get(w)},ke.prototype.has=function(w){return this.__data__.has(w)},ke.prototype.set=function(w,R){var $=this.__data__;if($ instanceof Xe){var J=$.__data__;if(!Tt||J.length<199)return J.push([w,R]),this.size=++$.size,this;$=this.__data__=new xe(J)}return $.set(w,R),this.size=$.size,this};var Br=ge?function(w){return w==null?[]:(w=Object(w),function(R,$){for(var J=-1,st=R==null?0:R.length,gt=0,Ot=[];++J<st;){var Wt=R[J];$(Wt,J,R)&&(Ot[gt++]=Wt)}return Ot}(ge(w),function(R){return de.call(w,R)}))}:function(){return[]},wr=Yr;function Un(w,R){return!!(R=R??m)&&(typeof w=="number"||yt.test(w))&&w>-1&&w%1==0&&w<R}function oe(w){if(w!=null){try{return Kt.call(w)}catch{}try{return w+""}catch{}}return""}function Fn(w,R){return w===R||w!=w&&R!=R}(ye&&wr(new ye(new ArrayBuffer(1)))!=X||Tt&&wr(new Tt)!=C||Ht&&wr(Ht.resolve())!=Z||ie&&wr(new ie)!=W||qt&&wr(new qt)!=K)&&(wr=function(w){var R=Yr(w),$=R==H?w.constructor:void 0,J=$?oe($):"";if(J)switch(J){case Qr:return X;case Rr:return C;case ys:return Z;case Zi:return W;case Ks:return K}return R});var rn=tn(function(){return arguments}())?tn:function(w){return L(w)&&kt.call(w,"callee")&&!de.call(w,"callee")},mn=Array.isArray,xs=pe||function(){return!1};function Hn(w){if(!gn(w))return!1;var R=Yr(w);return R==x||R==T||R==N||R==G}function nn(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=m}function gn(w){var R=typeof w;return w!=null&&(R=="object"||R=="function")}function L(w){return w!=null&&typeof w=="object"}var P=Ft?function(w){return function(R){return w(R)}}(Ft):function(w){return L(w)&&nn(w.length)&&!!F[Yr(w)]};function Y(w){return(R=w)!=null&&nn(R.length)&&!Hn(R)?Ir(w):pn(w);var R}n.exports=function(w,R){return en(w,R)}},106:(n,l,a)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let u=a(193),f=a(142);var d;(function(m){m.compose=function(y={},b={},N=!1){typeof y!="object"&&(y={}),typeof b!="object"&&(b={});let A=u(b);N||(A=Object.keys(A).reduce((E,k)=>(A[k]!=null&&(E[k]=A[k]),E),{}));for(let E in y)y[E]!==void 0&&b[E]===void 0&&(A[E]=y[E]);return Object.keys(A).length>0?A:void 0},m.diff=function(y={},b={}){typeof y!="object"&&(y={}),typeof b!="object"&&(b={});let N=Object.keys(y).concat(Object.keys(b)).reduce((A,E)=>(f(y[E],b[E])||(A[E]=b[E]===void 0?null:b[E]),A),{});return Object.keys(N).length>0?N:void 0},m.invert=function(y={},b={}){y=y||{};let N=Object.keys(b).reduce((A,E)=>(b[E]!==y[E]&&y[E]!==void 0&&(A[E]=b[E]),A),{});return Object.keys(y).reduce((A,E)=>(y[E]!==b[E]&&b[E]===void 0&&(A[E]=null),A),N)},m.transform=function(y,b,N=!1){if(typeof y!="object")return b;if(typeof b!="object")return;if(!N)return b;let A=Object.keys(b).reduce((E,k)=>(y[k]===void 0&&(E[k]=b[k]),E),{});return Object.keys(A).length>0?A:void 0}})(d||(d={})),l.default=d},660:(n,l,a)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AttributeMap=l.OpIterator=l.Op=void 0;let u=a(606),f=a(193),d=a(142),m=a(106);l.AttributeMap=m.default;let y=a(759);l.Op=y.default;let b=a(317);l.OpIterator=b.default;let N="\0",A=(k,x)=>{if(typeof k!="object"||k===null)throw new Error("cannot retain a "+typeof k);if(typeof x!="object"||x===null)throw new Error("cannot retain a "+typeof x);let T=Object.keys(k)[0];if(!T||T!==Object.keys(x)[0])throw new Error(`embed types not matched: ${T} != ${Object.keys(x)[0]}`);return[T,k[T],x[T]]};class E{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,T){this.handlers[x]=T}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){let T=this.handlers[x];if(!T)throw new Error(`no handlers for embed type "${x}"`);return T}insert(x,T){let C={};return typeof x=="string"&&x.length===0?this:(C.insert=x,T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(C.attributes=T),this.push(C))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,T){if(typeof x=="number"&&x<=0)return this;let C={retain:x};return T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(C.attributes=T),this.push(C)}push(x){let T=this.ops.length,C=this.ops[T-1];if(x=f(x),typeof C=="object"){if(typeof x.delete=="number"&&typeof C.delete=="number")return this.ops[T-1]={delete:C.delete+x.delete},this;if(typeof C.delete=="number"&&x.insert!=null&&(T-=1,C=this.ops[T-1],typeof C!="object"))return this.ops.unshift(x),this;if(d(x.attributes,C.attributes)){if(typeof x.insert=="string"&&typeof C.insert=="string")return this.ops[T-1]={insert:C.insert+x.insert},typeof x.attributes=="object"&&(this.ops[T-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof C.retain=="number")return this.ops[T-1]={retain:C.retain+x.retain},typeof x.attributes=="object"&&(this.ops[T-1].attributes=x.attributes),this}}return T===this.ops.length?this.ops.push(x):this.ops.splice(T,0,x),this}chop(){let x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){let T=[],C=[];return this.forEach(_=>{(x(_)?T:C).push(_)}),[T,C]}reduce(x,T){return this.ops.reduce(x,T)}changeLength(){return this.reduce((x,T)=>T.insert?x+y.default.length(T):T.delete?x-T.delete:x,0)}length(){return this.reduce((x,T)=>x+y.default.length(T),0)}slice(x=0,T=1/0){let C=[],_=new b.default(this.ops),j=0;for(;j<T&&_.hasNext();){let H;j<x?H=_.next(x-j):(H=_.next(T-j),C.push(H)),j+=y.default.length(H)}return new E(C)}compose(x){let T=new b.default(this.ops),C=new b.default(x.ops),_=[],j=C.peek();if(j!=null&&typeof j.retain=="number"&&j.attributes==null){let Z=j.retain;for(;T.peekType()==="insert"&&T.peekLength()<=Z;)Z-=T.peekLength(),_.push(T.next());j.retain-Z>0&&C.next(j.retain-Z)}let H=new E(_);for(;T.hasNext()||C.hasNext();)if(C.peekType()==="insert")H.push(C.next());else if(T.peekType()==="delete")H.push(T.next());else{let Z=Math.min(T.peekLength(),C.peekLength()),G=T.next(Z),O=C.next(Z);if(O.retain){let W={};if(typeof G.retain=="number")W.retain=typeof O.retain=="number"?Z:O.retain;else if(typeof O.retain=="number")G.retain==null?W.insert=G.insert:W.retain=G.retain;else{let q=G.retain==null?"insert":"retain",[D,K,V]=A(G[q],O.retain),X=E.getHandler(D);W[q]={[D]:X.compose(K,V,q==="retain")}}let ot=m.default.compose(G.attributes,O.attributes,typeof G.retain=="number");if(ot&&(W.attributes=ot),H.push(W),!C.hasNext()&&d(H.ops[H.ops.length-1],W)){let q=new E(T.rest());return H.concat(q).chop()}}else typeof O.delete=="number"&&(typeof G.retain=="number"||typeof G.retain=="object"&&G.retain!==null)&&H.push(O)}return H.chop()}concat(x){let T=new E(this.ops.slice());return x.ops.length>0&&(T.push(x.ops[0]),T.ops=T.ops.concat(x.ops.slice(1))),T}diff(x,T){if(this.ops===x.ops)return new E;let C=[this,x].map(G=>G.map(O=>{if(O.insert!=null)return typeof O.insert=="string"?O.insert:N;throw new Error("diff() called "+(G===x?"on":"with")+" non-document")}).join("")),_=new E,j=u(C[0],C[1],T,!0),H=new b.default(this.ops),Z=new b.default(x.ops);return j.forEach(G=>{let O=G[1].length;for(;O>0;){let W=0;switch(G[0]){case u.INSERT:W=Math.min(Z.peekLength(),O),_.push(Z.next(W));break;case u.DELETE:W=Math.min(O,H.peekLength()),H.next(W),_.delete(W);break;case u.EQUAL:W=Math.min(H.peekLength(),Z.peekLength(),O);let ot=H.next(W),q=Z.next(W);d(ot.insert,q.insert)?_.retain(W,m.default.diff(ot.attributes,q.attributes)):_.push(q).delete(W)}O-=W}}),_.chop()}eachLine(x,T=`
`){let C=new b.default(this.ops),_=new E,j=0;for(;C.hasNext();){if(C.peekType()!=="insert")return;let H=C.peek(),Z=y.default.length(H)-C.peekLength(),G=typeof H.insert=="string"?H.insert.indexOf(T,Z)-Z:-1;if(G<0)_.push(C.next());else if(G>0)_.push(C.next(G));else{if(x(_,C.next(1).attributes||{},j)===!1)return;j+=1,_=new E}}_.length()>0&&x(_,{},j)}invert(x){let T=new E;return this.reduce((C,_)=>{if(_.insert)T.delete(y.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return T.retain(_.retain),C+_.retain;if(_.delete||typeof _.retain=="number"){let j=_.delete||_.retain;return x.slice(C,C+j).forEach(H=>{_.delete?T.push(H):_.retain&&_.attributes&&T.retain(y.default.length(H),m.default.invert(_.attributes,H.attributes))}),C+j}if(typeof _.retain=="object"&&_.retain!==null){let j=x.slice(C,C+1),H=new b.default(j.ops).next(),[Z,G,O]=A(_.retain,H.insert),W=E.getHandler(Z);return T.retain({[Z]:W.invert(G,O)},m.default.invert(_.attributes,H.attributes)),C+1}}return C},0),T.chop()}transform(x,T=!1){if(T=!!T,typeof x=="number")return this.transformPosition(x,T);let C=x,_=new b.default(this.ops),j=new b.default(C.ops),H=new E;for(;_.hasNext()||j.hasNext();)if(_.peekType()!=="insert"||!T&&j.peekType()==="insert")if(j.peekType()==="insert")H.push(j.next());else{let Z=Math.min(_.peekLength(),j.peekLength()),G=_.next(Z),O=j.next(Z);if(G.delete)continue;if(O.delete)H.push(O);else{let W=G.retain,ot=O.retain,q=typeof ot=="object"&&ot!==null?ot:Z;if(typeof W=="object"&&W!==null&&typeof ot=="object"&&ot!==null){let D=Object.keys(W)[0];if(D===Object.keys(ot)[0]){let K=E.getHandler(D);K&&(q={[D]:K.transform(W[D],ot[D],T)})}}H.retain(q,m.default.transform(G.attributes,O.attributes,T))}}else H.retain(y.default.length(_.next()));return H.chop()}transformPosition(x,T=!1){T=!!T;let C=new b.default(this.ops),_=0;for(;C.hasNext()&&_<=x;){let j=C.peekLength(),H=C.peekType();C.next(),H!=="delete"?(H==="insert"&&(_<x||!T)&&(x+=j),_+=j):x-=Math.min(j,x-_)}return x}}E.Op=y.default,E.OpIterator=b.default,E.AttributeMap=m.default,E.handlers={},l.default=E,n.exports=E,n.exports.default=E},759:(n,l)=>{"use strict";var a;Object.defineProperty(l,"__esModule",{value:!0}),function(u){u.length=function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.retain=="object"&&f.retain!==null?1:typeof f.insert=="string"?f.insert.length:1}}(a||(a={})),l.default=a},317:(n,l,a)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let u=a(759);l.default=class{constructor(f){this.ops=f,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(f){f||(f=1/0);let d=this.ops[this.index];if(d){let m=this.offset,y=u.default.length(d);if(f>=y-m?(f=y-m,this.index+=1,this.offset=0):this.offset+=f,typeof d.delete=="number")return{delete:f};{let b={};return d.attributes&&(b.attributes=d.attributes),typeof d.retain=="number"?b.retain=f:typeof d.retain=="object"&&d.retain!==null?b.retain=d.retain:typeof d.insert=="string"?b.insert=d.insert.substr(m,f):b.insert=d.insert,b}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?u.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let f=this.ops[this.index];return f?typeof f.delete=="number"?"delete":typeof f.retain=="number"||typeof f.retain=="object"&&f.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{let f=this.offset,d=this.index,m=this.next(),y=this.ops.slice(this.index);return this.offset=f,this.index=d,[m].concat(y)}}return[]}}},968:(n,l,a)=>{var u=a(64);typeof u=="string"&&(u=[[n.id,u,""]]);var f={hmr:!0,transform:void 0};a(27)(u,f),u.locals&&(n.exports=u.locals)},27:(n,l,a)=>{var u,f,d={},m=(u=function(){return window&&document&&document.all&&!window.atob},function(){return f===void 0&&(f=u.apply(this,arguments)),f}),y=function(q){var D={};return function(K){if(D[K]===void 0){var V=q.call(this,K);if(V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}D[K]=V}return D[K]}}(function(q){return document.querySelector(q)}),b=null,N=0,A=[],E=a(874);function k(q,D){for(var K=0;K<q.length;K++){var V=q[K],X=d[V.id];if(X){X.refs++;for(var lt=0;lt<X.parts.length;lt++)X.parts[lt](V.parts[lt]);for(;lt<V.parts.length;lt++)X.parts.push(H(V.parts[lt],D))}else{var yt=[];for(lt=0;lt<V.parts.length;lt++)yt.push(H(V.parts[lt],D));d[V.id]={id:V.id,refs:1,parts:yt}}}}function x(q,D){for(var K=[],V={},X=0;X<q.length;X++){var lt=q[X],yt=D.base?lt[0]+D.base:lt[0],F={css:lt[1],media:lt[2],sourceMap:lt[3]};V[yt]?V[yt].parts.push(F):K.push(V[yt]={id:yt,parts:[F]})}return K}function T(q,D){var K=y(q.insertInto);if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var V=A[A.length-1];if(q.insertAt==="top")V?V.nextSibling?K.insertBefore(D,V.nextSibling):K.appendChild(D):K.insertBefore(D,K.firstChild),A.push(D);else if(q.insertAt==="bottom")K.appendChild(D);else{if(typeof q.insertAt!="object"||!q.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var X=y(q.insertInto+" "+q.insertAt.before);K.insertBefore(D,X)}}function C(q){if(q.parentNode===null)return!1;q.parentNode.removeChild(q);var D=A.indexOf(q);D>=0&&A.splice(D,1)}function _(q){var D=document.createElement("style");return q.attrs.type="text/css",j(D,q.attrs),T(q,D),D}function j(q,D){Object.keys(D).forEach(function(K){q.setAttribute(K,D[K])})}function H(q,D){var K,V,X,lt;if(D.transform&&q.css){if(!(lt=D.transform(q.css)))return function(){};q.css=lt}if(D.singleton){var yt=N++;K=b||(b=_(D)),V=O.bind(null,K,yt,!1),X=O.bind(null,K,yt,!0)}else q.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(K=function(F){var pt=document.createElement("link");return F.attrs.type="text/css",F.attrs.rel="stylesheet",j(pt,F.attrs),T(F,pt),pt}(D),V=ot.bind(null,K,D),X=function(){C(K),K.href&&URL.revokeObjectURL(K.href)}):(K=_(D),V=W.bind(null,K),X=function(){C(K)});return V(q),function(F){if(F){if(F.css===q.css&&F.media===q.media&&F.sourceMap===q.sourceMap)return;V(q=F)}else X()}}n.exports=function(q,D){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(D=D||{}).attrs=typeof D.attrs=="object"?D.attrs:{},D.singleton||typeof D.singleton=="boolean"||(D.singleton=m()),D.insertInto||(D.insertInto="head"),D.insertAt||(D.insertAt="bottom");var K=x(q,D);return k(K,D),function(V){for(var X=[],lt=0;lt<K.length;lt++){var yt=K[lt];(F=d[yt.id]).refs--,X.push(F)}for(V&&k(x(V,D),D),lt=0;lt<X.length;lt++){var F;if((F=X[lt]).refs===0){for(var pt=0;pt<F.parts.length;pt++)F.parts[pt]();delete d[F.id]}}}};var Z,G=(Z=[],function(q,D){return Z[q]=D,Z.filter(Boolean).join(`
`)});function O(q,D,K,V){var X=K?"":V.css;if(q.styleSheet)q.styleSheet.cssText=G(D,X);else{var lt=document.createTextNode(X),yt=q.childNodes;yt[D]&&q.removeChild(yt[D]),yt.length?q.insertBefore(lt,yt[D]):q.appendChild(lt)}}function W(q,D){var K=D.css,V=D.media;if(V&&q.setAttribute("media",V),q.styleSheet)q.styleSheet.cssText=K;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(K))}}function ot(q,D,K){var V=K.css,X=K.sourceMap,lt=D.convertToAbsoluteUrls===void 0&&X;(D.convertToAbsoluteUrls||lt)&&(V=E(V)),X&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(X))))+" */");var yt=new Blob([V],{type:"text/css"}),F=q.href;q.href=URL.createObjectURL(yt),F&&URL.revokeObjectURL(F)}},874:n=>{n.exports=function(l){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var u=a.protocol+"//"+a.host,f=u+a.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,m){var y,b=m.trim().replace(/^"(.*)"$/,function(N,A){return A}).replace(/^'(.*)'$/,function(N,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(b)?d:(y=b.indexOf("//")===0?b:b.indexOf("/")===0?u+b:f+b.replace(/^\.\//,""),"url("+JSON.stringify(y)+")")})}},676:(n,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.FormatHTMLStringIndentation=function(a,u){for(var f=" ".repeat(2),d=0,m=`
`,y=null,b=null,N=null,A="",E=0;E<=a.length;E++){y=b,b=a.substr(E,1),N=a.substr(E+1,1);var k=a.substr(E,4)==="<br>",x=b==="<"&&N!=="/"&&!k,T=b==="<"&&N==="/"&&!k,C=y===">"&&b!=="<"&&d>0,_=!k&&!x&&!T&&C&&a.substr(E,a.substr(E).indexOf("<")).trim()==="";k&&(A+=m,d--,E+=4),x?(A+=m+f.repeat(d),d++):T?(--d<0&&(d=0),A+=m+f.repeat(d)):(b===" "&&N===" "||b===m&&a.substr(E,a.substr(E).indexOf("<")).trim()==="")&&(b=""),C&&!_&&(A+=m+f.repeat(d)),A+=b}return u.log("formatHTML",{before:a,after:A}),A}},795:(n,l)=>{"use strict";function a(b){return b.replace(/\s+/g," ").trim()}function u(b){return b.replace(/<br([\s]*[\/]?>)/g,"<p> </p>")}function f(b){return b.replace(/<p><\/p>/g,"<p> </p>")}function d(b){return b.replace(/(<(?!\/)[\w=\."'\s]*>) /g,"$1")}function m(b){return b.replace(/ (<\/[\w]+>)/g,"$1")}function y(b,N){return b.reduce(function(A,E){return E(A)},N)}Object.defineProperty(l,"__esModule",{value:!0}),l.OutputHTMLParser=function(b){return y([a,d,m,u,f],b)},l.ConvertMultipleSpacesToSingle=a,l.PreserveNewlinesBr=u,l.PreserveNewlinesPTags=f,l.FixTagSpaceOpenTag=d,l.FixTagSpaceCloseTag=m,l.Compose=y},614:(n,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.QuillHtmlLogger=void 0;var a=function(){function u(){this.debug=!1}return u.prototype.setDebug=function(f){this.debug=f},u.prototype.prefixString=function(){return"</> quill-html-edit-button: "},Object.defineProperty(u.prototype,"log",{get:function(){return this.debug?console.log.bind(console,this.prefixString()):function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d]}},enumerable:!1,configurable:!0}),u}();l.QuillHtmlLogger=a},190:function(n,l,a){"use strict";var u=this&&this.__assign||function(){return u=Object.assign||function(x){for(var T,C=1,_=arguments.length;C<_;C++)for(var j in T=arguments[C])Object.prototype.hasOwnProperty.call(T,j)&&(x[j]=T[j]);return x},u.apply(this,arguments)},f=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(l,"__esModule",{value:!0}),l.htmlEditButton=void 0;var d=a(614);a(968);var m=f(a(429)),y=a(795),b=a(676);function N(x){return document.createElement(x)}function A(x,T,C){return x.setAttribute(T,C)}var E=new d.QuillHtmlLogger,k=function(x,T){var C=T||{},_=!(!C||!C.debug);E.setDebug(_),E.log("logging enabled");var j=x.getModule("toolbar");if(!j)throw new Error('quill.htmlEditButton requires the "toolbar" module to be included too');var H=j.container,Z=N("span");A(Z,"class","ql-formats");var G=N("button");G.innerHTML=C.buttonHTML||"&lt;&gt;",G.title=C.buttonTitle||"Show HTML source",G.type="button";var O=function(W){x.clipboard.dangerouslyPasteHTML(W)};G.onclick=function(W){W.preventDefault(),function(ot,q,D){var K=ot.container.querySelector(".ql-editor").innerHTML,V=N("div"),X=N("div"),lt=q.msg||`Edit HTML here, when you click "OK" the quill editor's contents will be replaced`,yt=q.cancelText||"Cancel",F=q.okText||"Ok",pt=q.closeOnClickOverlay!==!1;A(X,"class","ql-html-overlayContainer"),A(V,"class","ql-html-popupContainer");var ft=N("span");A(ft,"class","ql-html-popupTitle"),ft.innerText=lt;var Nt=N("div");Nt.appendChild(ft),A(Nt,"class","ql-html-textContainer");var Pt=N("pre");A(Pt,"data-language","xml"),Pt.innerText=(0,b.FormatHTMLStringIndentation)(K,E);var dt=N("div");A(dt,"class","ql-html-textArea");var It=N("button");It.innerHTML=yt,A(It,"class","ql-html-buttonCancel");var _t=N("button");_t.innerHTML=F,A(_t,"class","ql-html-buttonOk");var ne=N("div");A(ne,"class","ql-html-buttonGroup");var Ft=document.querySelector(q.prependSelector);ne.appendChild(It),ne.appendChild(_t),dt.appendChild(Pt),Nt.appendChild(dt),Nt.appendChild(ne),V.appendChild(Nt),X.appendChild(V),Ft?Ft.prepend(X):document.body.appendChild(X);var Yt=q&&q.editorModules,Vt=Yt&&Object.keys(Yt).length?Yt:{},ue=new m.default(dt,{modules:u({syntax:q.syntax},Vt)});It.onclick=function(){Ft?Ft.removeChild(X):document.body.removeChild(X)},pt&&(X.onclick=It.onclick),V.onclick=function(Bt){Bt.preventDefault(),Bt.stopPropagation()},_t.onclick=function(){var Bt=ue.container.querySelector(".ql-editor").innerText,At=(0,y.OutputHTMLParser)(Bt);E.log("OutputHTMLParser",{htmlInputFromPopup:Bt,htmlOutputFormatted:At}),D(At),Ft?Ft.removeChild(X):document.body.removeChild(X)}}(x,C,O)},Z.appendChild(G),H?.appendChild(Z)};l.htmlEditButton=k,window.htmlEditButton=k,l.default=k},429:(n,l,a)=>{"use strict";a.r(l),a.d(l,{Module:()=>zr,Parchment:()=>u,Range:()=>Gn,default:()=>xv});var u={};a.r(u),a.d(u,{Attributor:()=>Je,AttributorStore:()=>rl,BlockBlot:()=>to,ClassAttributor:()=>Ur,ContainerBlot:()=>nl,EmbedBlot:()=>br,InlineBlot:()=>nc,LeafBlot:()=>He,ParentBlot:()=>Fr,Registry:()=>Js,Scope:()=>at,ScrollBlot:()=>ic,StyleAttributor:()=>zn,TextBlot:()=>sl});let f=function(){this.__data__=[],this.size=0},d=function(i,s){return i===s||i!=i&&s!=s},m=function(i,s){for(var o=i.length;o--;)if(d(i[o][0],s))return o;return-1};var y=Array.prototype.splice;let b=function(i){var s=this.__data__,o=m(s,i);return!(o<0)&&(o==s.length-1?s.pop():y.call(s,o,1),--this.size,!0)},N=function(i){var s=this.__data__,o=m(s,i);return o<0?void 0:s[o][1]},A=function(i){return m(this.__data__,i)>-1},E=function(i,s){var o=this.__data__,c=m(o,i);return c<0?(++this.size,o.push([i,s])):o[c][1]=s,this};function k(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var c=i[s];this.set(c[0],c[1])}}k.prototype.clear=f,k.prototype.delete=b,k.prototype.get=N,k.prototype.has=A,k.prototype.set=E;let x=k,T=function(){this.__data__=new x,this.size=0},C=function(i){var s=this.__data__,o=s.delete(i);return this.size=s.size,o},_=function(i){return this.__data__.get(i)},j=function(i){return this.__data__.has(i)},H=typeof global=="object"&&global&&global.Object===Object&&global;var Z=typeof self=="object"&&self&&self.Object===Object&&self;let G=H||Z||Function("return this")(),O=G.Symbol;var W=Object.prototype,ot=W.hasOwnProperty,q=W.toString,D=O?O.toStringTag:void 0;let K=function(i){var s=ot.call(i,D),o=i[D];try{i[D]=void 0;var c=!0}catch{}var h=q.call(i);return c&&(s?i[D]=o:delete i[D]),h};var V=Object.prototype.toString;let X=function(i){return V.call(i)};var lt=O?O.toStringTag:void 0;let yt=function(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":lt&&lt in Object(i)?K(i):X(i)},F=function(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")},pt=function(i){if(!F(i))return!1;var s=yt(i);return s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"},ft=G["__core-js_shared__"];var Nt,Pt=(Nt=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"";let dt=function(i){return!!Pt&&Pt in i};var It=Function.prototype.toString;let _t=function(i){if(i!=null){try{return It.call(i)}catch{}try{return i+""}catch{}}return""};var ne=/^\[object .+?Constructor\]$/,Ft=Function.prototype,Yt=Object.prototype,Vt=Ft.toString,ue=Yt.hasOwnProperty,Bt=RegExp("^"+Vt.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let At=function(i){return!(!F(i)||dt(i))&&(pt(i)?Bt:ne).test(_t(i))},jt=function(i,s){return i?.[s]},mt=function(i,s){var o=jt(i,s);return At(o)?o:void 0},Lt=mt(G,"Map"),wt=mt(Object,"create"),Et=function(){this.__data__=wt?wt(null):{},this.size=0},Kt=function(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s};var kt=Object.prototype.hasOwnProperty;let Gt=function(i){var s=this.__data__;if(wt){var o=s[i];return o==="__lodash_hash_undefined__"?void 0:o}return kt.call(s,i)?s[i]:void 0};var te=Object.prototype.hasOwnProperty;let he=function(i){var s=this.__data__;return wt?s[i]!==void 0:te.call(s,i)},Ie=function(i,s){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=wt&&s===void 0?"__lodash_hash_undefined__":s,this};function fe(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var c=i[s];this.set(c[0],c[1])}}fe.prototype.clear=Et,fe.prototype.delete=Kt,fe.prototype.get=Gt,fe.prototype.has=he,fe.prototype.set=Ie;let se=fe,de=function(){this.size=0,this.__data__={hash:new se,map:new(Lt||x),string:new se}},Le=function(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null},Rt=function(i,s){var o=i.__data__;return Le(s)?o[typeof s=="string"?"string":"hash"]:o.map},ge=function(i){var s=Rt(this,i).delete(i);return this.size-=s?1:0,s},pe=function(i){return Rt(this,i).get(i)},be=function(i){return Rt(this,i).has(i)},ye=function(i,s){var o=Rt(this,i),c=o.size;return o.set(i,s),this.size+=o.size==c?0:1,this};function Tt(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var c=i[s];this.set(c[0],c[1])}}Tt.prototype.clear=de,Tt.prototype.delete=ge,Tt.prototype.get=pe,Tt.prototype.has=be,Tt.prototype.set=ye;let Ht=Tt,ie=function(i,s){var o=this.__data__;if(o instanceof x){var c=o.__data__;if(!Lt||c.length<199)return c.push([i,s]),this.size=++o.size,this;o=this.__data__=new Ht(c)}return o.set(i,s),this.size=o.size,this};function qt(i){var s=this.__data__=new x(i);this.size=s.size}qt.prototype.clear=T,qt.prototype.delete=C,qt.prototype.get=_,qt.prototype.has=j,qt.prototype.set=ie;let Ze=qt,Qr=function(){try{var i=mt(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Rr=function(i,s,o){s=="__proto__"&&Qr?Qr(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o},ys=function(i,s,o){(o!==void 0&&!d(i[s],o)||o===void 0&&!(s in i))&&Rr(i,s,o)},Zi=function(i){return function(s,o,c){for(var h=-1,p=Object(s),g=c(s),v=g.length;v--;){var S=g[i?v:++h];if(o(p[S],S,p)===!1)break}return s}}();var Ks=typeof We=="object"&&We&&!We.nodeType&&We,vs=Ks&&typeof nr=="object"&&nr&&!nr.nodeType&&nr,Dn=vs&&vs.exports===Ks?G.Buffer:void 0,mr=Dn?Dn.allocUnsafe:void 0;let Xe=function(i,s){if(s)return i.slice();var o=i.length,c=mr?mr(o):new i.constructor(o);return i.copy(c),c},xe=G.Uint8Array,_e=function(i){var s=new i.constructor(i.byteLength);return new xe(s).set(new xe(i)),s},ke=function(i,s){var o=s?_e(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)},Ir=function(i,s){var o=-1,c=i.length;for(s||(s=Array(c));++o<c;)s[o]=i[o];return s};var dn=Object.create;let Yr=function(){function i(){}return function(s){if(!F(s))return{};if(dn)return dn(s);i.prototype=s;var o=new i;return i.prototype=void 0,o}}(),tn=function(i,s){return function(o){return i(s(o))}},en=tn(Object.getPrototypeOf,Object);var Xi=Object.prototype;let pn=function(i){var s=i&&i.constructor;return i===(typeof s=="function"&&s.prototype||Xi)},Pn=function(i){return typeof i.constructor!="function"||pn(i)?{}:Yr(en(i))},Be=function(i){return i!=null&&typeof i=="object"},sr=function(i){return Be(i)&&yt(i)=="[object Arguments]"};var Ar=Object.prototype,Br=Ar.hasOwnProperty,wr=Ar.propertyIsEnumerable;let Un=sr(function(){return arguments}())?sr:function(i){return Be(i)&&Br.call(i,"callee")&&!wr.call(i,"callee")},oe=Array.isArray,Fn=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991},rn=function(i){return i!=null&&Fn(i.length)&&!pt(i)},mn=function(i){return Be(i)&&rn(i)},xs=function(){return!1};var Hn=typeof We=="object"&&We&&!We.nodeType&&We,nn=Hn&&typeof nr=="object"&&nr&&!nr.nodeType&&nr,gn=nn&&nn.exports===Hn?G.Buffer:void 0;let L=(gn?gn.isBuffer:void 0)||xs;var P=Function.prototype,Y=Object.prototype,w=P.toString,R=Y.hasOwnProperty,$=w.call(Object);let J=function(i){if(!Be(i)||yt(i)!="[object Object]")return!1;var s=en(i);if(s===null)return!0;var o=R.call(s,"constructor")&&s.constructor;return typeof o=="function"&&o instanceof o&&w.call(o)==$};var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;let gt=function(i){return Be(i)&&Fn(i.length)&&!!st[yt(i)]},Ot=function(i){return function(s){return i(s)}};var Wt=typeof We=="object"&&We&&!We.nodeType&&We,Ee=Wt&&typeof nr=="object"&&nr&&!nr.nodeType&&nr,Zt=Ee&&Ee.exports===Wt&&H.process;let tt=function(){try{var i=Ee&&Ee.require&&Ee.require("util").types;return i||Zt&&Zt.binding&&Zt.binding("util")}catch{}}();var xt=tt&&tt.isTypedArray;let Ct=xt?Ot(xt):gt,Mt=function(i,s){if((s!=="constructor"||typeof i[s]!="function")&&s!="__proto__")return i[s]};var je=Object.prototype.hasOwnProperty;let Fe=function(i,s,o){var c=i[s];je.call(i,s)&&d(c,o)&&(o!==void 0||s in i)||Rr(i,s,o)},St=function(i,s,o,c){var h=!o;o||(o={});for(var p=-1,g=s.length;++p<g;){var v=s[p],S=c?c(o[v],i[v],v,o,i):void 0;S===void 0&&(S=i[v]),h?Rr(o,v,S):Fe(o,v,S)}return o},le=function(i,s){for(var o=-1,c=Array(i);++o<i;)c[o]=s(o);return c};var Me=/^(?:0|[1-9]\d*)$/;let jr=function(i,s){var o=typeof i;return!!(s=s??9007199254740991)&&(o=="number"||o!="symbol"&&Me.test(i))&&i>-1&&i%1==0&&i<s};var ec=Object.prototype.hasOwnProperty;let tl=function(i,s){var o=oe(i),c=!o&&Un(i),h=!o&&!c&&L(i),p=!o&&!c&&!h&&Ct(i),g=o||c||h||p,v=g?le(i.length,String):[],S=v.length;for(var B in i)!s&&!ec.call(i,B)||g&&(B=="length"||h&&(B=="offset"||B=="parent")||p&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||jr(B,S))||v.push(B);return v},Ut=function(i){var s=[];if(i!=null)for(var o in Object(i))s.push(o);return s};var Dt=Object.prototype.hasOwnProperty;let Gs=function(i){if(!F(i))return Ut(i);var s=pn(i),o=[];for(var c in i)(c!="constructor"||!s&&Dt.call(i,c))&&o.push(c);return o},ir=function(i){return rn(i)?tl(i,!0):Gs(i)},Ji=function(i){return St(i,ir(i))},or=function(i,s,o,c,h,p,g){var v=Mt(i,o),S=Mt(s,o),B=g.get(S);if(B)ys(i,o,B);else{var z=p?p(v,S,o+"",i,s,g):void 0,rt=z===void 0;if(rt){var nt=oe(S),ht=!nt&&L(S),ut=!nt&&!ht&&Ct(S);z=S,nt||ht||ut?oe(v)?z=v:mn(v)?z=Ir(v):ht?(rt=!1,z=Xe(S,!0)):ut?(rt=!1,z=ke(S,!0)):z=[]:J(S)||Un(S)?(z=v,Un(v)?z=Ji(v):F(v)&&!pt(v)||(z=Pn(S))):rt=!1}rt&&(g.set(S,z),h(z,S,c,p,g),g.delete(S)),ys(i,o,z)}},Mr=function i(s,o,c,h,p){s!==o&&Zi(o,function(g,v){if(p||(p=new Ze),F(g))or(s,o,v,c,i,h,p);else{var S=h?h(Mt(s,v),g,v+"",s,o,p):void 0;S===void 0&&(S=g),ys(s,v,S)}},ir)},Dr=function(i){return i},Es=function(i,s,o){switch(o.length){case 0:return i.call(s);case 1:return i.call(s,o[0]);case 2:return i.call(s,o[0],o[1]);case 3:return i.call(s,o[0],o[1],o[2])}return i.apply(s,o)};var As=Math.max;let Qi=function(i,s,o){return s=As(s===void 0?i.length-1:s,0),function(){for(var c=arguments,h=-1,p=As(c.length-s,0),g=Array(p);++h<p;)g[h]=c[s+h];h=-1;for(var v=Array(s+1);++h<s;)v[h]=c[h];return v[s]=o(g),Es(i,this,v)}},Ws=function(i){return function(){return i}},bn=Qr?function(i,s){return Qr(i,"toString",{configurable:!0,enumerable:!1,value:Ws(s),writable:!0})}:Dr;var el=Date.now;let Zs=function(i){var s=0,o=0;return function(){var c=el(),h=16-(c-o);if(o=c,h>0){if(++s>=800)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}(bn),Yi=function(i,s){return Zs(Qi(i,s,Dr),i+"")},Xs=function(i,s,o){if(!F(o))return!1;var c=typeof s;return!!(c=="number"?rn(o)&&jr(s,o.length):c=="string"&&s in o)&&d(o[s],i)},gr=function(i){return Yi(function(s,o){var c=-1,h=o.length,p=h>1?o[h-1]:void 0,g=h>2?o[2]:void 0;for(p=i.length>3&&typeof p=="function"?(h--,p):void 0,g&&Xs(o[0],o[1],g)&&(p=h<3?void 0:p,h=1),s=Object(s);++c<h;){var v=o[c];v&&i(s,v,c,p)}return s})}(function(i,s,o){Mr(i,s,o)});var at=(i=>(i[i.TYPE=3]="TYPE",i[i.LEVEL=12]="LEVEL",i[i.ATTRIBUTE=13]="ATTRIBUTE",i[i.BLOT=14]="BLOT",i[i.INLINE=7]="INLINE",i[i.BLOCK=11]="BLOCK",i[i.BLOCK_BLOT=10]="BLOCK_BLOT",i[i.INLINE_BLOT=6]="INLINE_BLOT",i[i.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",i[i.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",i[i.ANY=15]="ANY",i))(at||{});class Je{constructor(s,o,c={}){this.attrName=s,this.keyName=o;let h=at.TYPE&at.ATTRIBUTE;this.scope=c.scope!=null?c.scope&at.LEVEL|h:at.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}static keys(s){return Array.from(s.attributes).map(o=>o.name)}add(s,o){return!!this.canAdd(s,o)&&(s.setAttribute(this.keyName,o),!0)}canAdd(s,o){return this.whitelist==null||(typeof o=="string"?this.whitelist.indexOf(o.replace(/["']/g,""))>-1:this.whitelist.indexOf(o)>-1)}remove(s){s.removeAttribute(this.keyName)}value(s){let o=s.getAttribute(this.keyName);return this.canAdd(s,o)&&o?o:""}}class Pr extends Error{constructor(s){super(s="[Parchment] "+s),this.message=s,this.name=this.constructor.name}}let Ef=class vf{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(s,o=!1){if(s==null)return null;if(this.blots.has(s))return this.blots.get(s)||null;if(o){let c=null;try{c=s.parentNode}catch{return null}return this.find(c,o)}return null}create(s,o,c){let h=this.query(o);if(h==null)throw new Pr(`Unable to create ${o} blot`);let p=h,g=o instanceof Node||o.nodeType===Node.TEXT_NODE?o:p.create(c),v=new p(s,g,c);return vf.blots.set(v.domNode,v),v}find(s,o=!1){return vf.find(s,o)}query(s,o=at.ANY){let c;return typeof s=="string"?c=this.types[s]||this.attributes[s]:s instanceof Text||s.nodeType===Node.TEXT_NODE?c=this.types.text:typeof s=="number"?s&at.LEVEL&at.BLOCK?c=this.types.block:s&at.LEVEL&at.INLINE&&(c=this.types.inline):s instanceof Element&&((s.getAttribute("class")||"").split(/\s+/).some(h=>(c=this.classes[h],!!c)),c=c||this.tags[s.tagName]),c==null?null:"scope"in c&&o&at.LEVEL&c.scope&&o&at.TYPE&c.scope?c:null}register(...s){return s.map(o=>{let c="blotName"in o,h="attrName"in o;if(!c&&!h)throw new Pr("Invalid definition");if(c&&o.blotName==="abstract")throw new Pr("Cannot register abstract class");let p=c?o.blotName:h?o.attrName:void 0;return this.types[p]=o,h?typeof o.keyName=="string"&&(this.attributes[o.keyName]=o):c&&(o.className&&(this.classes[o.className]=o),o.tagName&&(Array.isArray(o.tagName)?o.tagName=o.tagName.map(g=>g.toUpperCase()):o.tagName=o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach(g=>{(this.tags[g]==null||o.className==null)&&(this.tags[g]=o)}))),o})}};Ef.blots=new WeakMap;let Js=Ef;function Af(i,s){return(i.getAttribute("class")||"").split(/\s+/).filter(o=>o.indexOf(`${s}-`)===0)}let Ur=class extends Je{static keys(i){return(i.getAttribute("class")||"").split(/\s+/).map(s=>s.split("-").slice(0,-1).join("-"))}add(i,s){return!!this.canAdd(i,s)&&(this.remove(i),i.classList.add(`${this.keyName}-${s}`),!0)}remove(i){Af(i,this.keyName).forEach(s=>{i.classList.remove(s)}),i.classList.length===0&&i.removeAttribute("class")}value(i){let s=(Af(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,s)?s:""}};function rc(i){let s=i.split("-"),o=s.slice(1).map(c=>c[0].toUpperCase()+c.slice(1)).join("");return s[0]+o}let zn=class extends Je{static keys(i){return(i.getAttribute("style")||"").split(";").map(s=>s.split(":")[0].trim())}add(i,s){return!!this.canAdd(i,s)&&(i.style[rc(this.keyName)]=s,!0)}remove(i){i.style[rc(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")}value(i){let s=i.style[rc(this.keyName)];return this.canAdd(i,s)?s:""}},rl=class{constructor(i){this.attributes={},this.domNode=i,this.build()}attribute(i,s){s?i.add(this.domNode,s)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])}build(){this.attributes={};let i=Js.find(this.domNode);if(i==null)return;let s=Je.keys(this.domNode),o=Ur.keys(this.domNode),c=zn.keys(this.domNode);s.concat(o).concat(c).forEach(h=>{let p=i.scroll.query(h,at.ATTRIBUTE);p instanceof Je&&(this.attributes[p.attrName]=p)})}copy(i){Object.keys(this.attributes).forEach(s=>{let o=this.attributes[s].value(this.domNode);i.format(s,o)})}move(i){this.copy(i),Object.keys(this.attributes).forEach(s=>{this.attributes[s].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((i,s)=>(i[s]=this.attributes[s].value(this.domNode),i),{})}},wf=class{constructor(i,s){this.scroll=i,this.domNode=s,Js.blots.set(s,this),this.prev=null,this.next=null}static create(i){if(this.tagName==null)throw new Pr("Blot definition missing tagName");let s,o;return Array.isArray(this.tagName)?(typeof i=="string"?(o=i.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))):typeof i=="number"&&(o=i),s=typeof o=="number"?document.createElement(this.tagName[o-1]):o&&this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):s=document.createElement(this.tagName),this.className&&s.classList.add(this.className),s}get statics(){return this.constructor}attach(){}clone(){let i=this.domNode.cloneNode(!1);return this.scroll.create(i)}detach(){this.parent!=null&&this.parent.removeChild(this),Js.blots.delete(this.domNode)}deleteAt(i,s){this.isolate(i,s).remove()}formatAt(i,s,o,c){let h=this.isolate(i,s);if(this.scroll.query(o,at.BLOT)!=null&&c)h.wrap(o,c);else if(this.scroll.query(o,at.ATTRIBUTE)!=null){let p=this.scroll.create(this.statics.scope);h.wrap(p),p.format(o,c)}}insertAt(i,s,o){let c=o==null?this.scroll.create("text",s):this.scroll.create(s,o),h=this.split(i);this.parent.insertBefore(c,h||void 0)}isolate(i,s){let o=this.split(i);if(o==null)throw new Error("Attempt to isolate at end");return o.split(s),o}length(){return 1}offset(i=this.parent){return this.parent==null||this===i?0:this.parent.children.offset(this)+this.parent.offset(i)}optimize(i){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(i,s){let o=typeof i=="string"?this.scroll.create(i,s):i;return this.parent!=null&&(this.parent.insertBefore(o,this.next||void 0),this.remove()),o}split(i,s){return i===0?this:this.next}update(i,s){}wrap(i,s){let o=typeof i=="string"?this.scroll.create(i,s):i;if(this.parent!=null&&this.parent.insertBefore(o,this.next||void 0),typeof o.appendChild!="function")throw new Pr(`Cannot wrap ${i}`);return o.appendChild(this),o}};wf.blotName="abstract";let Nf=wf,Tf=class extends Nf{static value(i){return!0}index(i,s){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1}position(i,s){let o=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(o+=1),[this.parent.domNode,o]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Tf.scope=at.INLINE_BLOT;let He=Tf;class _b{constructor(){this.head=null,this.tail=null,this.length=0}append(...s){if(this.insertBefore(s[0],null),s.length>1){let o=s.slice(1);this.append(...o)}}at(s){let o=this.iterator(),c=o();for(;c&&s>0;)s-=1,c=o();return c}contains(s){let o=this.iterator(),c=o();for(;c;){if(c===s)return!0;c=o()}return!1}indexOf(s){let o=this.iterator(),c=o(),h=0;for(;c;){if(c===s)return h;h+=1,c=o()}return-1}insertBefore(s,o){s!=null&&(this.remove(s),s.next=o,o!=null?(s.prev=o.prev,o.prev!=null&&(o.prev.next=s),o.prev=s,o===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)}offset(s){let o=0,c=this.head;for(;c!=null;){if(c===s)return o;o+=c.length(),c=c.next}return-1}remove(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)}iterator(s=this.head){return()=>{let o=s;return s!=null&&(s=s.next),o}}find(s,o=!1){let c=this.iterator(),h=c();for(;h;){let p=h.length();if(s<p||o&&s===p&&(h.next==null||h.next.length()!==0))return[h,s];s-=p,h=c()}return[null,0]}forEach(s){let o=this.iterator(),c=o();for(;c;)s(c),c=o()}forEachAt(s,o,c){if(o<=0)return;let[h,p]=this.find(s),g=s-p,v=this.iterator(h),S=v();for(;S&&g<s+o;){let B=S.length();s>g?c(S,s-g,Math.min(o,g+B-s)):c(S,0,Math.min(B,s+o-g)),g+=B,S=v()}}map(s){return this.reduce((o,c)=>(o.push(s(c)),o),[])}reduce(s,o){let c=this.iterator(),h=c();for(;h;)o=s(o,h),h=c();return o}}function Sf(i,s){let o=s.find(i);if(o)return o;try{return s.create(i)}catch{let c=s.create(at.INLINE);return Array.from(i.childNodes).forEach(h=>{c.domNode.appendChild(h)}),i.parentNode&&i.parentNode.replaceChild(c.domNode,i),c.attach(),c}}let Lf=class bs extends Nf{constructor(s,o){super(s,o),this.uiNode=null,this.build()}appendChild(s){this.insertBefore(s)}attach(){super.attach(),this.children.forEach(s=>{s.attach()})}attachUI(s){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=s,bs.uiClass&&this.uiNode.classList.add(bs.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new _b,Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).reverse().forEach(s=>{try{let o=Sf(s,this.scroll);this.insertBefore(o,this.children.head||void 0)}catch(o){if(o instanceof Pr)return;throw o}})}deleteAt(s,o){if(s===0&&o===this.length())return this.remove();this.children.forEachAt(s,o,(c,h,p)=>{c.deleteAt(h,p)})}descendant(s,o=0){let[c,h]=this.children.find(o);return s.blotName==null&&s(c)||s.blotName!=null&&c instanceof s?[c,h]:c instanceof bs?c.descendant(s,h):[null,-1]}descendants(s,o=0,c=Number.MAX_VALUE){let h=[],p=c;return this.children.forEachAt(o,c,(g,v,S)=>{(s.blotName==null&&s(g)||s.blotName!=null&&g instanceof s)&&h.push(g),g instanceof bs&&(h=h.concat(g.descendants(s,v,p))),p-=S}),h}detach(){this.children.forEach(s=>{s.detach()}),super.detach()}enforceAllowedChildren(){let s=!1;this.children.forEach(o=>{s||this.statics.allowedChildren.some(c=>o instanceof c)||(o.statics.scope===at.BLOCK_BLOT?(o.next!=null&&this.splitAfter(o),o.prev!=null&&this.splitAfter(o.prev),o.parent.unwrap(),s=!0):o instanceof bs?o.unwrap():o.remove())})}formatAt(s,o,c,h){this.children.forEachAt(s,o,(p,g,v)=>{p.formatAt(g,v,c,h)})}insertAt(s,o,c){let[h,p]=this.children.find(s);if(h)h.insertAt(p,o,c);else{let g=c==null?this.scroll.create("text",o):this.scroll.create(o,c);this.appendChild(g)}}insertBefore(s,o){s.parent!=null&&s.parent.children.remove(s);let c=null;this.children.insertBefore(s,o||null),s.parent=this,o!=null&&(c=o.domNode),(this.domNode.parentNode!==s.domNode||this.domNode.nextSibling!==c)&&this.domNode.insertBefore(s.domNode,c),s.attach()}length(){return this.children.reduce((s,o)=>s+o.length(),0)}moveChildren(s,o){this.children.forEach(c=>{s.insertBefore(c,o)})}optimize(s){if(super.optimize(s),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o)}else this.remove()}path(s,o=!1){let[c,h]=this.children.find(s,o),p=[[this,s]];return c instanceof bs?p.concat(c.path(h,o)):(c!=null&&p.push([c,h]),p)}removeChild(s){this.children.remove(s)}replaceWith(s,o){let c=typeof s=="string"?this.scroll.create(s,o):s;return c instanceof bs&&this.moveChildren(c),super.replaceWith(c)}split(s,o=!1){if(!o){if(s===0)return this;if(s===this.length())return this.next}let c=this.clone();return this.parent&&this.parent.insertBefore(c,this.next||void 0),this.children.forEachAt(s,this.length(),(h,p,g)=>{let v=h.split(p,o);v!=null&&c.appendChild(v)}),c}splitAfter(s){let o=this.clone();for(;s.next!=null;)o.appendChild(s.next);return this.parent&&this.parent.insertBefore(o,this.next||void 0),o}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(s,o){let c=[],h=[];s.forEach(p=>{p.target===this.domNode&&p.type==="childList"&&(c.push(...p.addedNodes),h.push(...p.removedNodes))}),h.forEach(p=>{if(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let g=this.scroll.find(p);g!=null&&(g.domNode.parentNode==null||g.domNode.parentNode===this.domNode)&&g.detach()}),c.filter(p=>p.parentNode===this.domNode&&p!==this.uiNode).sort((p,g)=>p===g?0:p.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(p=>{let g=null;p.nextSibling!=null&&(g=this.scroll.find(p.nextSibling));let v=Sf(p,this.scroll);(v.next!==g||v.next==null)&&(v.parent!=null&&v.parent.removeChild(this),this.insertBefore(v,g||void 0))}),this.enforceAllowedChildren()}};Lf.uiClass="";let Fr=Lf,Qs=class Wi extends Fr{static create(s){return super.create(s)}static formats(s,o){let c=o.query(Wi.blotName);if(c==null||s.tagName!==c.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,o){super(s,o),this.attributes=new rl(this.domNode)}format(s,o){if(s!==this.statics.blotName||o){let c=this.scroll.query(s,at.INLINE);if(c==null)return;c instanceof Je?this.attributes.attribute(c,o):o&&(s!==this.statics.blotName||this.formats()[s]!==o)&&this.replaceWith(s,o)}else this.children.forEach(c=>{c instanceof Wi||(c=c.wrap(Wi.blotName,!0)),this.attributes.copy(c)}),this.unwrap()}formats(){let s=this.attributes.values(),o=this.statics.formats(this.domNode,this.scroll);return o!=null&&(s[this.statics.blotName]=o),s}formatAt(s,o,c,h){this.formats()[c]!=null||this.scroll.query(c,at.ATTRIBUTE)?this.isolate(s,o).format(c,h):super.formatAt(s,o,c,h)}optimize(s){super.optimize(s);let o=this.formats();if(Object.keys(o).length===0)return this.unwrap();let c=this.next;c instanceof Wi&&c.prev===this&&function(h,p){if(Object.keys(h).length!==Object.keys(p).length)return!1;for(let g in h)if(h[g]!==p[g])return!1;return!0}(o,c.formats())&&(c.moveChildren(this),c.remove())}replaceWith(s,o){let c=super.replaceWith(s,o);return this.attributes.copy(c),c}update(s,o){super.update(s,o),s.some(c=>c.target===this.domNode&&c.type==="attributes")&&this.attributes.build()}wrap(s,o){let c=super.wrap(s,o);return c instanceof Wi&&this.attributes.move(c),c}};Qs.allowedChildren=[Qs,He],Qs.blotName="inline",Qs.scope=at.INLINE_BLOT,Qs.tagName="SPAN";let nc=Qs,Ys=class xf extends Fr{static create(s){return super.create(s)}static formats(s,o){let c=o.query(xf.blotName);if(c==null||s.tagName!==c.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,o){super(s,o),this.attributes=new rl(this.domNode)}format(s,o){let c=this.scroll.query(s,at.BLOCK);c!=null&&(c instanceof Je?this.attributes.attribute(c,o):s!==this.statics.blotName||o?o&&(s!==this.statics.blotName||this.formats()[s]!==o)&&this.replaceWith(s,o):this.replaceWith(xf.blotName))}formats(){let s=this.attributes.values(),o=this.statics.formats(this.domNode,this.scroll);return o!=null&&(s[this.statics.blotName]=o),s}formatAt(s,o,c,h){this.scroll.query(c,at.BLOCK)!=null?this.format(c,h):super.formatAt(s,o,c,h)}insertAt(s,o,c){if(c==null||this.scroll.query(o,at.INLINE)!=null)super.insertAt(s,o,c);else{let h=this.split(s);if(h==null)throw new Error("Attempt to insertAt after block boundaries");{let p=this.scroll.create(o,c);h.parent.insertBefore(p,h)}}}replaceWith(s,o){let c=super.replaceWith(s,o);return this.attributes.copy(c),c}update(s,o){super.update(s,o),s.some(c=>c.target===this.domNode&&c.type==="attributes")&&this.attributes.build()}};Ys.blotName="block",Ys.scope=at.BLOCK_BLOT,Ys.tagName="P",Ys.allowedChildren=[nc,Ys,He];let to=Ys,sc=class extends Fr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(i,s){super.deleteAt(i,s),this.enforceAllowedChildren()}formatAt(i,s,o,c){super.formatAt(i,s,o,c),this.enforceAllowedChildren()}insertAt(i,s,o){super.insertAt(i,s,o),this.enforceAllowedChildren()}optimize(i){super.optimize(i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};sc.blotName="container",sc.scope=at.BLOCK_BLOT;let nl=sc,br=class extends He{static formats(i,s){}format(i,s){super.formatAt(0,this.length(),i,s)}formatAt(i,s,o,c){i===0&&s===this.length()?this.format(o,c):super.formatAt(i,s,o,c)}formats(){return this.statics.formats(this.domNode,this.scroll)}},kb={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ti=class extends Fr{constructor(i,s){super(null,s),this.registry=i,this.scroll=this,this.build(),this.observer=new MutationObserver(o=>{this.update(o)}),this.observer.observe(this.domNode,kb),this.attach()}create(i,s){return this.registry.create(this,i,s)}find(i,s=!1){let o=this.registry.find(i,s);return o?o.scroll===this?o:s?this.find(o.scroll.domNode.parentNode,!0):null:null}query(i,s=at.ANY){return this.registry.query(i,s)}register(...i){return this.registry.register(...i)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(i,s){this.update(),i===0&&s===this.length()?this.children.forEach(o=>{o.remove()}):super.deleteAt(i,s)}formatAt(i,s,o,c){this.update(),super.formatAt(i,s,o,c)}insertAt(i,s,o){this.update(),super.insertAt(i,s,o)}optimize(i=[],s={}){super.optimize(s);let o=s.mutationsMap||new WeakMap,c=Array.from(this.observer.takeRecords());for(;c.length>0;)i.push(c.pop());let h=(v,S=!0)=>{v==null||v===this||v.domNode.parentNode!=null&&(o.has(v.domNode)||o.set(v.domNode,[]),S&&h(v.parent))},p=v=>{o.has(v.domNode)&&(v instanceof Fr&&v.children.forEach(p),o.delete(v.domNode),v.optimize(s))},g=i;for(let v=0;g.length>0;v+=1){if(v>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(g.forEach(S=>{let B=this.find(S.target,!0);B!=null&&(B.domNode===S.target&&(S.type==="childList"?(h(this.find(S.previousSibling,!1)),Array.from(S.addedNodes).forEach(z=>{let rt=this.find(z,!1);h(rt,!1),rt instanceof Fr&&rt.children.forEach(nt=>{h(nt,!1)})})):S.type==="attributes"&&h(B.prev)),h(B))}),this.children.forEach(p),g=Array.from(this.observer.takeRecords()),c=g.slice();c.length>0;)i.push(c.pop())}}update(i,s={}){i=i||this.observer.takeRecords();let o=new WeakMap;i.map(c=>{let h=this.find(c.target,!0);return h==null?null:o.has(h.domNode)?(o.get(h.domNode).push(c),null):(o.set(h.domNode,[c]),h)}).forEach(c=>{c!=null&&c!==this&&o.has(c.domNode)&&c.update(o.get(c.domNode)||[],s)}),s.mutationsMap=o,o.has(this.domNode)&&super.update(o.get(this.domNode),s),this.optimize(i,s)}};ti.blotName="scroll",ti.defaultChild=to,ti.allowedChildren=[to,nl],ti.scope=at.BLOCK_BLOT,ti.tagName="DIV";let ic=ti,oc=class Lb extends He{static create(s){return document.createTextNode(s)}static value(s){return s.data}constructor(s,o){super(s,o),this.text=this.statics.value(this.domNode)}deleteAt(s,o){this.domNode.data=this.text=this.text.slice(0,s)+this.text.slice(s+o)}index(s,o){return this.domNode===s?o:-1}insertAt(s,o,c){c==null?(this.text=this.text.slice(0,s)+o+this.text.slice(s),this.domNode.data=this.text):super.insertAt(s,o,c)}length(){return this.text.length}optimize(s){super.optimize(s),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Lb&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(s,o=!1){return[this.domNode,s]}split(s,o=!1){if(!o){if(s===0)return this;if(s===this.length())return this.next}let c=this.scroll.create(this.domNode.splitText(s));return this.parent.insertBefore(c,this.next||void 0),this.text=this.statics.value(this.domNode),c}update(s,o){s.some(c=>c.type==="characterData"&&c.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};oc.blotName="text",oc.scope=at.INLINE_BLOT;let sl=oc;var et=a(660);let Rb=function(i,s){for(var o=-1,c=i==null?0:i.length;++o<c&&s(i[o],o,i)!==!1;);return i},Ib=tn(Object.keys,Object);var Bb=Object.prototype.hasOwnProperty;let jb=function(i){if(!pn(i))return Ib(i);var s=[];for(var o in Object(i))Bb.call(i,o)&&o!="constructor"&&s.push(o);return s},lc=function(i){return rn(i)?tl(i):jb(i)},Mb=function(i,s){return i&&St(s,lc(s),i)},Db=function(i,s){return i&&St(s,ir(s),i)},Pb=function(i,s){for(var o=-1,c=i==null?0:i.length,h=0,p=[];++o<c;){var g=i[o];s(g,o,i)&&(p[h++]=g)}return p},Of=function(){return[]};var Ub=Object.prototype.propertyIsEnumerable,qf=Object.getOwnPropertySymbols;let ac=qf?function(i){return i==null?[]:(i=Object(i),Pb(qf(i),function(s){return Ub.call(i,s)}))}:Of,Fb=function(i,s){return St(i,ac(i),s)},Cf=function(i,s){for(var o=-1,c=s.length,h=i.length;++o<c;)i[h+o]=s[o];return i},_f=Object.getOwnPropertySymbols?function(i){for(var s=[];i;)Cf(s,ac(i)),i=en(i);return s}:Of,Hb=function(i,s){return St(i,_f(i),s)},kf=function(i,s,o){var c=s(i);return oe(i)?c:Cf(c,o(i))},cc=function(i){return kf(i,lc,ac)},zb=function(i){return kf(i,ir,_f)},uc=mt(G,"DataView"),hc=mt(G,"Promise"),fc=mt(G,"Set"),dc=mt(G,"WeakMap");var Rf="[object Map]",If="[object Promise]",Bf="[object Set]",jf="[object WeakMap]",Mf="[object DataView]",$b=_t(uc),Vb=_t(Lt),Kb=_t(hc),Gb=_t(fc),Wb=_t(dc),ws=yt;(uc&&ws(new uc(new ArrayBuffer(1)))!=Mf||Lt&&ws(new Lt)!=Rf||hc&&ws(hc.resolve())!=If||fc&&ws(new fc)!=Bf||dc&&ws(new dc)!=jf)&&(ws=function(i){var s=yt(i),o=s=="[object Object]"?i.constructor:void 0,c=o?_t(o):"";if(c)switch(c){case $b:return Mf;case Vb:return Rf;case Kb:return If;case Gb:return Bf;case Wb:return jf}return s});let eo=ws;var Zb=Object.prototype.hasOwnProperty;let Xb=function(i){var s=i.length,o=new i.constructor(s);return s&&typeof i[0]=="string"&&Zb.call(i,"index")&&(o.index=i.index,o.input=i.input),o},Jb=function(i,s){var o=s?_e(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)};var Qb=/\w*$/;let Yb=function(i){var s=new i.constructor(i.source,Qb.exec(i));return s.lastIndex=i.lastIndex,s};var Df=O?O.prototype:void 0,Pf=Df?Df.valueOf:void 0;let ty=function(i){return Pf?Object(Pf.call(i)):{}},ey=function(i,s,o){var c=i.constructor;switch(s){case"[object ArrayBuffer]":return _e(i);case"[object Boolean]":case"[object Date]":return new c(+i);case"[object DataView]":return Jb(i,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ke(i,o);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(i);case"[object RegExp]":return Yb(i);case"[object Symbol]":return ty(i)}},ry=function(i){return Be(i)&&eo(i)=="[object Map]"};var Uf=tt&&tt.isMap;let ny=Uf?Ot(Uf):ry,sy=function(i){return Be(i)&&eo(i)=="[object Set]"};var Ff=tt&&tt.isSet;let iy=Ff?Ot(Ff):sy;var Hf="[object Arguments]",zf="[object Function]",$f="[object Object]",Xt={};Xt[Hf]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object DataView]"]=Xt["[object Boolean]"]=Xt["[object Date]"]=Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt[$f]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object Symbol]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Error]"]=Xt[zf]=Xt["[object WeakMap]"]=!1;let oy=function i(s,o,c,h,p,g){var v,S=1&o,B=2&o,z=4&o;if(c&&(v=p?c(s,h,p,g):c(s)),v!==void 0)return v;if(!F(s))return s;var rt=oe(s);if(rt){if(v=Xb(s),!S)return Ir(s,v)}else{var nt=eo(s),ht=nt==zf||nt=="[object GeneratorFunction]";if(L(s))return Xe(s,S);if(nt==$f||nt==Hf||ht&&!p){if(v=B||ht?{}:Pn(s),!S)return B?Hb(s,Db(v,s)):Fb(s,Mb(v,s))}else{if(!Xt[nt])return p?s:{};v=ey(s,nt,S)}}g||(g=new Ze);var ut=g.get(s);if(ut)return ut;g.set(s,v),iy(s)?s.forEach(function(zt){v.add(i(zt,o,c,zt,s,g))}):ny(s)&&s.forEach(function(zt,Pe){v.set(Pe,i(zt,o,c,Pe,s,g))});var vt=rt?void 0:(z?B?zb:cc:B?ir:lc)(s);return Rb(vt||s,function(zt,Pe){vt&&(zt=s[Pe=zt]),Fe(v,Pe,i(zt,o,c,Pe,s,g))}),v},ei=function(i){return oy(i,5)},ly=function(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this},ay=function(i){return this.__data__.has(i)};function il(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new Ht;++s<o;)this.add(i[s])}il.prototype.add=il.prototype.push=ly,il.prototype.has=ay;let cy=il,uy=function(i,s){for(var o=-1,c=i==null?0:i.length;++o<c;)if(s(i[o],o,i))return!0;return!1},hy=function(i,s){return i.has(s)},Vf=function(i,s,o,c,h,p){var g=1&o,v=i.length,S=s.length;if(v!=S&&!(g&&S>v))return!1;var B=p.get(i),z=p.get(s);if(B&&z)return B==s&&z==i;var rt=-1,nt=!0,ht=2&o?new cy:void 0;for(p.set(i,s),p.set(s,i);++rt<v;){var ut=i[rt],vt=s[rt];if(c)var zt=g?c(vt,ut,rt,s,i,p):c(ut,vt,rt,i,s,p);if(zt!==void 0){if(zt)continue;nt=!1;break}if(ht){if(!uy(s,function(Pe,Kr){if(!hy(ht,Kr)&&(ut===Pe||h(ut,Pe,o,c,p)))return ht.push(Kr)})){nt=!1;break}}else if(ut!==vt&&!h(ut,vt,o,c,p)){nt=!1;break}}return p.delete(i),p.delete(s),nt},fy=function(i){var s=-1,o=Array(i.size);return i.forEach(function(c,h){o[++s]=[h,c]}),o},dy=function(i){var s=-1,o=Array(i.size);return i.forEach(function(c){o[++s]=c}),o};var Kf=O?O.prototype:void 0,pc=Kf?Kf.valueOf:void 0;let py=function(i,s,o,c,h,p,g){switch(o){case"[object DataView]":if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(i.byteLength!=s.byteLength||!p(new xe(i),new xe(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return d(+i,+s);case"[object Error]":return i.name==s.name&&i.message==s.message;case"[object RegExp]":case"[object String]":return i==s+"";case"[object Map]":var v=fy;case"[object Set]":var S=1&c;if(v||(v=dy),i.size!=s.size&&!S)return!1;var B=g.get(i);if(B)return B==s;c|=2,g.set(i,s);var z=Vf(v(i),v(s),c,h,p,g);return g.delete(i),z;case"[object Symbol]":if(pc)return pc.call(i)==pc.call(s)}return!1};var my=Object.prototype.hasOwnProperty;let gy=function(i,s,o,c,h,p){var g=1&o,v=cc(i),S=v.length;if(S!=cc(s).length&&!g)return!1;for(var B=S;B--;){var z=v[B];if(!(g?z in s:my.call(s,z)))return!1}var rt=p.get(i),nt=p.get(s);if(rt&&nt)return rt==s&&nt==i;var ht=!0;p.set(i,s),p.set(s,i);for(var ut=g;++B<S;){var vt=i[z=v[B]],zt=s[z];if(c)var Pe=g?c(zt,vt,z,s,i,p):c(vt,zt,z,i,s,p);if(!(Pe===void 0?vt===zt||h(vt,zt,o,c,p):Pe)){ht=!1;break}ut||(ut=z=="constructor")}if(ht&&!ut){var Kr=i.constructor,Xn=s.constructor;Kr==Xn||!("constructor"in i)||!("constructor"in s)||typeof Kr=="function"&&Kr instanceof Kr&&typeof Xn=="function"&&Xn instanceof Xn||(ht=!1)}return p.delete(i),p.delete(s),ht};var Gf="[object Arguments]",Wf="[object Array]",ol="[object Object]",Zf=Object.prototype.hasOwnProperty;let by=function(i,s,o,c,h,p){var g=oe(i),v=oe(s),S=g?Wf:eo(i),B=v?Wf:eo(s),z=(S=S==Gf?ol:S)==ol,rt=(B=B==Gf?ol:B)==ol,nt=S==B;if(nt&&L(i)){if(!L(s))return!1;g=!0,z=!1}if(nt&&!z)return p||(p=new Ze),g||Ct(i)?Vf(i,s,o,c,h,p):py(i,s,S,o,c,h,p);if(!(1&o)){var ht=z&&Zf.call(i,"__wrapped__"),ut=rt&&Zf.call(s,"__wrapped__");if(ht||ut){var vt=ht?i.value():i,zt=ut?s.value():s;return p||(p=new Ze),h(vt,zt,o,c,p)}}return!!nt&&(p||(p=new Ze),gy(i,s,o,c,h,p))},yy=function i(s,o,c,h,p){return s===o||(s==null||o==null||!Be(s)&&!Be(o)?s!=s&&o!=o:by(s,o,c,h,i,p))},mc=function(i,s){return yy(i,s)};class gc extends br{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}gc.blotName="break",gc.tagName="BR";let yn=gc;class Hr extends sl{}function ll(i){return i.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s])}class $n extends nc{static allowedChildren=[$n,yn,br,Hr];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(s,o){let c=$n.order.indexOf(s),h=$n.order.indexOf(o);return c>=0||h>=0?c-h:s===o?0:s<o?-1:1}formatAt(s,o,c,h){if($n.compare(this.statics.blotName,c)<0&&this.scroll.query(c,at.BLOT)){let p=this.isolate(s,o);h&&p.wrap(c,h)}else super.formatAt(s,o,c,h)}optimize(s){if(super.optimize(s),this.parent instanceof $n&&$n.compare(this.statics.blotName,this.parent.statics.blotName)>0){let o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}let Vn=$n;class De extends to{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=Xf(this)),this.cache.delta}deleteAt(s,o){super.deleteAt(s,o),this.cache={}}formatAt(s,o,c,h){o<=0||(this.scroll.query(c,at.BLOCK)?s+o===this.length()&&this.format(c,h):super.formatAt(s,Math.min(o,this.length()-s-1),c,h),this.cache={})}insertAt(s,o,c){if(c!=null)return super.insertAt(s,o,c),void(this.cache={});if(o.length===0)return;let h=o.split(`
`),p=h.shift();p.length>0&&(s<this.length()-1||this.children.tail==null?super.insertAt(Math.min(s,this.length()-1),p):this.children.tail.insertAt(this.children.tail.length(),p),this.cache={});let g=this;h.reduce((v,S)=>(g=g.split(v,!0),g.insertAt(0,S),S.length),s+p.length)}insertBefore(s,o){let{head:c}=this.children;super.insertBefore(s,o),c instanceof yn&&c.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(s,o){super.moveChildren(s,o),this.cache={}}optimize(s){super.optimize(s),this.cache={}}path(s){return super.path(s,!0)}removeChild(s){super.removeChild(s),this.cache={}}split(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(o&&(s===0||s>=this.length()-1)){let h=this.clone();return s===0?(this.parent.insertBefore(h,this),this):(this.parent.insertBefore(h,this.next),h)}let c=super.split(s,o);return this.cache={},c}}De.blotName="block",De.tagName="P",De.defaultChild=yn,De.allowedChildren=[yn,Vn,br,Hr];class Nr extends br{attach(){super.attach(),this.attributes=new rl(this.domNode)}delta(){return new et().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(s,o){let c=this.scroll.query(s,at.BLOCK_ATTRIBUTE);c!=null&&this.attributes.attribute(c,o)}formatAt(s,o,c,h){this.format(c,h)}insertAt(s,o,c){if(c!=null)return void super.insertAt(s,o,c);let h=o.split(`
`),p=h.pop(),g=h.map(S=>{let B=this.scroll.create(De.blotName);return B.insertAt(0,S),B}),v=this.split(s);g.forEach(S=>{this.parent.insertBefore(S,v)}),p&&this.parent.insertBefore(this.scroll.create("text",p),v)}}function Xf(i){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return i.descendants(He).reduce((o,c)=>c.length()===0?o:o.insert(c.value(),Tr(c,{},s)),new et).insert(`
`,Tr(i))}function Tr(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return i==null?s:("formats"in i&&typeof i.formats=="function"&&(s={...s,...i.formats()},o&&delete s["code-token"]),i.parent==null||i.parent.statics.blotName==="scroll"||i.parent.statics.scope!==i.statics.scope?s:Tr(i.parent,s,o))}Nr.scope=at.BLOCK_BLOT;class Kn extends br{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(s,o,c){super(s,o),this.selection=c,this.textNode=document.createTextNode(Kn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(s,o){if(this.savedLength!==0)return void super.format(s,o);let c=this,h=0;for(;c!=null&&c.statics.scope!==at.BLOCK_BLOT;)h+=c.offset(c.parent),c=c.parent;c!=null&&(this.savedLength=Kn.CONTENTS.length,c.optimize(),c.formatAt(h,Kn.CONTENTS.length,s,o),this.savedLength=0)}index(s,o){return s===this.textNode?0:super.index(s,o)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;let s=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let o=this.prev instanceof Hr?this.prev:null,c=o?o.length():0,h=this.next instanceof Hr?this.next:null,p=h?h.text:"",{textNode:g}=this,v=g.data.split(Kn.CONTENTS).join(""),S;if(g.data=Kn.CONTENTS,o)S=o,(v||h)&&(o.insertAt(o.length(),v+p),h&&h.remove());else if(h)S=h,h.insertAt(0,v);else{let B=document.createTextNode(v);S=this.scroll.create(B),this.parent.insertBefore(S,this)}if(this.remove(),s){let B=(nt,ht)=>o&&nt===o.domNode?ht:nt===g?c+ht-1:h&&nt===h.domNode?c+v.length+ht:null,z=B(s.start.node,s.start.offset),rt=B(s.end.node,s.end.offset);if(z!==null&&rt!==null)return{startNode:S.domNode,startOffset:z,endNode:S.domNode,endOffset:rt}}return null}update(s,o){if(s.some(c=>c.type==="characterData"&&c.target===this.textNode)){let c=this.restore();c&&(o.range=c)}}optimize(s){super.optimize(s);let{parent:o}=this;for(;o;){if(o.domNode.tagName==="A"){this.savedLength=Kn.CONTENTS.length,o.isolate(this.offset(o),this.length()).unwrap(),this.savedLength=0;break}o=o.parent}}value(){return""}}let al=Kn;var vy=a(228);let bc=new WeakMap,yc=["error","warn","log","info"],vc="warn";function Jf(i){if(vc&&yc.indexOf(i)<=yc.indexOf(vc)){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];console[i](...o)}}function xc(i){return yc.reduce((s,o)=>(s[o]=Jf.bind(console,o,i),s),{})}xc.level=i=>{vc=i},Jf.level=xc.level;let Ns=xc,Ec=Ns("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(i=>{document.addEventListener(i,function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];Array.from(document.querySelectorAll(".ql-container")).forEach(h=>{let p=bc.get(h);p&&p.emitter&&p.emitter.handleDOM(...o)})})});let ct=class extends vy{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Ec.error)}emit(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Ec.log.call(Ec,...s),super.emit(...s)}handleDOM(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];(this.domListeners[i.type]||[]).forEach(h=>{let{node:p,handler:g}=h;(i.target===p||p.contains(i.target))&&g(i,...o)})}listenDOM(i,s,o){this.domListeners[i]||(this.domListeners[i]=[]),this.domListeners[i].push({node:s,handler:o})}},Ac=Ns("quill:selection");class Gn{constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=s,this.length=o}}function wc(i,s){try{s.parentNode}catch{return!1}return i.contains(s)}let xy=class{constructor(i,s){this.emitter=s,this.scroll=i,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Gn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,ct.sources.USER),1)}),this.emitter.on(ct.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let o=this.getNativeRange();o!=null&&o.start.node!==this.cursor.textNode&&this.emitter.once(ct.events.SCROLL_UPDATE,(c,h)=>{try{this.root.contains(o.start.node)&&this.root.contains(o.end.node)&&this.setNativeRange(o.start.node,o.start.offset,o.end.node,o.end.offset);let p=h.some(g=>g.type==="characterData"||g.type==="childList"||g.type==="attributes"&&g.target===this.root);this.update(p?ct.sources.SILENT:c)}catch{}})}),this.emitter.on(ct.events.SCROLL_OPTIMIZE,(o,c)=>{if(c.range){let{startNode:h,startOffset:p,endNode:g,endOffset:v}=c.range;this.setNativeRange(h,p,g,v),this.update(ct.sources.SILENT)}}),this.update(ct.sources.SILENT)}handleComposition(){this.emitter.on(ct.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(ct.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let i=this.cursor.restore();if(!i)return;setTimeout(()=>{this.setNativeRange(i.startNode,i.startOffset,i.endNode,i.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(ct.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(i,s){this.scroll.update();let o=this.getNativeRange();if(o!=null&&o.native.collapsed&&!this.scroll.query(i,at.BLOCK)){if(o.start.node!==this.cursor.textNode){let c=this.scroll.find(o.start.node,!1);if(c==null)return;if(c instanceof He){let h=c.split(o.start.offset);c.parent.insertBefore(this.cursor,h)}else c.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(i,s),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this.scroll.length(),c;i=Math.min(i,o-1),s=Math.min(i+s,o-1)-i;let[h,p]=this.scroll.leaf(i);if(h==null)return null;if(s>0&&p===h.length()){let[B]=this.scroll.leaf(i+1);if(B){let[z]=this.scroll.line(i),[rt]=this.scroll.line(i+1);z===rt&&(h=B,p=0)}}[c,p]=h.position(p,!0);let g=document.createRange();if(s>0)return g.setStart(c,p),[h,p]=this.scroll.leaf(i+s),h==null?null:([c,p]=h.position(p,!0),g.setEnd(c,p),g.getBoundingClientRect());let v,S="left";if(c instanceof Text){if(!c.data.length)return null;p<c.data.length?(g.setStart(c,p),g.setEnd(c,p+1)):(g.setStart(c,p-1),g.setEnd(c,p),S="right"),v=g.getBoundingClientRect()}else{if(!(h.domNode instanceof Element))return null;v=h.domNode.getBoundingClientRect(),p>0&&(S="right")}return{bottom:v.top+v.height,height:v.height,left:v[S],right:v[S],top:v.top,width:0}}getNativeRange(){let i=document.getSelection();if(i==null||i.rangeCount<=0)return null;let s=i.getRangeAt(0);if(s==null)return null;let o=this.normalizeNative(s);return Ac.info("getNativeRange",o),o}getRange(){let i=this.scroll.domNode;if("isConnected"in i&&!i.isConnected)return[null,null];let s=this.getNativeRange();return s==null?[null,null]:[this.normalizedToRange(s),s]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&wc(this.root,document.activeElement)}normalizedToRange(i){let s=[[i.start.node,i.start.offset]];i.native.collapsed||s.push([i.end.node,i.end.offset]);let o=s.map(p=>{let[g,v]=p,S=this.scroll.find(g,!0),B=S.offset(this.scroll);return v===0?B:S instanceof He?B+S.index(g,v):B+S.length()}),c=Math.min(Math.max(...o),this.scroll.length()-1),h=Math.min(c,...o);return new Gn(h,c-h)}normalizeNative(i){if(!wc(this.root,i.startContainer)||!i.collapsed&&!wc(this.root,i.endContainer))return null;let s={start:{node:i.startContainer,offset:i.startOffset},end:{node:i.endContainer,offset:i.endOffset},native:i};return[s.start,s.end].forEach(o=>{let{node:c,offset:h}=o;for(;!(c instanceof Text)&&c.childNodes.length>0;)if(c.childNodes.length>h)c=c.childNodes[h],h=0;else{if(c.childNodes.length!==h)break;c=c.lastChild,h=c instanceof Text?c.data.length:c.childNodes.length>0?c.childNodes.length:c.childNodes.length+1}o.node=c,o.offset=h}),s}rangeToNative(i){let s=this.scroll.length(),o=(c,h)=>{c=Math.min(s-1,c);let[p,g]=this.scroll.leaf(c);return p?p.position(g,h):[null,-1]};return[...o(i.index,!1),...o(i.index+i.length,!0)]}setNativeRange(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s,h=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Ac.info("setNativeRange",i,s,o,c),i!=null&&(this.root.parentNode==null||i.parentNode==null||o.parentNode==null))return;let p=document.getSelection();if(p!=null)if(i!=null){this.hasFocus()||this.root.focus({preventScroll:!0});let{native:g}=this.getNativeRange()||{};if(g==null||h||i!==g.startContainer||s!==g.startOffset||o!==g.endContainer||c!==g.endOffset){i instanceof Element&&i.tagName==="BR"&&(s=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode),o instanceof Element&&o.tagName==="BR"&&(c=Array.from(o.parentNode.childNodes).indexOf(o),o=o.parentNode);let v=document.createRange();v.setStart(i,s),v.setEnd(o,c),p.removeAllRanges(),p.addRange(v)}}else p.removeAllRanges(),this.root.blur()}setRange(i){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct.sources.API;if(typeof s=="string"&&(o=s,s=!1),Ac.info("setRange",i),i!=null){let c=this.rangeToNative(i);this.setNativeRange(...c,s)}else this.setNativeRange(null);this.update(o)}update(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ct.sources.USER,s=this.lastRange,[o,c]=this.getRange();if(this.lastRange=o,this.lastNative=c,this.lastRange!=null&&(this.savedRange=this.lastRange),!mc(s,this.lastRange)){if(!this.composing&&c!=null&&c.native.collapsed&&c.start.node!==this.cursor.textNode){let p=this.cursor.restore();p&&this.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)}let h=[ct.events.SELECTION_CHANGE,ei(this.lastRange),ei(s),i];this.emitter.emit(ct.events.EDITOR_CHANGE,...h),i!==ct.sources.SILENT&&this.emitter.emit(...h)}}},Ey=/^[ -~]*$/;function ri(i,s,o){if(i.length===0){let[ht]=Nc(o.pop());return s<=0?`</li></${ht}>`:`</li></${ht}>${ri([],s-1,o)}`}let[{child:c,offset:h,length:p,indent:g,type:v},...S]=i,[B,z]=Nc(v);if(g>s)return o.push(v),g===s+1?`<${B}><li${z}>${ro(c,h,p)}${ri(S,g,o)}`:`<${B}><li>${ri(i,s+1,o)}`;let rt=o[o.length-1];if(g===s&&v===rt)return`</li><li${z}>${ro(c,h,p)}${ri(S,g,o)}`;let[nt]=Nc(o.pop());return`</li></${nt}>${ri(i,s-1,o)}`}function ro(i,s,o){let c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in i&&typeof i.html=="function")return i.html(s,o);if(i instanceof Hr)return ll(i.value().slice(s,s+o));if(i instanceof Fr){if(i.statics.blotName==="list-container"){let B=[];return i.children.forEachAt(s,o,(z,rt,nt)=>{let ht="formats"in z&&typeof z.formats=="function"?z.formats():{};B.push({child:z,offset:rt,length:nt,indent:ht.indent||0,type:ht.list})}),ri(B,-1,[])}let h=[];if(i.children.forEachAt(s,o,(B,z,rt)=>{h.push(ro(B,z,rt))}),c||i.statics.blotName==="list")return h.join("");let{outerHTML:p,innerHTML:g}=i.domNode,[v,S]=p.split(`>${g}<`);return v==="<table"?`<table style="border: 1px solid #000;">${h.join("")}<${S}`:`${v}>${h.join("")}<${S}`}return i.domNode instanceof Element?i.domNode.outerHTML:""}function Ay(i,s){return Object.keys(s).reduce((o,c)=>{if(i[c]==null)return o;let h=s[c];return h===i[c]?o[c]=h:Array.isArray(h)?h.indexOf(i[c])<0?o[c]=h.concat([i[c]]):o[c]=h:o[c]=[h,i[c]],o},{})}function Nc(i){let s=i==="ordered"?"ol":"ul";switch(i){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function Qf(i){return i.reduce((s,o)=>{if(typeof o.insert=="string"){let c=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(c,o.attributes)}return s.push(o)},new et)}function Yf(i,s){let{index:o,length:c}=i;return new Gn(o+s,c)}let wy=class{constructor(i){this.scroll=i,this.delta=this.getDelta()}applyDelta(i){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();let o=Qf(i),c=new et;return function(h){let p=[];return h.forEach(g=>{typeof g.insert=="string"?g.insert.split(`
`).forEach((v,S)=>{S&&p.push({insert:`
`,attributes:g.attributes}),v&&p.push({insert:v,attributes:g.attributes})}):p.push(g)}),p}(o.ops.slice()).reduce((h,p)=>{let g=et.Op.length(p),v=p.attributes||{},S=!1,B=!1;if(p.insert!=null){if(c.retain(g),typeof p.insert=="string"){let nt=p.insert;B=!nt.endsWith(`
`)&&(s<=h||!!this.scroll.descendant(Nr,h)[0]),this.scroll.insertAt(h,nt);let[ht,ut]=this.scroll.line(h),vt=gr({},Tr(ht));if(ht instanceof De){let[zt]=ht.descendant(He,ut);zt&&(vt=gr(vt,Tr(zt)))}v=et.AttributeMap.diff(vt,v)||{}}else if(typeof p.insert=="object"){let nt=Object.keys(p.insert)[0];if(nt==null)return h;let ht=this.scroll.query(nt,at.INLINE)!=null;if(ht)(s<=h||this.scroll.descendant(Nr,h)[0])&&(B=!0);else if(h>0){let[ut,vt]=this.scroll.descendant(He,h-1);ut instanceof Hr?ut.value()[vt]!==`
`&&(S=!0):ut instanceof br&&ut.statics.scope===at.INLINE_BLOT&&(S=!0)}if(this.scroll.insertAt(h,nt,p.insert[nt]),ht){let[ut]=this.scroll.descendant(He,h);if(ut){let vt=gr({},Tr(ut));v=et.AttributeMap.diff(vt,v)||{}}}}s+=g}else if(c.push(p),p.retain!==null&&typeof p.retain=="object"){let nt=Object.keys(p.retain)[0];if(nt==null)return h;this.scroll.updateEmbedAt(h,nt,p.retain[nt])}Object.keys(v).forEach(nt=>{this.scroll.formatAt(h,g,nt,v[nt])});let z=S?1:0,rt=B?1:0;return s+=z+rt,c.retain(z),c.delete(rt),h+g+z+rt},0),c.reduce((h,p)=>typeof p.delete=="number"?(this.scroll.deleteAt(h,p.delete),h):h+et.Op.length(p),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(i,s){return this.scroll.deleteAt(i,s),this.update(new et().retain(i).delete(s))}formatLine(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(h=>{this.scroll.lines(i,Math.max(s,1)).forEach(p=>{p.format(h,o[h])})}),this.scroll.optimize();let c=new et().retain(i).retain(s,ei(o));return this.update(c)}formatText(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(h=>{this.scroll.formatAt(i,s,h,o[h])});let c=new et().retain(i).retain(s,ei(o));return this.update(c)}getContents(i,s){return this.delta.slice(i,i+s)}getDelta(){return this.scroll.lines().reduce((i,s)=>i.concat(s.delta()),new et)}getFormat(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],c=[];s===0?this.scroll.path(i).forEach(g=>{let[v]=g;v instanceof De?o.push(v):v instanceof He&&c.push(v)}):(o=this.scroll.lines(i,s),c=this.scroll.descendants(He,i,s));let[h,p]=[o,c].map(g=>{let v=g.shift();if(v==null)return{};let S=Tr(v);for(;Object.keys(S).length>0;){let B=g.shift();if(B==null)return S;S=Ay(Tr(B),S)}return S});return{...h,...p}}getHTML(i,s){let[o,c]=this.scroll.line(i);if(o){let h=o.length();return!(o.length()>=c+s)||c===0&&s===h?ro(this.scroll,i,s,!0):ro(o,c,s,!0)}return""}getText(i,s){return this.getContents(i,s).filter(o=>typeof o.insert=="string").map(o=>o.insert).join("")}insertContents(i,s){let o=Qf(s),c=new et().retain(i).concat(o);return this.scroll.insertContents(i,o),this.update(c)}insertEmbed(i,s,o){return this.scroll.insertAt(i,s,o),this.update(new et().retain(i).insert({[s]:o}))}insertText(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(i,s),Object.keys(o).forEach(c=>{this.scroll.formatAt(i,s.length,c,o[c])}),this.update(new et().retain(i).insert(s,ei(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;let i=this.scroll.children.head;if(i?.statics.blotName!==De.blotName)return!1;let s=i;return!(s.children.length>1)&&s.children.head instanceof yn}removeFormat(i,s){let o=this.getText(i,s),[c,h]=this.scroll.line(i+s),p=0,g=new et;c!=null&&(p=c.length()-h,g=c.delta().slice(h,h+p-1).insert(`
`));let v=this.getContents(i,s+p).diff(new et().insert(o).concat(g)),S=new et().retain(i).concat(v);return this.applyDelta(S)}update(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(Ey)&&this.scroll.find(s[0].target)){let h=this.scroll.find(s[0].target),p=Tr(h),g=h.offset(this.scroll),v=s[0].oldValue.replace(al.CONTENTS,""),S=new et().insert(v),B=new et().insert(h.value()),z=o&&{oldRange:Yf(o.oldRange,-g),newRange:Yf(o.newRange,-g)};i=new et().retain(g).concat(S.diff(B,z)).reduce((rt,nt)=>nt.insert?rt.insert(nt.insert,p):rt.push(nt),new et),this.delta=c.compose(i)}else this.delta=this.getDelta(),i&&mc(c.compose(i),this.delta)||(i=c.diff(this.delta,o));return i}},zr=class{static DEFAULTS={};constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=i,this.options=s}},cl="\uFEFF",Tc=class extends br{constructor(i,s){super(i,s),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(o=>{this.contentNode.appendChild(o)}),this.leftGuard=document.createTextNode(cl),this.rightGuard=document.createTextNode(cl),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(i,s){return i===this.leftGuard?0:i===this.rightGuard?1:super.index(i,s)}restore(i){let s,o=null,c=i.data.split(cl).join("");if(i===this.leftGuard)if(this.prev instanceof Hr){let h=this.prev.length();this.prev.insertAt(h,c),o={startNode:this.prev.domNode,startOffset:h+c.length}}else s=document.createTextNode(c),this.parent.insertBefore(this.scroll.create(s),this),o={startNode:s,startOffset:c.length};else i===this.rightGuard&&(this.next instanceof Hr?(this.next.insertAt(0,c),o={startNode:this.next.domNode,startOffset:c.length}):(s=document.createTextNode(c),this.parent.insertBefore(this.scroll.create(s),this.next),o={startNode:s,startOffset:c.length}));return i.data=cl,o}update(i,s){i.forEach(o=>{if(o.type==="characterData"&&(o.target===this.leftGuard||o.target===this.rightGuard)){let c=this.restore(o.target);c&&(s.range=c)}})}},Ny=class{isComposing=!1;constructor(i,s){this.scroll=i,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",i=>{this.isComposing||this.handleCompositionStart(i)}),this.scroll.domNode.addEventListener("compositionend",i=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(i)})})}handleCompositionStart(i){let s=i.target instanceof Node?this.scroll.find(i.target,!0):null;!s||s instanceof Tc||(this.emitter.emit(ct.events.COMPOSITION_BEFORE_START,i),this.scroll.batchStart(),this.emitter.emit(ct.events.COMPOSITION_START,i),this.isComposing=!0)}handleCompositionEnd(i){this.emitter.emit(ct.events.COMPOSITION_BEFORE_END,i),this.scroll.batchEnd(),this.emitter.emit(ct.events.COMPOSITION_END,i),this.isComposing=!1}};class Sc{static DEFAULTS={modules:{}};static themes={default:Sc};modules={};constructor(s,o){this.quill=s,this.options=o}init(){Object.keys(this.options.modules).forEach(s=>{this.modules[s]==null&&this.addModule(s)})}addModule(s){let o=this.quill.constructor.import(`modules/${s}`);return this.modules[s]=new o(this.quill,this.options.modules[s]||{}),this.modules[s]}}let ul=Sc,Ty=i=>{let s=i.getBoundingClientRect(),o="offsetWidth"in i&&Math.abs(s.width)/i.offsetWidth||1,c="offsetHeight"in i&&Math.abs(s.height)/i.offsetHeight||1;return{top:s.top,right:s.left+i.clientWidth*o,bottom:s.top+i.clientHeight*c,left:s.left}},hl=i=>{let s=parseInt(i,10);return Number.isNaN(s)?0:s},td=(i,s,o,c,h,p)=>i<o&&s>c?0:i<o?-(o-i+h):s>c?s-i>c-o?i+h-o:s-c+p:0,Sy=(i,s)=>{let o=i.ownerDocument,c=s,h=i;for(;h;){let g=h===o.body,v=g?{top:0,right:window.visualViewport?.width??o.documentElement.clientWidth,bottom:window.visualViewport?.height??o.documentElement.clientHeight,left:0}:Ty(h),S=getComputedStyle(h),B=td(c.left,c.right,v.left,v.right,hl(S.scrollPaddingLeft),hl(S.scrollPaddingRight)),z=td(c.top,c.bottom,v.top,v.bottom,hl(S.scrollPaddingTop),hl(S.scrollPaddingBottom));if(B||z)if(g)o.defaultView?.scrollBy(B,z);else{let{scrollLeft:rt,scrollTop:nt}=h;z&&(h.scrollTop+=z),B&&(h.scrollLeft+=B);let ht=h.scrollLeft-rt,ut=h.scrollTop-nt;c={left:c.left-ht,top:c.top-ut,right:c.right-ht,bottom:c.bottom-ut}}h=g||S.position==="fixed"?null:(p=h).parentElement||p.getRootNode().host||null}var p},Ly=["block","break","cursor","inline","scroll","text"],Oy=(i,s,o)=>{let c=new Js;return Ly.forEach(h=>{let p=s.query(h);p&&c.register(p)}),i.forEach(h=>{let p=s.query(h);p||o.error(`Cannot register "${h}" specified in "formats" config. Are you sure it was registered?`);let g=0;for(;p;)if(c.register(p),p="blotName"in p?p.requiredContainer??null:null,g+=1,g>100){o.error(`Cycle detected in registering blot requiredContainer: "${h}"`);break}}),c},ni=Ns("quill"),fl=new Js;Fr.uiClass="ql-ui";class U{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:fl,theme:"default"};static events=ct.events;static sources=ct.sources;static version="2.0.2";static imports={delta:et,parchment:u,"core/module":zr,"core/theme":ul};static debug(s){s===!0&&(s="log"),Ns.level(s)}static find(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return bc.get(s)||fl.find(s,o)}static import(s){return this.imports[s]==null&&ni.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){let s=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),c="attrName"in s?s.attrName:s.blotName;typeof c=="string"?this.register(`formats/${c}`,s,o):Object.keys(s).forEach(h=>{this.register(h,s[h],o)})}else{let s=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],c=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||c||ni.warn(`Overwriting ${s} with`,o),this.imports[s]=o,(s.startsWith("blots/")||s.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&fl.register(o),typeof o.register=="function"&&o.register(fl)}}constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(g,v){let S=ed(g);if(!S)throw new Error("Invalid Quill container");let B=!v.theme||v.theme===U.DEFAULTS.theme,z=B?ul:U.import(`themes/${v.theme}`);if(!z)throw new Error(`Invalid theme ${v.theme}. Did you register it?`);let{modules:rt,...nt}=U.DEFAULTS,{modules:ht,...ut}=z.DEFAULTS,vt=Lc(v.modules);vt!=null&&vt.toolbar&&vt.toolbar.constructor!==Object&&(vt={...vt,toolbar:{container:vt.toolbar}});let zt=gr({},Lc(rt),Lc(ht),vt),Pe={...nt,...rd(ut),...rd(v)},Kr=v.registry;return Kr?v.formats&&ni.warn('Ignoring "formats" option because "registry" is specified'):Kr=v.formats?Oy(v.formats,Pe.registry,ni):Pe.registry,{...Pe,registry:Kr,container:S,theme:z,modules:Object.entries(zt).reduce((Xn,Ev)=>{let[zc,Ud]=Ev;if(!Ud)return Xn;let Fd=U.import(`modules/${zc}`);return Fd==null?(ni.error(`Cannot load ${zc} module. Are you sure you registered it?`),Xn):{...Xn,[zc]:gr({},Fd.DEFAULTS||{},Ud)}},{}),bounds:ed(Pe.bounds)}}(s,o),this.container=this.options.container,this.container==null)return void ni.error("Invalid Quill container",s);this.options.debug&&U.debug(this.options.debug);let c=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",bc.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new ct;let h=ic.blotName,p=this.options.registry.query(h);if(!p||!("blotName"in p))throw new Error(`Cannot initialize Quill without "${h}" blot`);if(this.scroll=new p(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new wy(this.scroll),this.selection=new xy(this.scroll,this.emitter),this.composition=new Ny(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(ct.events.EDITOR_CHANGE,g=>{g===ct.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(ct.events.SCROLL_UPDATE,(g,v)=>{let S=this.selection.lastRange,[B]=this.selection.getRange(),z=S&&B?{oldRange:S,newRange:B}:void 0;$r.call(this,()=>this.editor.update(null,v,z),g)}),this.emitter.on(ct.events.SCROLL_EMBED_UPDATE,(g,v)=>{let S=this.selection.lastRange,[B]=this.selection.getRange(),z=S&&B?{oldRange:S,newRange:B}:void 0;$r.call(this,()=>{let rt=new et().retain(g.offset(this)).retain({[g.statics.blotName]:v});return this.editor.update(rt,[],z)},U.sources.USER)}),c){let g=this.clipboard.convert({html:`${c}<p><br></p>`,text:`
`});this.setContents(g)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){let c=s;(s=document.createElement("div")).classList.add(c)}return this.container.insertBefore(s,o),s}blur(){this.selection.setRange(null)}deleteText(s,o,c){return[s,o,,c]=vn(s,o,c),$r.call(this,()=>this.editor.deleteText(s,o),c,s,-1*o)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;let o=s();return this.allowReadOnlyEdits=!1,o}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,o){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct.sources.API;return $r.call(this,()=>{let h=this.getSelection(!0),p=new et;if(h==null)return p;if(this.scroll.query(s,at.BLOCK))p=this.editor.formatLine(h.index,h.length,{[s]:o});else{if(h.length===0)return this.selection.format(s,o),p;p=this.editor.formatText(h.index,h.length,{[s]:o})}return this.setSelection(h,ct.sources.SILENT),p},c)}formatLine(s,o,c,h,p){let g;return[s,o,g,p]=vn(s,o,c,h,p),$r.call(this,()=>this.editor.formatLine(s,o,g),p,s,0)}formatText(s,o,c,h,p){let g;return[s,o,g,p]=vn(s,o,c,h,p),$r.call(this,()=>this.editor.formatText(s,o,g),p,s,0)}getBounds(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=null;if(c=typeof s=="number"?this.selection.getBounds(s,o):this.selection.getBounds(s.index,s.length),!c)return null;let h=this.container.getBoundingClientRect();return{bottom:c.bottom-h.top,height:c.height,left:c.left-h.left,right:c.right-h.left,top:c.top-h.top,width:c.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,o]=vn(s,o),this.editor.getContents(s,o)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,o):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,o)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=vn(s,o),this.editor.getHTML(s,o)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=vn(s,o),this.editor.getText(s,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,o,c){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return $r.call(this,()=>this.editor.insertEmbed(s,o,c),h,s)}insertText(s,o,c,h,p){let g;return[s,,g,p]=vn(s,0,c,h,p),$r.call(this,()=>this.editor.insertText(s,o,g),p,s,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,o,c){return[s,o,,c]=vn(s,o,c),$r.call(this,()=>this.editor.removeFormat(s,o),c,s)}scrollRectIntoView(s){Sy(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let s=this.selection.lastRange,o=s&&this.selection.getBounds(s.index,s.length);o&&this.scrollRectIntoView(o)}setContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ct.sources.API;return $r.call(this,()=>{s=new et(s);let c=this.getLength(),h=this.editor.deleteText(0,c),p=this.editor.insertContents(0,s),g=this.editor.deleteText(this.getLength()-1,1);return h.compose(p).compose(g)},o)}setSelection(s,o,c){s==null?this.selection.setRange(null,o||U.sources.API):([s,o,,c]=vn(s,o,c),this.selection.setRange(new Gn(Math.max(0,s),o),c),c!==ct.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ct.sources.API,c=new et().insert(s);return this.setContents(c,o)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ct.sources.USER,o=this.scroll.update(s);return this.selection.update(s),o}updateContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ct.sources.API;return $r.call(this,()=>(s=new et(s),this.editor.applyDelta(s)),o,!0)}}function ed(i){return typeof i=="string"?document.querySelector(i):i}function Lc(i){return Object.entries(i??{}).reduce((s,o)=>{let[c,h]=o;return{...s,[c]:h===!0?{}:h}},{})}function rd(i){return Object.fromEntries(Object.entries(i).filter(s=>s[1]!==void 0))}function $r(i,s,o,c){if(!this.isEnabled()&&s===ct.sources.USER&&!this.allowReadOnlyEdits)return new et;let h=o==null?null:this.getSelection(),p=this.editor.delta,g=i();if(h!=null&&(o===!0&&(o=h.index),c==null?h=nd(h,g,s):c!==0&&(h=nd(h,o,c,s)),this.setSelection(h,ct.sources.SILENT)),g.length()>0){let v=[ct.events.TEXT_CHANGE,g,p,s];this.emitter.emit(ct.events.EDITOR_CHANGE,...v),s!==ct.sources.SILENT&&this.emitter.emit(...v)}return g}function vn(i,s,o,c,h){let p={};return typeof i.index=="number"&&typeof i.length=="number"?typeof s!="number"?(h=c,c=o,o=s,s=i.length,i=i.index):(s=i.length,i=i.index):typeof s!="number"&&(h=c,c=o,o=s,s=0),typeof o=="object"?(p=o,h=c):typeof o=="string"&&(c!=null?p[o]=c:h=o),[i,s,p,h=h||ct.sources.API]}function nd(i,s,o,c){let h=typeof o=="number"?o:0;if(i==null)return null;let p,g;return s&&typeof s.transformPosition=="function"?[p,g]=[i.index,i.index+i.length].map(v=>s.transformPosition(v,c!==ct.sources.USER)):[p,g]=[i.index,i.index+i.length].map(v=>v<s||v===s&&c===ct.sources.USER?v:h>=0?v+h:Math.max(s,v+h)),new Gn(p,g-p)}let Ts=class extends nl{};function sd(i){return i instanceof De||i instanceof Nr}function id(i){return typeof i.updateContent=="function"}function Oc(i,s,o){o.reduce((c,h)=>{let p=et.Op.length(h),g=h.attributes||{};if(h.insert!=null){if(typeof h.insert=="string"){let v=h.insert;i.insertAt(c,v);let[S]=i.descendant(He,c),B=Tr(S);g=et.AttributeMap.diff(B,g)||{}}else if(typeof h.insert=="object"){let v=Object.keys(h.insert)[0];if(v==null)return c;if(i.insertAt(c,v,h.insert[v]),i.scroll.query(v,at.INLINE)!=null){let[S]=i.descendant(He,c),B=Tr(S);g=et.AttributeMap.diff(B,g)||{}}}}return Object.keys(g).forEach(v=>{i.formatAt(c,p,v,g[v])}),c+p},s)}let qy=class extends ic{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=De;static allowedChildren=[De,Nr,Ts];constructor(i,s,o){let{emitter:c}=o;super(i,s),this.emitter=c,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",h=>this.handleDragStart(h))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let i=this.batch;this.batch=!1,this.update(i)}emitMount(i){this.emitter.emit(ct.events.SCROLL_BLOT_MOUNT,i)}emitUnmount(i){this.emitter.emit(ct.events.SCROLL_BLOT_UNMOUNT,i)}emitEmbedUpdate(i,s){this.emitter.emit(ct.events.SCROLL_EMBED_UPDATE,i,s)}deleteAt(i,s){let[o,c]=this.line(i),[h]=this.line(i+s);if(super.deleteAt(i,s),h!=null&&o!==h&&c>0){if(o instanceof Nr||h instanceof Nr)return void this.optimize();let p=h.children.head instanceof yn?null:h.children.head;o.moveChildren(h,p),o.remove()}this.optimize()}enable(){let i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",i?"true":"false")}formatAt(i,s,o,c){super.formatAt(i,s,o,c),this.optimize()}insertAt(i,s,o){if(i>=this.length())if(o==null||this.scroll.query(s,at.BLOCK)==null){let c=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(c),o==null&&s.endsWith(`
`)?c.insertAt(0,s.slice(0,-1),o):c.insertAt(0,s,o)}else{let c=this.scroll.create(s,o);this.appendChild(c)}else super.insertAt(i,s,o);this.optimize()}insertBefore(i,s){if(i.statics.scope===at.INLINE_BLOT){let o=this.scroll.create(this.statics.defaultChild.blotName);o.appendChild(i),super.insertBefore(o,s)}else super.insertBefore(i,s)}insertContents(i,s){let o=this.deltaToRenderBlocks(s.concat(new et().insert(`
`))),c=o.pop();if(c==null)return;this.batchStart();let h=o.shift();if(h){let v=h.type==="block"&&(h.delta.length()===0||!this.descendant(Nr,i)[0]&&i<this.length()),S=h.type==="block"?h.delta:new et().insert({[h.key]:h.value});Oc(this,i,S);let B=h.type==="block"?1:0,z=i+S.length()+B;v&&this.insertAt(z-1,`
`);let rt=Tr(this.line(i)[0]),nt=et.AttributeMap.diff(rt,h.attributes)||{};Object.keys(nt).forEach(ht=>{this.formatAt(z-1,1,ht,nt[ht])}),i=z}let[p,g]=this.children.find(i);o.length&&(p&&(p=p.split(g),g=0),o.forEach(v=>{if(v.type==="block")Oc(this.createBlock(v.attributes,p||void 0),0,v.delta);else{let S=this.create(v.key,v.value);this.insertBefore(S,p||void 0),Object.keys(v.attributes).forEach(B=>{S.format(B,v.attributes[B])})}})),c.type==="block"&&c.delta.length()&&Oc(this,p?p.offset(p.scroll)+g:this.length(),c.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(i){let s=this.path(i).pop();if(!s)return[null,-1];let[o,c]=s;return o instanceof He?[o,c]:[null,-1]}line(i){return i===this.length()?this.line(i-1):this.descendant(sd,i)}lines(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,o=(c,h,p)=>{let g=[],v=p;return c.children.forEachAt(h,p,(S,B,z)=>{sd(S)?g.push(S):S instanceof nl&&(g=g.concat(o(S,B,v))),v-=z}),g};return o(this,i,s)}optimize(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(i,s),i.length>0&&this.emitter.emit(ct.events.SCROLL_OPTIMIZE,i,s))}path(i){return super.path(i).slice(1)}remove(){}update(i){if(this.batch)return void(Array.isArray(i)&&(this.batch=this.batch.concat(i)));let s=ct.sources.USER;typeof i=="string"&&(s=i),Array.isArray(i)||(i=this.observer.takeRecords()),(i=i.filter(o=>{let{target:c}=o,h=this.find(c,!0);return h&&!id(h)})).length>0&&this.emitter.emit(ct.events.SCROLL_BEFORE_UPDATE,s,i),super.update(i.concat([])),i.length>0&&this.emitter.emit(ct.events.SCROLL_UPDATE,s,i)}updateEmbedAt(i,s,o){let[c]=this.descendant(h=>h instanceof Nr,i);c&&c.statics.blotName===s&&id(c)&&c.updateContent(o)}handleDragStart(i){i.preventDefault()}deltaToRenderBlocks(i){let s=[],o=new et;return i.forEach(c=>{let h=c?.insert;if(h)if(typeof h=="string"){let p=h.split(`
`);p.slice(0,-1).forEach(v=>{o.insert(v,c.attributes),s.push({type:"block",delta:o,attributes:c.attributes??{}}),o=new et});let g=p[p.length-1];g&&o.insert(g,c.attributes)}else{let p=Object.keys(h)[0];if(!p)return;this.query(p,at.INLINE)?o.push(c):(o.length()&&s.push({type:"block",delta:o,attributes:{}}),o=new et,s.push({type:"blockEmbed",key:p,value:h[p],attributes:c.attributes??{}}))}}),o.length()&&s.push({type:"block",delta:o,attributes:{}}),s}createBlock(i,s){let o,c={};Object.entries(i).forEach(g=>{let[v,S]=g;this.query(v,at.BLOCK&at.BLOT)!=null?o=v:c[v]=S});let h=this.create(o||this.statics.defaultChild.blotName,o?i[o]:void 0);this.insertBefore(h,s||void 0);let p=h.length();return Object.entries(c).forEach(g=>{let[v,S]=g;h.formatAt(0,p,v,S)}),h}},qc={scope:at.BLOCK,whitelist:["right","center","justify"]},Cy=new Je("align","align",qc),od=new Ur("align","ql-align",qc),ld=new zn("align","text-align",qc);class ad extends zn{value(s){let o=super.value(s);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${o.split(",").map(c=>`00${parseInt(c,10).toString(16)}`.slice(-2)).join("")}`):o}}let _y=new Ur("color","ql-color",{scope:at.INLINE}),Cc=new ad("color","color",{scope:at.INLINE}),ky=new Ur("background","ql-bg",{scope:at.INLINE}),_c=new ad("background","background-color",{scope:at.INLINE});class Ss extends Ts{static create(s){let o=super.create(s);return o.setAttribute("spellcheck","false"),o}code(s,o){return this.children.map(c=>c.length()<=1?"":c.domNode.innerText).join(`
`).slice(s,s+o)}html(s,o){return`<pre>
${ll(this.code(s,o))}
</pre>`}}class Qe extends De{static TAB="  ";static register(){U.register(Ss)}}class kc extends Vn{}kc.blotName="code",kc.tagName="CODE",Qe.blotName="code-block",Qe.className="ql-code-block",Qe.tagName="DIV",Ss.blotName="code-block-container",Ss.className="ql-code-block-container",Ss.tagName="DIV",Ss.allowedChildren=[Qe],Qe.allowedChildren=[Hr,yn,al],Qe.requiredContainer=Ss;let Rc={scope:at.BLOCK,whitelist:["rtl"]},cd=new Je("direction","dir",Rc),ud=new Ur("direction","ql-direction",Rc),hd=new zn("direction","direction",Rc),fd={scope:at.INLINE,whitelist:["serif","monospace"]},dd=new Ur("font","ql-font",fd),pd=new class extends zn{value(i){return super.value(i).replace(/["']/g,"")}}("font","font-family",fd),md=new Ur("size","ql-size",{scope:at.INLINE,whitelist:["small","large","huge"]}),gd=new zn("size","font-size",{scope:at.INLINE,whitelist:["10px","18px","32px"]}),Ry=Ns("quill:keyboard"),Iy=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class dl extends zr{static match(s,o){return!["altKey","ctrlKey","metaKey","shiftKey"].some(c=>!!o[c]!==s[c]&&o[c]!==null)&&(o.key===s.key||o.key===s.which)}constructor(s,o){super(s,o),this.bindings={},Object.keys(this.options.bindings).forEach(c=>{this.options.bindings[c]&&this.addBinding(this.options.bindings[c])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=function(p){if(typeof p=="string"||typeof p=="number")p={key:p};else{if(typeof p!="object")return null;p=ei(p)}return p.shortKey&&(p[Iy]=p.shortKey,delete p.shortKey),p}(s);if(h==null)return void Ry.warn("Attempted to add invalid keyboard binding",h);typeof o=="function"&&(o={handler:o}),typeof c=="function"&&(c={handler:c}),(Array.isArray(h.key)?h.key:[h.key]).forEach(p=>{let g={...h,key:p,...o,...c};this.bindings[g.key]=this.bindings[g.key]||[],this.bindings[g.key].push(g)})}listen(){this.quill.root.addEventListener("keydown",s=>{if(s.defaultPrevented||s.isComposing||s.keyCode===229&&(s.key==="Enter"||s.key==="Backspace"))return;let o=(this.bindings[s.key]||[]).concat(this.bindings[s.which]||[]).filter(ut=>dl.match(s,ut));if(o.length===0)return;let c=U.find(s.target,!0);if(c&&c.scroll!==this.quill.scroll)return;let h=this.quill.getSelection();if(h==null||!this.quill.hasFocus())return;let[p,g]=this.quill.getLine(h.index),[v,S]=this.quill.getLeaf(h.index),[B,z]=h.length===0?[v,S]:this.quill.getLeaf(h.index+h.length),rt=v instanceof sl?v.value().slice(0,S):"",nt=B instanceof sl?B.value().slice(z):"",ht={collapsed:h.length===0,empty:h.length===0&&p.length()<=1,format:this.quill.getFormat(h),line:p,offset:g,prefix:rt,suffix:nt,event:s};o.some(ut=>{if(ut.collapsed!=null&&ut.collapsed!==ht.collapsed||ut.empty!=null&&ut.empty!==ht.empty||ut.offset!=null&&ut.offset!==ht.offset)return!1;if(Array.isArray(ut.format)){if(ut.format.every(vt=>ht.format[vt]==null))return!1}else if(typeof ut.format=="object"&&!Object.keys(ut.format).every(vt=>ut.format[vt]===!0?ht.format[vt]!=null:ut.format[vt]===!1?ht.format[vt]==null:mc(ut.format[vt],ht.format[vt])))return!1;return!(ut.prefix!=null&&!ut.prefix.test(ht.prefix))&&!(ut.suffix!=null&&!ut.suffix.test(ht.suffix))&&ut.handler.call(this,h,ht,ut)!==!0})&&s.preventDefault()})}handleBackspace(s,o){let c=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(o.prefix)?2:1;if(s.index===0||this.quill.getLength()<=1)return;let h={},[p]=this.quill.getLine(s.index),g=new et().retain(s.index-c).delete(c);if(o.offset===0){let[v]=this.quill.getLine(s.index-1);if(v&&!(v.statics.blotName==="block"&&v.length()<=1)){let S=p.formats(),B=this.quill.getFormat(s.index-1,1);if(h=et.AttributeMap.diff(S,B)||{},Object.keys(h).length>0){let z=new et().retain(s.index+p.length()-2).retain(1,h);g=g.compose(z)}}}this.quill.updateContents(g,U.sources.USER),this.quill.focus()}handleDelete(s,o){let c=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(o.suffix)?2:1;if(s.index>=this.quill.getLength()-c)return;let h={},[p]=this.quill.getLine(s.index),g=new et().retain(s.index).delete(c);if(o.offset>=p.length()-1){let[v]=this.quill.getLine(s.index+1);if(v){let S=p.formats(),B=this.quill.getFormat(s.index,1);h=et.AttributeMap.diff(S,B)||{},Object.keys(h).length>0&&(g=g.retain(v.length()-1).retain(1,h))}}this.quill.updateContents(g,U.sources.USER),this.quill.focus()}handleDeleteRange(s){Bc({range:s,quill:this.quill}),this.quill.focus()}handleEnter(s,o){let c=Object.keys(o.format).reduce((p,g)=>(this.quill.scroll.query(g,at.BLOCK)&&!Array.isArray(o.format[g])&&(p[g]=o.format[g]),p),{}),h=new et().retain(s.index).delete(s.length).insert(`
`,c);this.quill.updateContents(h,U.sources.USER),this.quill.setSelection(s.index+1,U.sources.SILENT),this.quill.focus()}}let By={bindings:{bold:Ic("bold"),italic:Ic("italic"),underline:Ic("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(i,s){return!(!s.collapsed||s.offset===0)||(this.quill.format("indent","+1",U.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(i,s){return!(!s.collapsed||s.offset===0)||(this.quill.format("indent","-1",U.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(i,s){s.format.indent!=null?this.quill.format("indent","-1",U.sources.USER):s.format.list!=null&&this.quill.format("list",!1,U.sources.USER)}},"indent code-block":bd(!0),"outdent code-block":bd(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(i){this.quill.deleteText(i.index-1,1,U.sources.USER)}},tab:{key:"Tab",handler(i,s){if(s.format.table)return!0;this.quill.history.cutoff();let o=new et().retain(i.index).delete(i.length).insert("	");return this.quill.updateContents(o,U.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(i.index+1,U.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,U.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(i,s){let o={list:!1};s.format.indent&&(o.indent=!1),this.quill.formatLine(i.index,i.length,o,U.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(i){let[s,o]=this.quill.getLine(i.index),c={...s.formats(),list:"checked"},h=new et().retain(i.index).insert(`
`,c).retain(s.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(h,U.sources.USER),this.quill.setSelection(i.index+1,U.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(i,s){let[o,c]=this.quill.getLine(i.index),h=new et().retain(i.index).insert(`
`,s.format).retain(o.length()-c-1).retain(1,{header:null});this.quill.updateContents(h,U.sources.USER),this.quill.setSelection(i.index+1,U.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(i){let s=this.quill.getModule("table");if(s){let[o,c,h,p]=s.getTable(i),g=function(S,B,z,rt){return B.prev==null&&B.next==null?z.prev==null&&z.next==null?rt===0?-1:1:z.prev==null?-1:1:B.prev==null?-1:B.next==null?1:null}(0,c,h,p);if(g==null)return;let v=o.offset();if(g<0){let S=new et().retain(v).insert(`
`);this.quill.updateContents(S,U.sources.USER),this.quill.setSelection(i.index+1,i.length,U.sources.SILENT)}else if(g>0){v+=o.length();let S=new et().retain(v).insert(`
`);this.quill.updateContents(S,U.sources.USER),this.quill.setSelection(v,U.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(i,s){let{event:o,line:c}=s,h=c.offset(this.quill.scroll);o.shiftKey?this.quill.setSelection(h-1,U.sources.USER):this.quill.setSelection(h+c.length(),U.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(i,s){if(this.quill.scroll.query("list")==null)return!0;let{length:o}=s.prefix,[c,h]=this.quill.getLine(i.index);if(h>o)return!0;let p;switch(s.prefix.trim()){case"[]":case"[ ]":p="unchecked";break;case"[x]":p="checked";break;case"-":case"*":p="bullet";break;default:p="ordered"}this.quill.insertText(i.index," ",U.sources.USER),this.quill.history.cutoff();let g=new et().retain(i.index-h).delete(o+1).retain(c.length()-2-h).retain(1,{list:p});return this.quill.updateContents(g,U.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(i.index-o,U.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(i){let[s,o]=this.quill.getLine(i.index),c=2,h=s;for(;h!=null&&h.length()<=1&&h.formats()["code-block"];)if(h=h.prev,c-=1,c<=0){let p=new et().retain(i.index+s.length()-o-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(p,U.sources.USER),this.quill.setSelection(i.index-1,U.sources.SILENT),!1}return!0}},"embed left":pl("ArrowLeft",!1),"embed left shift":pl("ArrowLeft",!0),"embed right":pl("ArrowRight",!1),"embed right shift":pl("ArrowRight",!0),"table down":yd(!1),"table up":yd(!0)}};function bd(i){return{key:"Tab",shiftKey:!i,format:{"code-block":!0},handler(s,o){let{event:c}=o,h=this.quill.scroll.query("code-block"),{TAB:p}=h;if(s.length===0&&!c.shiftKey)return this.quill.insertText(s.index,p,U.sources.USER),void this.quill.setSelection(s.index+p.length,U.sources.SILENT);let g=s.length===0?this.quill.getLines(s.index,1):this.quill.getLines(s),{index:v,length:S}=s;g.forEach((B,z)=>{i?(B.insertAt(0,p),z===0?v+=p.length:S+=p.length):B.domNode.textContent.startsWith(p)&&(B.deleteAt(0,p.length),z===0?v-=p.length:S-=p.length)}),this.quill.update(U.sources.USER),this.quill.setSelection(v,S,U.sources.SILENT)}}}function pl(i,s){return{key:i,shiftKey:s,altKey:null,[i==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(c){let{index:h}=c;i==="ArrowRight"&&(h+=c.length+1);let[p]=this.quill.getLeaf(h);return!(p instanceof br)||(i==="ArrowLeft"?s?this.quill.setSelection(c.index-1,c.length+1,U.sources.USER):this.quill.setSelection(c.index-1,U.sources.USER):s?this.quill.setSelection(c.index,c.length+1,U.sources.USER):this.quill.setSelection(c.index+c.length+1,U.sources.USER),!1)}}}function Ic(i){return{key:i[0],shortKey:!0,handler(s,o){this.quill.format(i,!o.format[i],U.sources.USER)}}}function yd(i){return{key:i?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(s,o){let c=i?"prev":"next",h=o.line,p=h.parent[c];if(p!=null){if(p.statics.blotName==="table-row"){let g=p.children.head,v=h;for(;v.prev!=null;)v=v.prev,g=g.next;let S=g.offset(this.quill.scroll)+Math.min(o.offset,g.length()-1);this.quill.setSelection(S,0,U.sources.USER)}}else{let g=h.table()[c];g!=null&&(i?this.quill.setSelection(g.offset(this.quill.scroll)+g.length()-1,0,U.sources.USER):this.quill.setSelection(g.offset(this.quill.scroll),0,U.sources.USER))}return!1}}}function Bc(i){let{quill:s,range:o}=i,c=s.getLines(o),h={};if(c.length>1){let p=c[0].formats(),g=c[c.length-1].formats();h=et.AttributeMap.diff(g,p)||{}}s.deleteText(o,U.sources.USER),Object.keys(h).length>0&&s.formatLine(o.index,1,h,U.sources.USER),s.setSelection(o.index,U.sources.SILENT)}dl.DEFAULTS=By;let jy=/font-weight:\s*normal/,My=["P","OL","UL"],vd=i=>i&&My.includes(i.tagName),Dy=/\bmso-list:[^;]*ignore/i,Py=/\bmso-list:[^;]*\bl(\d+)/i,Uy=/\bmso-list:[^;]*\blevel(\d+)/i,Fy=i=>{let s=Array.from(i.querySelectorAll("[style*=mso-list]")),o=[],c=[];s.forEach(g=>{(g.getAttribute("style")||"").match(Dy)?o.push(g):c.push(g)}),o.forEach(g=>g.parentNode?.removeChild(g));let h=i.documentElement.innerHTML,p=c.map(g=>((v,S)=>{let B=v.getAttribute("style"),z=B?.match(Py);if(!z)return null;let rt=Number(z[1]),nt=B?.match(Uy),ht=nt?Number(nt[1]):1,ut=new RegExp(`@list l${rt}:level${ht}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),vt=S.match(ut);return{id:rt,indent:ht,type:vt&&vt[1]==="bullet"?"bullet":"ordered",element:v}})(g,h)).filter(g=>g);for(;p.length;){let g=[],v=p.shift();for(;v;)g.push(v),v=p.length&&p[0]?.element===v.element.nextElementSibling&&p[0].id===v.id?p.shift():null;let S=document.createElement("ul");g.forEach(rt=>{let nt=document.createElement("li");nt.setAttribute("data-list",rt.type),rt.indent>1&&nt.setAttribute("class","ql-indent-"+(rt.indent-1)),nt.innerHTML=rt.element.innerHTML,S.appendChild(nt)});let B=g[0]?.element,{parentNode:z}=B??{};B&&z?.replaceChild(S,B),g.slice(1).forEach(rt=>{let{element:nt}=rt;z?.removeChild(nt)})}},Hy=[function(i){i.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Fy(i)},function(i){i.querySelector('[id^="docs-internal-guid-"]')&&((s=>{Array.from(s.querySelectorAll('b[style*="font-weight"]')).filter(o=>o.getAttribute("style")?.match(jy)).forEach(o=>{let c=s.createDocumentFragment();c.append(...o.childNodes),o.parentNode?.replaceChild(c,o)})})(i),(s=>{Array.from(s.querySelectorAll("br")).filter(o=>vd(o.previousElementSibling)&&vd(o.nextElementSibling)).forEach(o=>{o.parentNode?.removeChild(o)})})(i))}],zy=i=>{i.documentElement&&Hy.forEach(s=>{s(i)})},$y=Ns("quill:clipboard"),Vy=[[Node.TEXT_NODE,function(i,s,o){let c=i.data;if(i.parentElement?.tagName==="O:P")return s.insert(c.trim());if(!Ed(i)){if(c.trim().length===0&&c.includes(`
`)&&!function(p,g){return p.previousElementSibling&&p.nextElementSibling&&!Wn(p.previousElementSibling,g)&&!Wn(p.nextElementSibling,g)}(i,o))return s;let h=(p,g)=>{let v=g.replace(/[^\u00a0]/g,"");return v.length<1&&p?" ":v};c=c.replace(/\r\n/g," ").replace(/\n/g," "),c=c.replace(/\s\s+/g,h.bind(h,!0)),(i.previousSibling==null&&i.parentElement!=null&&Wn(i.parentElement,o)||i.previousSibling instanceof Element&&Wn(i.previousSibling,o))&&(c=c.replace(/^\s+/,h.bind(h,!1))),(i.nextSibling==null&&i.parentElement!=null&&Wn(i.parentElement,o)||i.nextSibling instanceof Element&&Wn(i.nextSibling,o))&&(c=c.replace(/\s+$/,h.bind(h,!1)))}return s.insert(c)}],[Node.TEXT_NODE,Ad],["br",function(i,s){return no(s,`
`)||s.insert(`
`),s}],[Node.ELEMENT_NODE,Ad],[Node.ELEMENT_NODE,function(i,s,o){let c=o.query(i);if(c==null)return s;if(c.prototype instanceof br){let h={},p=c.value(i);if(p!=null)return h[c.blotName]=p,new et().insert(h,c.formats(i,o))}else if(c.prototype instanceof to&&!no(s,`
`)&&s.insert(`
`),"blotName"in c&&"formats"in c&&typeof c.formats=="function")return Ls(s,c.blotName,c.formats(i,o),o);return s}],[Node.ELEMENT_NODE,function(i,s,o){let c=Je.keys(i),h=Ur.keys(i),p=zn.keys(i),g={};return c.concat(h).concat(p).forEach(v=>{let S=o.query(v,at.ATTRIBUTE);S!=null&&(g[S.attrName]=S.value(i),g[S.attrName])||(S=Ky[v],S==null||S.attrName!==v&&S.keyName!==v||(g[S.attrName]=S.value(i)||void 0),S=xd[v],S==null||S.attrName!==v&&S.keyName!==v||(S=xd[v],g[S.attrName]=S.value(i)||void 0))}),Object.entries(g).reduce((v,S)=>{let[B,z]=S;return Ls(v,B,z,o)},s)}],[Node.ELEMENT_NODE,function(i,s,o){let c={},h=i.style||{};return h.fontStyle==="italic"&&(c.italic=!0),h.textDecoration==="underline"&&(c.underline=!0),h.textDecoration==="line-through"&&(c.strike=!0),(h.fontWeight?.startsWith("bold")||parseInt(h.fontWeight,10)>=700)&&(c.bold=!0),s=Object.entries(c).reduce((p,g)=>{let[v,S]=g;return Ls(p,v,S,o)},s),parseFloat(h.textIndent||0)>0?new et().insert("	").concat(s):s}],["li",function(i,s,o){let c=o.query(i);if(c==null||c.blotName!=="list"||!no(s,`
`))return s;let h=-1,p=i.parentNode;for(;p!=null;)["OL","UL"].includes(p.tagName)&&(h+=1),p=p.parentNode;return h<=0?s:s.reduce((g,v)=>v.insert?v.attributes&&typeof v.attributes.indent=="number"?g.push(v):g.insert(v.insert,{indent:h,...v.attributes||{}}):g,new et)}],["ol, ul",function(i,s,o){let c=i,h=c.tagName==="OL"?"ordered":"bullet",p=c.getAttribute("data-checked");return p&&(h=p==="true"?"checked":"unchecked"),Ls(s,"list",h,o)}],["pre",function(i,s,o){let c=o.query("code-block"),h=!c||!("formats"in c)||typeof c.formats!="function"||c.formats(i,o);return Ls(s,"code-block",h,o)}],["tr",function(i,s,o){let c=i.parentElement?.tagName==="TABLE"?i.parentElement:i.parentElement?.parentElement;return c!=null?Ls(s,"table",Array.from(c.querySelectorAll("tr")).indexOf(i)+1,o):s}],["b",Mc("bold")],["i",Mc("italic")],["strike",Mc("strike")],["style",function(){return new et}]],Ky=[Cy,cd].reduce((i,s)=>(i[s.keyName]=s,i),{}),xd=[ld,_c,Cc,hd,pd,gd].reduce((i,s)=>(i[s.keyName]=s,i),{});function Ls(i,s,o,c){return c.query(s)?i.reduce((h,p)=>{if(!p.insert)return h;if(p.attributes&&p.attributes[s])return h.push(p);let g=o?{[s]:o}:{};return h.insert(p.insert,{...g,...p.attributes})},new et):i}function no(i,s){let o="";for(let c=i.ops.length-1;c>=0&&o.length<s.length;--c){let h=i.ops[c];if(typeof h.insert!="string")break;o=h.insert+o}return o.slice(-1*s.length)===s}function Wn(i,s){if(!(i instanceof Element))return!1;let o=s.query(i);return!(o&&o.prototype instanceof br)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(i.tagName.toLowerCase())}let ml=new WeakMap;function Ed(i){return i!=null&&(ml.has(i)||(i.tagName==="PRE"?ml.set(i,!0):ml.set(i,Ed(i.parentNode))),ml.get(i))}function jc(i,s,o,c,h){return s.nodeType===s.TEXT_NODE?c.reduce((p,g)=>g(s,p,i),new et):s.nodeType===s.ELEMENT_NODE?Array.from(s.childNodes||[]).reduce((p,g)=>{let v=jc(i,g,o,c,h);return g.nodeType===s.ELEMENT_NODE&&(v=o.reduce((S,B)=>B(g,S,i),v),v=(h.get(g)||[]).reduce((S,B)=>B(g,S,i),v)),p.concat(v)},new et):new et}function Mc(i){return(s,o,c)=>Ls(o,i,!0,c)}function Ad(i,s,o){if(!no(s,`
`)){if(Wn(i,o)&&(i.childNodes.length>0||i instanceof HTMLParagraphElement))return s.insert(`
`);if(s.length()>0&&i.nextSibling){let c=i.nextSibling;for(;c!=null;){if(Wn(c,o))return s.insert(`
`);let h=o.query(c);if(h&&h.prototype instanceof Nr)return s.insert(`
`);c=c.firstChild}}}return s}function wd(i,s){let o=s;for(let c=i.length-1;c>=0;c-=1){let h=i[c];i[c]={delta:o.transform(h.delta,!0),range:h.range&&Dc(h.range,o)},o=h.delta.transform(o),i[c].delta.length()===0&&i.splice(c,1)}}function Dc(i,s){if(!i)return i;let o=s.transformPosition(i.index);return{index:o,length:s.transformPosition(i.index+i.length)-o}}class Nd extends zr{constructor(s,o){super(s,o),s.root.addEventListener("drop",c=>{c.preventDefault();let h=null;if(document.caretRangeFromPoint)h=document.caretRangeFromPoint(c.clientX,c.clientY);else if(document.caretPositionFromPoint){let g=document.caretPositionFromPoint(c.clientX,c.clientY);h=document.createRange(),h.setStart(g.offsetNode,g.offset),h.setEnd(g.offsetNode,g.offset)}let p=h&&s.selection.normalizeNative(h);if(p){let g=s.selection.normalizedToRange(p);c.dataTransfer?.files&&this.upload(g,c.dataTransfer.files)}})}upload(s,o){let c=[];Array.from(o).forEach(h=>{h&&this.options.mimetypes?.includes(h.type)&&c.push(h)}),c.length>0&&this.options.handler.call(this,s,c)}}Nd.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(i,s){if(!this.quill.scroll.query("image"))return;let o=s.map(c=>new Promise(h=>{let p=new FileReader;p.onload=()=>{h(p.result)},p.readAsDataURL(c)}));Promise.all(o).then(c=>{let h=c.reduce((p,g)=>p.insert({image:g}),new et().retain(i.index).delete(i.length));this.quill.updateContents(h,ct.sources.USER),this.quill.setSelection(i.index+c.length,ct.sources.SILENT)})}};let Gy=Nd,Wy=["insertText","insertReplacementText"],Zy=class extends zr{constructor(i,s){super(i,s),i.root.addEventListener("beforeinput",o=>{this.handleBeforeInput(o)}),/Android/i.test(navigator.userAgent)||i.on(U.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(i){Bc({range:i,quill:this.quill})}replaceText(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(i.length===0)return!1;if(s){let o=this.quill.getFormat(i.index,1);this.deleteRange(i),this.quill.updateContents(new et().retain(i.index).insert(s,o),U.sources.USER)}else this.deleteRange(i);return this.quill.setSelection(i.index+s.length,0,U.sources.SILENT),!0}handleBeforeInput(i){if(this.quill.composition.isComposing||i.defaultPrevented||!Wy.includes(i.inputType))return;let s=i.getTargetRanges?i.getTargetRanges()[0]:null;if(!s||s.collapsed===!0)return;let o=function(p){return typeof p.data=="string"?p.data:p.dataTransfer?.types.includes("text/plain")?p.dataTransfer.getData("text/plain"):null}(i);if(o==null)return;let c=this.quill.selection.normalizeNative(s),h=c?this.quill.selection.normalizedToRange(c):null;h&&this.replaceText(h,o)&&i.preventDefault()}handleCompositionStart(){let i=this.quill.getSelection();i&&this.replaceText(i)}},Xy=/Mac/i.test(navigator.platform),Jy=class extends zr{isListening=!1;selectionChangeDeadline=0;constructor(i,s){super(i,s),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(i,s){let{line:o,event:c}=s;if(!(o instanceof Fr&&o.uiNode))return!0;let h=getComputedStyle(o.domNode).direction==="rtl";return!!(h&&c.key!=="ArrowRight"||!h&&c.key!=="ArrowLeft")||(this.quill.setSelection(i.index-1,i.length+(c.shiftKey?1:0),U.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",i=>{!i.defaultPrevented&&(s=>s.key==="ArrowLeft"||s.key==="ArrowRight"||s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="Home"||!(!Xy||s.key!=="a"||s.ctrlKey!==!0))(i)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,!this.isListening&&(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){let i=document.getSelection();if(!i)return;let s=i.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;let o=this.quill.scroll.find(s.startContainer);if(!(o instanceof Fr&&o.uiNode))return;let c=document.createRange();c.setStartAfter(o.uiNode),c.setEndAfter(o.uiNode),i.removeAllRanges(),i.addRange(c)}};U.register({"blots/block":De,"blots/block/embed":Nr,"blots/break":yn,"blots/container":Ts,"blots/cursor":al,"blots/embed":Tc,"blots/inline":Vn,"blots/scroll":qy,"blots/text":Hr,"modules/clipboard":class extends zr{static DEFAULTS={matchers:[]};constructor(i,s){super(i,s),this.quill.root.addEventListener("copy",o=>this.onCaptureCopy(o,!1)),this.quill.root.addEventListener("cut",o=>this.onCaptureCopy(o,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Vy.concat(this.options.matchers??[]).forEach(o=>{let[c,h]=o;this.addMatcher(c,h)})}addMatcher(i,s){this.matchers.push([i,s])}convert(i){let{html:s,text:o}=i,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c[Qe.blotName])return new et().insert(o||"",{[Qe.blotName]:c[Qe.blotName]});if(!s)return new et().insert(o||"",c);let h=this.convertHTML(s);return no(h,`
`)&&(h.ops[h.ops.length-1].attributes==null||c.table)?h.compose(new et().retain(h.length()-1).delete(1)):h}normalizeHTML(i){zy(i)}convertHTML(i){let s=new DOMParser().parseFromString(i,"text/html");this.normalizeHTML(s);let o=s.body,c=new WeakMap,[h,p]=this.prepareMatching(o,c);return jc(this.quill.scroll,o,h,p,c)}dangerouslyPasteHTML(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U.sources.API;if(typeof i=="string"){let c=this.convert({html:i,text:""});this.quill.setContents(c,s),this.quill.setSelection(0,U.sources.SILENT)}else{let c=this.convert({html:s,text:""});this.quill.updateContents(new et().retain(i).concat(c),o),this.quill.setSelection(i+c.length(),U.sources.SILENT)}}onCaptureCopy(i){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(i.defaultPrevented)return;i.preventDefault();let[o]=this.quill.selection.getRange();if(o==null)return;let{html:c,text:h}=this.onCopy(o,s);i.clipboardData?.setData("text/plain",h),i.clipboardData?.setData("text/html",c),s&&Bc({range:o,quill:this.quill})}normalizeURIList(i){return i.split(/\r?\n/).filter(s=>s[0]!=="#").join(`
`)}onCapturePaste(i){if(i.defaultPrevented||!this.quill.isEnabled())return;i.preventDefault();let s=this.quill.getSelection(!0);if(s==null)return;let o=i.clipboardData?.getData("text/html"),c=i.clipboardData?.getData("text/plain");if(!o&&!c){let p=i.clipboardData?.getData("text/uri-list");p&&(c=this.normalizeURIList(p))}let h=Array.from(i.clipboardData?.files||[]);if(!o&&h.length>0)this.quill.uploader.upload(s,h);else{if(o&&h.length>0){let p=new DOMParser().parseFromString(o,"text/html");if(p.body.childElementCount===1&&p.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(s,h)}this.onPaste(s,{html:o,text:c})}}onCopy(i){let s=this.quill.getText(i);return{html:this.quill.getSemanticHTML(i),text:s}}onPaste(i,s){let{text:o,html:c}=s,h=this.quill.getFormat(i.index),p=this.convert({text:o,html:c},h);$y.log("onPaste",p,{text:o,html:c});let g=new et().retain(i.index).delete(i.length).concat(p);this.quill.updateContents(g,U.sources.USER),this.quill.setSelection(g.length()-i.length,U.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(i,s){let o=[],c=[];return this.matchers.forEach(h=>{let[p,g]=h;switch(p){case Node.TEXT_NODE:c.push(g);break;case Node.ELEMENT_NODE:o.push(g);break;default:Array.from(i.querySelectorAll(p)).forEach(v=>{s.has(v)?s.get(v)?.push(g):s.set(v,[g])})}}),[o,c]}},"modules/history":class extends zr{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(i,s){super(i,s),this.quill.on(U.events.EDITOR_CHANGE,(o,c,h,p)=>{o===U.events.SELECTION_CHANGE?c&&p!==U.sources.SILENT&&(this.currentRange=c):o===U.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&p!==U.sources.USER?this.transform(c):this.record(c,h)),this.currentRange=Dc(this.currentRange,c))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",o=>{o.inputType==="historyUndo"?(this.undo(),o.preventDefault()):o.inputType==="historyRedo"&&(this.redo(),o.preventDefault())})}change(i,s){if(this.stack[i].length===0)return;let o=this.stack[i].pop();if(!o)return;let c=this.quill.getContents(),h=o.delta.invert(c);this.stack[s].push({delta:h,range:Dc(o.range,h)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o.delta,U.sources.USER),this.ignoreChange=!1,this.restoreSelection(o)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(i,s){if(i.ops.length===0)return;this.stack.redo=[];let o=i.invert(s),c=this.currentRange,h=Date.now();if(this.lastRecorded+this.options.delay>h&&this.stack.undo.length>0){let p=this.stack.undo.pop();p&&(o=o.compose(p.delta),c=p.range)}else this.lastRecorded=h;o.length()!==0&&(this.stack.undo.push({delta:o,range:c}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(i){wd(this.stack.undo,i),wd(this.stack.redo,i)}undo(){this.change("undo","redo")}restoreSelection(i){if(i.range)this.quill.setSelection(i.range,U.sources.USER);else{let s=function(o,c){let h=c.reduce((g,v)=>g+(v.delete||0),0),p=c.length()-h;return function(g,v){let S=v.ops[v.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(B=>g.query(B,at.BLOCK)!=null):!1}(o,c)&&(p-=1),p}(this.quill.scroll,i.delta);this.quill.setSelection(s,U.sources.USER)}}},"modules/keyboard":dl,"modules/uploader":Gy,"modules/input":Zy,"modules/uiNode":Jy});let Pc=U,Qy=new class extends Ur{add(i,s){let o=0;if(s==="+1"||s==="-1"){let c=this.value(i)||0;o=s==="+1"?c+1:c-1}else typeof s=="number"&&(o=s);return o===0?(this.remove(i),!0):super.add(i,o.toString())}canAdd(i,s){return super.canAdd(i,s)||super.canAdd(i,parseInt(s,10))}value(i){return parseInt(super.value(i),10)||void 0}}("indent","ql-indent",{scope:at.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),Yy=Qy,tv=class extends De{static blotName="blockquote";static tagName="blockquote"},ev=class extends De{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(i){return this.tagName.indexOf(i.tagName)+1}};class so extends Ts{}so.blotName="list-container",so.tagName="OL";class io extends De{static create(s){let o=super.create();return o.setAttribute("data-list",s),o}static formats(s){return s.getAttribute("data-list")||void 0}static register(){U.register(so)}constructor(s,o){super(s,o);let c=o.ownerDocument.createElement("span"),h=p=>{if(!s.isEnabled())return;let g=this.statics.formats(o,s);g==="checked"?(this.format("list","unchecked"),p.preventDefault()):g==="unchecked"&&(this.format("list","checked"),p.preventDefault())};c.addEventListener("mousedown",h),c.addEventListener("touchstart",h),this.attachUI(c)}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("data-list",o):super.format(s,o)}}io.blotName="list",io.tagName="LI",so.allowedChildren=[io],io.requiredContainer=so;let Uc=class extends Vn{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},rv=class extends Uc{static blotName="italic";static tagName=["EM","I"]};class gl extends Vn{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(s){let o=super.create(s);return o.setAttribute("href",this.sanitize(s)),o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"),o}static formats(s){return s.getAttribute("href")}static sanitize(s){return Td(s,this.PROTOCOL_WHITELIST)?s:this.SANITIZED_URL}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("href",this.constructor.sanitize(o)):super.format(s,o)}}function Td(i,s){let o=document.createElement("a");o.href=i;let c=o.href.slice(0,o.href.indexOf(":"));return s.indexOf(c)>-1}let nv=class extends Vn{static blotName="script";static tagName=["SUB","SUP"];static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}},sv=class extends Uc{static blotName="strike";static tagName=["S","STRIKE"]},iv=class extends Vn{static blotName="underline";static tagName="U"},ov=class extends Tc{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");let s=super.create(i);return typeof i=="string"&&(window.katex.render(i,s,{throwOnError:!1,errorColor:"#f00"}),s.setAttribute("data-value",i)),s}static value(i){return i.getAttribute("data-value")}html(){let{formula:i}=this.value();return`<span>${i}</span>`}},Sd=["alt","height","width"],lv=class extends br{static blotName="image";static tagName="IMG";static create(i){let s=super.create(i);return typeof i=="string"&&s.setAttribute("src",this.sanitize(i)),s}static formats(i){return Sd.reduce((s,o)=>(i.hasAttribute(o)&&(s[o]=i.getAttribute(o)),s),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return Td(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,s){Sd.indexOf(i)>-1?s?this.domNode.setAttribute(i,s):this.domNode.removeAttribute(i):super.format(i,s)}},Ld=["height","width"],av=class extends Nr{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(i){let s=super.create(i);return s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),s.setAttribute("src",this.sanitize(i)),s}static formats(i){return Ld.reduce((s,o)=>(i.hasAttribute(o)&&(s[o]=i.getAttribute(o)),s),{})}static sanitize(i){return gl.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,s){Ld.indexOf(i)>-1?s?this.domNode.setAttribute(i,s):this.domNode.removeAttribute(i):super.format(i,s)}html(){let{video:i}=this.value();return`<a href="${i}">${i}</a>`}},oo=new Ur("code-token","hljs",{scope:at.INLINE});class xn extends Vn{static formats(s,o){for(;s!=null&&s!==o.domNode;){if(s.classList&&s.classList.contains(Qe.className))return super.formats(s,o);s=s.parentNode}}constructor(s,o,c){super(s,o,c),oo.add(this.domNode,c)}format(s,o){s!==xn.blotName?super.format(s,o):o?oo.add(this.domNode,o):(oo.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),oo.value(this.domNode)||this.unwrap()}}xn.blotName="code-token",xn.className="ql-token";class Sr extends Qe{static create(s){let o=super.create(s);return typeof s=="string"&&o.setAttribute("data-language",s),o}static formats(s){return s.getAttribute("data-language")||"plain"}static register(){}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("data-language",o):super.format(s,o)}replaceWith(s,o){return this.formatAt(0,this.length(),xn.blotName,!1),super.replaceWith(s,o)}}class lo extends Ss{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(s,o){s===Sr.blotName&&(this.forceNext=!0,this.children.forEach(c=>{c.format(s,o)}))}formatAt(s,o,c,h){c===Sr.blotName&&(this.forceNext=!0),super.formatAt(s,o,c,h)}highlight(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;let c=`${Array.from(this.domNode.childNodes).filter(p=>p!==this.uiNode).map(p=>p.textContent).join(`
`)}
`,h=Sr.formats(this.children.head.domNode);if(o||this.forceNext||this.cachedText!==c){if(c.trim().length>0||this.cachedText==null){let p=this.children.reduce((v,S)=>v.concat(Xf(S,!1)),new et),g=s(c,h);p.diff(g).reduce((v,S)=>{let{retain:B,attributes:z}=S;return B?(z&&Object.keys(z).forEach(rt=>{[Sr.blotName,xn.blotName].includes(rt)&&this.formatAt(v,B,rt,z[rt])}),v+B):v},0)}this.cachedText=c,this.forceNext=!1}}html(s,o){let[c]=this.children.find(s);return`<pre data-language="${c?Sr.formats(c.domNode):"plain"}">
${ll(this.code(s,o))}
</pre>`}optimize(s){if(super.optimize(s),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){let o=Sr.formats(this.children.head.domNode);o!==this.uiNode.value&&(this.uiNode.value=o)}}}lo.allowedChildren=[Sr],Sr.requiredContainer=lo,Sr.allowedChildren=[xn,al,Hr,yn];class Od extends zr{static register(){U.register(xn,!0),U.register(Sr,!0),U.register(lo,!0)}constructor(s,o){if(super(s,o),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((c,h)=>{let{key:p}=h;return c[p]=!0,c},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(U.events.SCROLL_BLOT_MOUNT,s=>{if(!(s instanceof lo))return;let o=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(c=>{let{key:h,label:p}=c,g=o.ownerDocument.createElement("option");g.textContent=p,g.setAttribute("value",h),o.appendChild(g)}),o.addEventListener("change",()=>{s.format(Sr.blotName,o.value),this.quill.root.focus(),this.highlight(s,!0)}),s.uiNode==null&&(s.attachUI(o),s.children.head&&(o.value=Sr.formats(s.children.head.domNode)))})}initTimer(){let s=null;this.quill.on(U.events.SCROLL_OPTIMIZE,()=>{s&&clearTimeout(s),s=setTimeout(()=>{this.highlight(),s=null},this.options.interval)})}highlight(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(U.sources.USER);let c=this.quill.getSelection();(s==null?this.quill.scroll.descendants(lo):[s]).forEach(h=>{h.highlight(this.highlightBlot,o)}),this.quill.update(U.sources.SILENT),c!=null&&this.quill.setSelection(c,U.sources.SILENT)}highlightBlot(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(o=this.languages[o]?o:"plain",o==="plain")return ll(s).split(`
`).reduce((h,p,g)=>(g!==0&&h.insert(`
`,{[Qe.blotName]:o}),h.insert(p)),new et);let c=this.quill.root.ownerDocument.createElement("div");return c.classList.add(Qe.className),c.innerHTML=((h,p,g)=>{if(typeof h.versionString=="string"){let v=h.versionString.split(".")[0];if(parseInt(v,10)>=11)return h.highlight(g,{language:p}).value}return h.highlight(p,g).value})(this.options.hljs,o,s),jc(this.quill.scroll,c,[(h,p)=>{let g=oo.value(h);return g?p.compose(new et().retain(p.length(),{[xn.blotName]:g})):p}],[(h,p)=>h.data.split(`
`).reduce((g,v,S)=>(S!==0&&g.insert(`
`,{[Qe.blotName]:o}),g.insert(v)),p)],new WeakMap)}}Od.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Vr extends De{static blotName="table";static tagName="TD";static create(s){let o=super.create();return s?o.setAttribute("data-row",s):o.setAttribute("data-row",Fc()),o}static formats(s){if(s.hasAttribute("data-row"))return s.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(s,o){s===Vr.blotName&&o?this.domNode.setAttribute("data-row",o):super.format(s,o)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Os extends Ts{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let s=this.children.head.formats(),o=this.children.tail.formats(),c=this.next.children.head.formats(),h=this.next.children.tail.formats();return s.table===o.table&&s.table===c.table&&s.table===h.table}return!1}optimize(s){super.optimize(s),this.children.forEach(o=>{if(o.next==null)return;let c=o.formats(),h=o.next.formats();if(c.table!==h.table){let p=this.splitAfter(o);p&&p.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Zn extends Ts{static blotName="table-body";static tagName="TBODY"}class bl extends Ts{static blotName="table-container";static tagName="TABLE";balanceCells(){let s=this.descendants(Os),o=s.reduce((c,h)=>Math.max(h.children.length,c),0);s.forEach(c=>{new Array(o-c.children.length).fill(0).forEach(()=>{let h;c.children.head!=null&&(h=Vr.formats(c.children.head.domNode));let p=this.scroll.create(Vr.blotName,h);c.appendChild(p),p.optimize()})})}cells(s){return this.rows().map(o=>o.children.at(s))}deleteColumn(s){let[o]=this.descendant(Zn);o!=null&&o.children.head!=null&&o.children.forEach(c=>{let h=c.children.at(s);h?.remove()})}insertColumn(s){let[o]=this.descendant(Zn);o!=null&&o.children.head!=null&&o.children.forEach(c=>{let h=c.children.at(s),p=Vr.formats(c.children.head.domNode),g=this.scroll.create(Vr.blotName,p);c.insertBefore(g,h)})}insertRow(s){let[o]=this.descendant(Zn);if(o==null||o.children.head==null)return;let c=Fc(),h=this.scroll.create(Os.blotName);o.children.head.children.forEach(()=>{let g=this.scroll.create(Vr.blotName,c);h.appendChild(g)});let p=o.children.at(s);o.insertBefore(h,p)}rows(){let s=this.children.head;return s==null?[]:s.children.map(o=>o)}}function Fc(){return`row-${Math.random().toString(36).slice(2,6)}`}bl.allowedChildren=[Zn],Zn.requiredContainer=bl,Zn.allowedChildren=[Os],Os.requiredContainer=Zn,Os.allowedChildren=[Vr],Vr.requiredContainer=Os;let cv=class extends zr{static register(){U.register(Vr),U.register(Os),U.register(Zn),U.register(bl)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(bl).forEach(i=>{i.balanceCells()})}deleteColumn(){let[i,,s]=this.getTable();s!=null&&(i.deleteColumn(s.cellOffset()),this.quill.update(U.sources.USER))}deleteRow(){let[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(U.sources.USER))}deleteTable(){let[i]=this.getTable();if(i==null)return;let s=i.offset();i.remove(),this.quill.update(U.sources.USER),this.quill.setSelection(s,U.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];let[s,o]=this.quill.getLine(i.index);if(s==null||s.statics.blotName!==Vr.blotName)return[null,null,null,-1];let c=s.parent;return[c.parent.parent,c,s,o]}insertColumn(i){let s=this.quill.getSelection();if(!s)return;let[o,c,h]=this.getTable(s);if(h==null)return;let p=h.cellOffset();o.insertColumn(p+i),this.quill.update(U.sources.USER);let g=c.rowOffset();i===0&&(g+=1),this.quill.setSelection(s.index+g,s.length,U.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){let s=this.quill.getSelection();if(!s)return;let[o,c,h]=this.getTable(s);if(h==null)return;let p=c.rowOffset();o.insertRow(p+i),this.quill.update(U.sources.USER),i>0?this.quill.setSelection(s,U.sources.SILENT):this.quill.setSelection(s.index+c.children.length,s.length,U.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,s){let o=this.quill.getSelection();if(o==null)return;let c=new Array(i).fill(0).reduce(h=>{let p=new Array(s).fill(`
`).join("");return h.insert(p,{table:Fc()})},new et().retain(o.index));this.quill.updateContents(c,U.sources.USER),this.quill.setSelection(o.index,U.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(U.events.SCROLL_OPTIMIZE,i=>{i.some(s=>!!["TD","TR","TBODY","TABLE"].includes(s.target.tagName)&&(this.quill.once(U.events.TEXT_CHANGE,(o,c,h)=>{h===U.sources.USER&&this.balanceTables()}),!0))})}},qd=Ns("quill:toolbar");class Hc extends zr{constructor(s,o){if(super(s,o),Array.isArray(this.options.container)){let c=document.createElement("div");c.setAttribute("role","toolbar"),function(h,p){Array.isArray(p[0])||(p=[p]),p.forEach(g=>{let v=document.createElement("span");v.classList.add("ql-formats"),g.forEach(S=>{if(typeof S=="string")Cd(v,S);else{let B=Object.keys(S)[0],z=S[B];Array.isArray(z)?function(rt,nt,ht){let ut=document.createElement("select");ut.classList.add(`ql-${nt}`),ht.forEach(vt=>{let zt=document.createElement("option");vt!==!1?zt.setAttribute("value",String(vt)):zt.setAttribute("selected","selected"),ut.appendChild(zt)}),rt.appendChild(ut)}(v,B,z):Cd(v,B,z)}}),h.appendChild(v)})}(c,this.options.container),s.container?.parentNode?.insertBefore(c,s.container),this.container=c}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(c=>{let h=this.options.handlers?.[c];h&&this.addHandler(c,h)}),Array.from(this.container.querySelectorAll("button, select")).forEach(c=>{this.attach(c)}),this.quill.on(U.events.EDITOR_CHANGE,()=>{let[c]=this.quill.selection.getRange();this.update(c)})):qd.error("Container required for toolbar",this.options)}addHandler(s,o){this.handlers[s]=o}attach(s){let o=Array.from(s.classList).find(h=>h.indexOf("ql-")===0);if(!o)return;if(o=o.slice(3),s.tagName==="BUTTON"&&s.setAttribute("type","button"),this.handlers[o]==null&&this.quill.scroll.query(o)==null)return void qd.warn("ignoring attaching to nonexistent format",o,s);let c=s.tagName==="SELECT"?"change":"click";s.addEventListener(c,h=>{let p;if(s.tagName==="SELECT"){if(s.selectedIndex<0)return;let v=s.options[s.selectedIndex];p=!v.hasAttribute("selected")&&(v.value||!1)}else p=!s.classList.contains("ql-active")&&(s.value||!s.hasAttribute("value")),h.preventDefault();this.quill.focus();let[g]=this.quill.selection.getRange();if(this.handlers[o]!=null)this.handlers[o].call(this,p);else if(this.quill.scroll.query(o).prototype instanceof br){if(p=prompt(`Enter ${o}`),!p)return;this.quill.updateContents(new et().retain(g.index).delete(g.length).insert({[o]:p}),U.sources.USER)}else this.quill.format(o,p,U.sources.USER);this.update(g)}),this.controls.push([o,s])}update(s){let o=s==null?{}:this.quill.getFormat(s);this.controls.forEach(c=>{let[h,p]=c;if(p.tagName==="SELECT"){let g=null;if(s==null)g=null;else if(o[h]==null)g=p.querySelector("option[selected]");else if(!Array.isArray(o[h])){let v=o[h];typeof v=="string"&&(v=v.replace(/"/g,'\\"')),g=p.querySelector(`option[value="${v}"]`)}g==null?(p.value="",p.selectedIndex=-1):g.selected=!0}else if(s==null)p.classList.remove("ql-active"),p.setAttribute("aria-pressed","false");else if(p.hasAttribute("value")){let g=o[h],v=g===p.getAttribute("value")||g!=null&&g.toString()===p.getAttribute("value")||g==null&&!p.getAttribute("value");p.classList.toggle("ql-active",v),p.setAttribute("aria-pressed",v.toString())}else{let g=o[h]!=null;p.classList.toggle("ql-active",g),p.setAttribute("aria-pressed",g.toString())}})}}function Cd(i,s,o){let c=document.createElement("button");c.setAttribute("type","button"),c.classList.add(`ql-${s}`),c.setAttribute("aria-pressed","false"),o!=null?(c.value=o,c.setAttribute("aria-label",`${s}: ${o}`)):c.setAttribute("aria-label",s),i.appendChild(c)}Hc.DEFAULTS={},Hc.DEFAULTS={container:null,handlers:{clean(){let i=this.quill.getSelection();if(i!=null)if(i.length===0){let s=this.quill.getFormat();Object.keys(s).forEach(o=>{this.quill.scroll.query(o,at.INLINE)!=null&&this.quill.format(o,!1,U.sources.USER)})}else this.quill.removeFormat(i.index,i.length,U.sources.USER)},direction(i){let{align:s}=this.quill.getFormat();i==="rtl"&&s==null?this.quill.format("align","right",U.sources.USER):i||s!=="right"||this.quill.format("align",!1,U.sources.USER),this.quill.format("direction",i,U.sources.USER)},indent(i){let s=this.quill.getSelection(),o=this.quill.getFormat(s),c=parseInt(o.indent||0,10);if(i==="+1"||i==="-1"){let h=i==="+1"?1:-1;o.direction==="rtl"&&(h*=-1),this.quill.format("indent",c+h,U.sources.USER)}},link(i){i===!0&&(i=prompt("Enter link URL:")),this.quill.format("link",i,U.sources.USER)},list(i){let s=this.quill.getSelection(),o=this.quill.getFormat(s);i==="check"?o.list==="checked"||o.list==="unchecked"?this.quill.format("list",!1,U.sources.USER):this.quill.format("list","unchecked",U.sources.USER):this.quill.format("list",i,U.sources.USER)}}};let _d='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ao={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:_d,"code-block":_d,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},kd=0;function Rd(i,s){i.setAttribute(s,`${i.getAttribute(s)!=="true"}`)}let yl=class{constructor(i){this.select=i,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),s.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Rd(this.label,"aria-expanded"),Rd(this.options,"aria-hidden")}buildItem(i){let s=document.createElement("span");s.tabIndex="0",s.setAttribute("role","button"),s.classList.add("ql-picker-item");let o=i.getAttribute("value");return o&&s.setAttribute("data-value",o),i.textContent&&s.setAttribute("data-label",i.textContent),s.addEventListener("click",()=>{this.selectItem(s,!0)}),s.addEventListener("keydown",c=>{switch(c.key){case"Enter":this.selectItem(s,!0),c.preventDefault();break;case"Escape":this.escape(),c.preventDefault()}}),s}buildLabel(){let i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}buildOptions(){let i=document.createElement("span");i.classList.add("ql-picker-options"),i.setAttribute("aria-hidden","true"),i.tabIndex="-1",i.id=`ql-picker-options-${kd}`,kd+=1,this.label.setAttribute("aria-controls",i.id),this.options=i,Array.from(this.select.options).forEach(s=>{let o=this.buildItem(s);i.appendChild(o),s.selected===!0&&this.selectItem(o)}),this.container.appendChild(i)}buildPicker(){Array.from(this.select.attributes).forEach(i=>{this.container.setAttribute(i.name,i.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(i){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.container.querySelector(".ql-selected");i!==o&&(o?.classList.remove("ql-selected"),i!=null&&(i.classList.add("ql-selected"),this.select.selectedIndex=Array.from(i.parentNode.children).indexOf(i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),s&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let i;if(this.select.selectedIndex>-1){let o=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(o)}else this.selectItem(null);let s=i!=null&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",s)}},Id=class extends yl{constructor(i,s){super(i),this.label.innerHTML=s,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(o=>{o.classList.add("ql-primary")})}buildItem(i){let s=super.buildItem(i);return s.style.backgroundColor=i.getAttribute("value")||"",s}selectItem(i,s){super.selectItem(i,s);let o=this.label.querySelector(".ql-color-label"),c=i&&i.getAttribute("data-value")||"";o&&(o.tagName==="line"?o.style.stroke=c:o.style.fill=c)}},Bd=class extends yl{constructor(i,s){super(i),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(o=>{o.innerHTML=s[o.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(i,s){super.selectItem(i,s);let o=i||this.defaultItem;if(o!=null){if(this.label.innerHTML===o.innerHTML)return;this.label.innerHTML=o.innerHTML}}},jd=class{constructor(i,s){this.quill=i,this.boundsContainer=s||document.body,this.root=i.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(o=>{let{overflowY:c}=getComputedStyle(o,null);return c!=="visible"&&c!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(i){let s=i.left+i.width/2-this.root.offsetWidth/2,o=i.bottom+this.quill.root.scrollTop;this.root.style.left=`${s}px`,this.root.style.top=`${o}px`,this.root.classList.remove("ql-flip");let c=this.boundsContainer.getBoundingClientRect(),h=this.root.getBoundingClientRect(),p=0;if(h.right>c.right&&(p=c.right-h.right,this.root.style.left=`${s+p}px`),h.left<c.left&&(p=c.left-h.left,this.root.style.left=`${s+p}px`),h.bottom>c.bottom){let g=h.bottom-h.top,v=i.bottom-i.top+g;this.root.style.top=o-v+"px",this.root.classList.add("ql-flip")}return p}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},uv=[!1,"center","right","justify"],hv=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fv=[!1,"serif","monospace"],dv=["1","2","3",!1],pv=["small",!1,"large","huge"];class co extends ul{constructor(s,o){super(s,o);let c=h=>{document.body.contains(s.root)?(this.tooltip==null||this.tooltip.root.contains(h.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(p=>{p.container.contains(h.target)||p.close()})):document.body.removeEventListener("click",c)};s.emitter.listenDOM("click",document.body,c)}addModule(s){let o=super.addModule(s);return s==="toolbar"&&this.extendToolbar(o),o}buildButtons(s,o){Array.from(s).forEach(c=>{(c.getAttribute("class")||"").split(/\s+/).forEach(h=>{if(h.startsWith("ql-")&&(h=h.slice(3),o[h]!=null))if(h==="direction")c.innerHTML=o[h][""]+o[h].rtl;else if(typeof o[h]=="string")c.innerHTML=o[h];else{let p=c.value||"";p!=null&&o[h][p]&&(c.innerHTML=o[h][p])}})})}buildPickers(s,o){this.pickers=Array.from(s).map(c=>{if(c.classList.contains("ql-align")&&(c.querySelector("option")==null&&uo(c,uv),typeof o.align=="object"))return new Bd(c,o.align);if(c.classList.contains("ql-background")||c.classList.contains("ql-color")){let h=c.classList.contains("ql-background")?"background":"color";return c.querySelector("option")==null&&uo(c,hv,h==="background"?"#ffffff":"#000000"),new Id(c,o[h])}return c.querySelector("option")==null&&(c.classList.contains("ql-font")?uo(c,fv):c.classList.contains("ql-header")?uo(c,dv):c.classList.contains("ql-size")&&uo(c,pv)),new yl(c)}),this.quill.on(ct.events.EDITOR_CHANGE,()=>{this.pickers.forEach(c=>{c.update()})})}}co.DEFAULTS=gr({},ul.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let i=this.container.querySelector("input.ql-image[type=file]");i==null&&(i=document.createElement("input"),i.setAttribute("type","file"),i.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),i.classList.add("ql-image"),i.addEventListener("change",()=>{let s=this.quill.getSelection(!0);this.quill.uploader.upload(s,i.files),i.value=""}),this.container.appendChild(i)),i.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Md extends jd{constructor(s,o){super(s,o),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",s=>{s.key==="Enter"?(this.save(),s.preventDefault()):s.key==="Escape"&&(this.cancel(),s.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;o!=null?this.textbox.value=o:s!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let c=this.quill.getBounds(this.quill.selection.savedRange);c!=null&&this.position(c),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${s}`)||""),this.root.setAttribute("data-mode",s)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:s}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop:o}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",s,ct.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",s,ct.sources.USER)),this.quill.root.scrollTop=o;break}case"video":s=function(o){let c=o.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||o.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return c?`${c[1]||"https"}://www.youtube.com/embed/${c[2]}?showinfo=0`:(c=o.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${c[1]||"https"}://player.vimeo.com/video/${c[2]}/`:o}(s);case"formula":{if(!s)break;let o=this.quill.getSelection(!0);if(o!=null){let c=o.index+o.length;this.quill.insertEmbed(c,this.root.getAttribute("data-mode"),s,ct.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(c+1," ",ct.sources.USER),this.quill.setSelection(c+2,ct.sources.USER)}break}}this.textbox.value="",this.hide()}}function uo(i,s){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.forEach(c=>{let h=document.createElement("option");c===o?h.setAttribute("selected","selected"):h.setAttribute("value",String(c)),i.appendChild(h)})}let mv=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class gv extends Md{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(s,o){super(s,o),this.quill.on(ct.events.EDITOR_CHANGE,(c,h,p,g)=>{if(c===ct.events.SELECTION_CHANGE)if(h!=null&&h.length>0&&g===ct.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let v=this.quill.getLines(h.index,h.length);if(v.length===1){let S=this.quill.getBounds(h);S!=null&&this.position(S)}else{let S=v[v.length-1],B=this.quill.getIndex(S),z=Math.min(S.length()-1,h.index+h.length-B),rt=this.quill.getBounds(new Gn(B,z));rt!=null&&this.position(rt)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(ct.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let s=this.quill.getSelection();if(s!=null){let o=this.quill.getBounds(s);o!=null&&this.position(o)}},1)})}cancel(){this.show()}position(s){let o=super.position(s),c=this.root.querySelector(".ql-tooltip-arrow");return c.style.marginLeft="",o!==0&&(c.style.marginLeft=-1*o-c.offsetWidth/2+"px"),o}}class Dd extends co{constructor(s,o){o.modules.toolbar!=null&&o.modules.toolbar.container==null&&(o.modules.toolbar.container=mv),super(s,o),this.quill.container.classList.add("ql-bubble")}extendToolbar(s){this.tooltip=new gv(this.quill,this.options.bounds),s.container!=null&&(this.tooltip.root.appendChild(s.container),this.buildButtons(s.container.querySelectorAll("button"),ao),this.buildPickers(s.container.querySelectorAll("select"),ao))}}Dd.DEFAULTS=gr({},co.DEFAULTS,{modules:{toolbar:{handlers:{link(i){i?this.quill.theme.tooltip.edit():this.quill.format("link",!1,U.sources.USER)}}}}});let bv=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class yv extends Md{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",s=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),s.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",s=>{if(this.linkRange!=null){let o=this.linkRange;this.restoreFocus(),this.quill.formatText(o,"link",!1,ct.sources.USER),delete this.linkRange}s.preventDefault(),this.hide()}),this.quill.on(ct.events.SELECTION_CHANGE,(s,o,c)=>{if(s!=null){if(s.length===0&&c===ct.sources.USER){let[h,p]=this.quill.scroll.descendant(gl,s.index);if(h!=null){this.linkRange=new Gn(s.index-p,h.length());let g=gl.formats(h.domNode);this.preview.textContent=g,this.preview.setAttribute("href",g),this.show();let v=this.quill.getBounds(this.linkRange);return void(v!=null&&this.position(v))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Pd extends co{constructor(s,o){o.modules.toolbar!=null&&o.modules.toolbar.container==null&&(o.modules.toolbar.container=bv),super(s,o),this.quill.container.classList.add("ql-snow")}extendToolbar(s){s.container!=null&&(s.container.classList.add("ql-snow"),this.buildButtons(s.container.querySelectorAll("button"),ao),this.buildPickers(s.container.querySelectorAll("select"),ao),this.tooltip=new yv(this.quill,this.options.bounds),s.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(o,c)=>{s.handlers.link.call(s,!c.format.link)}))}}Pd.DEFAULTS=gr({},co.DEFAULTS,{modules:{toolbar:{handlers:{link(i){if(i){let s=this.quill.getSelection();if(s==null||s.length===0)return;let o=this.quill.getText(s);/^\S+@\S+\.\S+$/.test(o)&&o.indexOf("mailto:")!==0&&(o=`mailto:${o}`);let{tooltip:c}=this.quill.theme;c.edit("link",o)}else this.quill.format("link",!1,U.sources.USER)}}}}});let vv=Pd;Pc.register({"attributors/attribute/direction":cd,"attributors/class/align":od,"attributors/class/background":ky,"attributors/class/color":_y,"attributors/class/direction":ud,"attributors/class/font":dd,"attributors/class/size":md,"attributors/style/align":ld,"attributors/style/background":_c,"attributors/style/color":Cc,"attributors/style/direction":hd,"attributors/style/font":pd,"attributors/style/size":gd},!0),Pc.register({"formats/align":od,"formats/direction":ud,"formats/indent":Yy,"formats/background":_c,"formats/color":Cc,"formats/font":dd,"formats/size":md,"formats/blockquote":tv,"formats/code-block":Qe,"formats/header":ev,"formats/list":io,"formats/bold":Uc,"formats/code":kc,"formats/italic":rv,"formats/link":gl,"formats/script":nv,"formats/strike":sv,"formats/underline":iv,"formats/formula":ov,"formats/image":lv,"formats/video":av,"modules/syntax":Od,"modules/table":cv,"modules/toolbar":Hc,"themes/bubble":Dd,"themes/snow":vv,"ui/icons":ao,"ui/picker":yl,"ui/icon-picker":Bd,"ui/color-picker":Id,"ui/tooltip":jd},!0);let xv=Pc}},t={};function e(n){var l=t[n];if(l!==void 0)return l.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return r[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}return e.d=(n,l)=>{for(var a in l)e.o(l,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:l[a]})},e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(n,l)=>Object.prototype.hasOwnProperty.call(n,l),e.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),e(190)})())});var Ov=typeof global=="object"&&global&&global.Object===Object&&global,vl=Ov;var qv=typeof self=="object"&&self&&self.Object===Object&&self,Cv=vl||qv||Function("return this")(),Ae=Cv;var _v=Ae.Symbol,Lr=_v;var zd=Object.prototype,kv=zd.hasOwnProperty,Rv=zd.toString,ho=Lr?Lr.toStringTag:void 0;function Iv(r){var t=kv.call(r,ho),e=r[ho];try{r[ho]=void 0;var n=!0}catch{}var l=Rv.call(r);return n&&(t?r[ho]=e:delete r[ho]),l}var $d=Iv;var Bv=Object.prototype,jv=Bv.toString;function Mv(r){return jv.call(r)}var Vd=Mv;var Dv="[object Null]",Pv="[object Undefined]",Kd=Lr?Lr.toStringTag:void 0;function Uv(r){return r==null?r===void 0?Pv:Dv:Kd&&Kd in Object(r)?$d(r):Vd(r)}var Gr=Uv;function Fv(r){return r!=null&&typeof r=="object"}var Ue=Fv;var Hv=Array.isArray,Or=Hv;function zv(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var ze=zv;function $v(r){return r}var xl=$v;var Vv="[object AsyncFunction]",Kv="[object Function]",Gv="[object GeneratorFunction]",Wv="[object Proxy]";function Zv(r){if(!ze(r))return!1;var t=Gr(r);return t==Kv||t==Gv||t==Vv||t==Wv}var si=Zv;var Xv=Ae["__core-js_shared__"],El=Xv;var Gd=function(){var r=/[^.]+$/.exec(El&&El.keys&&El.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Jv(r){return!!Gd&&Gd in r}var Wd=Jv;var Qv=Function.prototype,Yv=Qv.toString;function tx(r){if(r!=null){try{return Yv.call(r)}catch{}try{return r+""}catch{}}return""}var An=tx;var ex=/[\\^$.*+?()[\]{}|]/g,rx=/^\[object .+?Constructor\]$/,nx=Function.prototype,sx=Object.prototype,ix=nx.toString,ox=sx.hasOwnProperty,lx=RegExp("^"+ix.call(ox).replace(ex,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ax(r){if(!ze(r)||Wd(r))return!1;var t=si(r)?lx:rx;return t.test(An(r))}var Zd=ax;function cx(r,t){return r?.[t]}var Xd=cx;function ux(r,t){var e=Xd(r,t);return Zd(e)?e:void 0}var ar=ux;var hx=ar(Ae,"WeakMap"),Al=hx;var Jd=Object.create,fx=function(){function r(){}return function(t){if(!ze(t))return{};if(Jd)return Jd(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}(),Qd=fx;function dx(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}var Yd=dx;function px(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var wl=px;var mx=800,gx=16,bx=Date.now;function yx(r){var t=0,e=0;return function(){var n=bx(),l=gx-(n-e);if(e=n,l>0){if(++t>=mx)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}var tp=yx;function vx(r){return function(){return r}}var ep=vx;var xx=function(){try{var r=ar(Object,"defineProperty");return r({},"",{}),r}catch{}}(),ii=xx;var Ex=ii?function(r,t){return ii(r,"toString",{configurable:!0,enumerable:!1,value:ep(t),writable:!0})}:xl,rp=Ex;var Ax=tp(rp),np=Ax;function wx(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var sp=wx;var Nx=9007199254740991,Tx=/^(?:0|[1-9]\d*)$/;function Sx(r,t){var e=typeof r;return t=t??Nx,!!t&&(e=="number"||e!="symbol"&&Tx.test(r))&&r>-1&&r%1==0&&r<t}var Nl=Sx;function Lx(r,t,e){t=="__proto__"&&ii?ii(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}var oi=Lx;function Ox(r,t){return r===t||r!==r&&t!==t}var sn=Ox;var qx=Object.prototype,Cx=qx.hasOwnProperty;function _x(r,t,e){var n=r[t];(!(Cx.call(r,t)&&sn(n,e))||e===void 0&&!(t in r))&&oi(r,t,e)}var Tl=_x;function kx(r,t,e,n){var l=!e;e||(e={});for(var a=-1,u=t.length;++a<u;){var f=t[a],d=n?n(e[f],r[f],f,e,r):void 0;d===void 0&&(d=r[f]),l?oi(e,f,d):Tl(e,f,d)}return e}var on=kx;var ip=Math.max;function Rx(r,t,e){return t=ip(t===void 0?r.length-1:t,0),function(){for(var n=arguments,l=-1,a=ip(n.length-t,0),u=Array(a);++l<a;)u[l]=n[t+l];l=-1;for(var f=Array(t+1);++l<t;)f[l]=n[l];return f[t]=e(u),Yd(r,this,f)}}var op=Rx;function Ix(r,t){return np(op(r,t,xl),r+"")}var lp=Ix;var Bx=9007199254740991;function jx(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Bx}var Sl=jx;function Mx(r){return r!=null&&Sl(r.length)&&!si(r)}var Jn=Mx;function Dx(r,t,e){if(!ze(e))return!1;var n=typeof t;return(n=="number"?Jn(e)&&Nl(t,e.length):n=="string"&&t in e)?sn(e[t],r):!1}var ap=Dx;function Px(r){return lp(function(t,e){var n=-1,l=e.length,a=l>1?e[l-1]:void 0,u=l>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(l--,a):void 0,u&&ap(e[0],e[1],u)&&(a=l<3?void 0:a,l=1),t=Object(t);++n<l;){var f=e[n];f&&r(t,f,n,a)}return t})}var cp=Px;var Ux=Object.prototype;function Fx(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||Ux;return r===e}var li=Fx;function Hx(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var up=Hx;var zx="[object Arguments]";function $x(r){return Ue(r)&&Gr(r)==zx}var Vc=$x;var hp=Object.prototype,Vx=hp.hasOwnProperty,Kx=hp.propertyIsEnumerable,Gx=Vc(function(){return arguments}())?Vc:function(r){return Ue(r)&&Vx.call(r,"callee")&&!Kx.call(r,"callee")},fo=Gx;function Wx(){return!1}var fp=Wx;var mp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dp=mp&&typeof module=="object"&&module&&!module.nodeType&&module,Zx=dp&&dp.exports===mp,pp=Zx?Ae.Buffer:void 0,Xx=pp?pp.isBuffer:void 0,Jx=Xx||fp,wn=Jx;var Qx="[object Arguments]",Yx="[object Array]",tE="[object Boolean]",eE="[object Date]",rE="[object Error]",nE="[object Function]",sE="[object Map]",iE="[object Number]",oE="[object Object]",lE="[object RegExp]",aE="[object Set]",cE="[object String]",uE="[object WeakMap]",hE="[object ArrayBuffer]",fE="[object DataView]",dE="[object Float32Array]",pE="[object Float64Array]",mE="[object Int8Array]",gE="[object Int16Array]",bE="[object Int32Array]",yE="[object Uint8Array]",vE="[object Uint8ClampedArray]",xE="[object Uint16Array]",EE="[object Uint32Array]",ee={};ee[dE]=ee[pE]=ee[mE]=ee[gE]=ee[bE]=ee[yE]=ee[vE]=ee[xE]=ee[EE]=!0;ee[Qx]=ee[Yx]=ee[hE]=ee[tE]=ee[fE]=ee[eE]=ee[rE]=ee[nE]=ee[sE]=ee[iE]=ee[oE]=ee[lE]=ee[aE]=ee[cE]=ee[uE]=!1;function AE(r){return Ue(r)&&Sl(r.length)&&!!ee[Gr(r)]}var gp=AE;function wE(r){return function(t){return r(t)}}var ai=wE;var bp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,po=bp&&typeof module=="object"&&module&&!module.nodeType&&module,NE=po&&po.exports===bp,Kc=NE&&vl.process,TE=function(){try{var r=po&&po.require&&po.require("util").types;return r||Kc&&Kc.binding&&Kc.binding("util")}catch{}}(),Nn=TE;var yp=Nn&&Nn.isTypedArray,SE=yp?ai(yp):gp,ci=SE;var LE=Object.prototype,OE=LE.hasOwnProperty;function qE(r,t){var e=Or(r),n=!e&&fo(r),l=!e&&!n&&wn(r),a=!e&&!n&&!l&&ci(r),u=e||n||l||a,f=u?up(r.length,String):[],d=f.length;for(var m in r)(t||OE.call(r,m))&&!(u&&(m=="length"||l&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Nl(m,d)))&&f.push(m);return f}var Ll=qE;function CE(r,t){return function(e){return r(t(e))}}var Ol=CE;var _E=Ol(Object.keys,Object),vp=_E;var kE=Object.prototype,RE=kE.hasOwnProperty;function IE(r){if(!li(r))return vp(r);var t=[];for(var e in Object(r))RE.call(r,e)&&e!="constructor"&&t.push(e);return t}var xp=IE;function BE(r){return Jn(r)?Ll(r):xp(r)}var ui=BE;function jE(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Ep=jE;var ME=Object.prototype,DE=ME.hasOwnProperty;function PE(r){if(!ze(r))return Ep(r);var t=li(r),e=[];for(var n in r)n=="constructor"&&(t||!DE.call(r,n))||e.push(n);return e}var Ap=PE;function UE(r){return Jn(r)?Ll(r,!0):Ap(r)}var ln=UE;var FE=ar(Object,"create"),Tn=FE;function HE(){this.__data__=Tn?Tn(null):{},this.size=0}var wp=HE;function zE(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Np=zE;var $E="__lodash_hash_undefined__",VE=Object.prototype,KE=VE.hasOwnProperty;function GE(r){var t=this.__data__;if(Tn){var e=t[r];return e===$E?void 0:e}return KE.call(t,r)?t[r]:void 0}var Tp=GE;var WE=Object.prototype,ZE=WE.hasOwnProperty;function XE(r){var t=this.__data__;return Tn?t[r]!==void 0:ZE.call(t,r)}var Sp=XE;var JE="__lodash_hash_undefined__";function QE(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=Tn&&t===void 0?JE:t,this}var Lp=QE;function hi(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}hi.prototype.clear=wp;hi.prototype.delete=Np;hi.prototype.get=Tp;hi.prototype.has=Sp;hi.prototype.set=Lp;var Gc=hi;function YE(){this.__data__=[],this.size=0}var Op=YE;function tA(r,t){for(var e=r.length;e--;)if(sn(r[e][0],t))return e;return-1}var Qn=tA;var eA=Array.prototype,rA=eA.splice;function nA(r){var t=this.__data__,e=Qn(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():rA.call(t,e,1),--this.size,!0}var qp=nA;function sA(r){var t=this.__data__,e=Qn(t,r);return e<0?void 0:t[e][1]}var Cp=sA;function iA(r){return Qn(this.__data__,r)>-1}var _p=iA;function oA(r,t){var e=this.__data__,n=Qn(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}var kp=oA;function fi(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}fi.prototype.clear=Op;fi.prototype.delete=qp;fi.prototype.get=Cp;fi.prototype.has=_p;fi.prototype.set=kp;var Yn=fi;var lA=ar(Ae,"Map"),ts=lA;function aA(){this.size=0,this.__data__={hash:new Gc,map:new(ts||Yn),string:new Gc}}var Rp=aA;function cA(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}var Ip=cA;function uA(r,t){var e=r.__data__;return Ip(t)?e[typeof t=="string"?"string":"hash"]:e.map}var es=uA;function hA(r){var t=es(this,r).delete(r);return this.size-=t?1:0,t}var Bp=hA;function fA(r){return es(this,r).get(r)}var jp=fA;function dA(r){return es(this,r).has(r)}var Mp=dA;function pA(r,t){var e=es(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}var Dp=pA;function di(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}di.prototype.clear=Rp;di.prototype.delete=Bp;di.prototype.get=jp;di.prototype.has=Mp;di.prototype.set=Dp;var ql=di;function mA(r,t){for(var e=-1,n=t.length,l=r.length;++e<n;)r[l+e]=t[e];return r}var Cl=mA;var gA=Ol(Object.getPrototypeOf,Object),pi=gA;var bA="[object Object]",yA=Function.prototype,vA=Object.prototype,Pp=yA.toString,xA=vA.hasOwnProperty,EA=Pp.call(Object);function AA(r){if(!Ue(r)||Gr(r)!=bA)return!1;var t=pi(r);if(t===null)return!0;var e=xA.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Pp.call(e)==EA}var Up=AA;function wA(){this.__data__=new Yn,this.size=0}var Fp=wA;function NA(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}var Hp=NA;function TA(r){return this.__data__.get(r)}var zp=TA;function SA(r){return this.__data__.has(r)}var $p=SA;var LA=200;function OA(r,t){var e=this.__data__;if(e instanceof Yn){var n=e.__data__;if(!ts||n.length<LA-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new ql(n)}return e.set(r,t),this.size=e.size,this}var Vp=OA;function mi(r){var t=this.__data__=new Yn(r);this.size=t.size}mi.prototype.clear=Fp;mi.prototype.delete=Hp;mi.prototype.get=zp;mi.prototype.has=$p;mi.prototype.set=Vp;var rs=mi;function qA(r,t){return r&&on(t,ui(t),r)}var Kp=qA;function CA(r,t){return r&&on(t,ln(t),r)}var Gp=CA;var Jp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wp=Jp&&typeof module=="object"&&module&&!module.nodeType&&module,_A=Wp&&Wp.exports===Jp,Zp=_A?Ae.Buffer:void 0,Xp=Zp?Zp.allocUnsafe:void 0;function kA(r,t){if(t)return r.slice();var e=r.length,n=Xp?Xp(e):new r.constructor(e);return r.copy(n),n}var _l=kA;function RA(r,t){for(var e=-1,n=r==null?0:r.length,l=0,a=[];++e<n;){var u=r[e];t(u,e,r)&&(a[l++]=u)}return a}var Qp=RA;function IA(){return[]}var kl=IA;var BA=Object.prototype,jA=BA.propertyIsEnumerable,Yp=Object.getOwnPropertySymbols,MA=Yp?function(r){return r==null?[]:(r=Object(r),Qp(Yp(r),function(t){return jA.call(r,t)}))}:kl,gi=MA;function DA(r,t){return on(r,gi(r),t)}var tm=DA;var PA=Object.getOwnPropertySymbols,UA=PA?function(r){for(var t=[];r;)Cl(t,gi(r)),r=pi(r);return t}:kl,Rl=UA;function FA(r,t){return on(r,Rl(r),t)}var em=FA;function HA(r,t,e){var n=t(r);return Or(r)?n:Cl(n,e(r))}var Il=HA;function zA(r){return Il(r,ui,gi)}var mo=zA;function $A(r){return Il(r,ln,Rl)}var rm=$A;var VA=ar(Ae,"DataView"),Bl=VA;var KA=ar(Ae,"Promise"),jl=KA;var GA=ar(Ae,"Set"),Ml=GA;var nm="[object Map]",WA="[object Object]",sm="[object Promise]",im="[object Set]",om="[object WeakMap]",lm="[object DataView]",ZA=An(Bl),XA=An(ts),JA=An(jl),QA=An(Ml),YA=An(Al),qs=Gr;(Bl&&qs(new Bl(new ArrayBuffer(1)))!=lm||ts&&qs(new ts)!=nm||jl&&qs(jl.resolve())!=sm||Ml&&qs(new Ml)!=im||Al&&qs(new Al)!=om)&&(qs=function(r){var t=Gr(r),e=t==WA?r.constructor:void 0,n=e?An(e):"";if(n)switch(n){case ZA:return lm;case XA:return nm;case JA:return sm;case QA:return im;case YA:return om}return t});var Sn=qs;var tw=Object.prototype,ew=tw.hasOwnProperty;function rw(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&ew.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var am=rw;var nw=Ae.Uint8Array,bi=nw;function sw(r){var t=new r.constructor(r.byteLength);return new bi(t).set(new bi(r)),t}var yi=sw;function iw(r,t){var e=t?yi(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var cm=iw;var ow=/\w*$/;function lw(r){var t=new r.constructor(r.source,ow.exec(r));return t.lastIndex=r.lastIndex,t}var um=lw;var hm=Lr?Lr.prototype:void 0,fm=hm?hm.valueOf:void 0;function aw(r){return fm?Object(fm.call(r)):{}}var dm=aw;function cw(r,t){var e=t?yi(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var Dl=cw;var uw="[object Boolean]",hw="[object Date]",fw="[object Map]",dw="[object Number]",pw="[object RegExp]",mw="[object Set]",gw="[object String]",bw="[object Symbol]",yw="[object ArrayBuffer]",vw="[object DataView]",xw="[object Float32Array]",Ew="[object Float64Array]",Aw="[object Int8Array]",ww="[object Int16Array]",Nw="[object Int32Array]",Tw="[object Uint8Array]",Sw="[object Uint8ClampedArray]",Lw="[object Uint16Array]",Ow="[object Uint32Array]";function qw(r,t,e){var n=r.constructor;switch(t){case yw:return yi(r);case uw:case hw:return new n(+r);case vw:return cm(r,e);case xw:case Ew:case Aw:case ww:case Nw:case Tw:case Sw:case Lw:case Ow:return Dl(r,e);case fw:return new n;case dw:case gw:return new n(r);case pw:return um(r);case mw:return new n;case bw:return dm(r)}}var pm=qw;function Cw(r){return typeof r.constructor=="function"&&!li(r)?Qd(pi(r)):{}}var Pl=Cw;var _w="[object Map]";function kw(r){return Ue(r)&&Sn(r)==_w}var mm=kw;var gm=Nn&&Nn.isMap,Rw=gm?ai(gm):mm,bm=Rw;var Iw="[object Set]";function Bw(r){return Ue(r)&&Sn(r)==Iw}var ym=Bw;var vm=Nn&&Nn.isSet,jw=vm?ai(vm):ym,xm=jw;var Mw=1,Dw=2,Pw=4,Em="[object Arguments]",Uw="[object Array]",Fw="[object Boolean]",Hw="[object Date]",zw="[object Error]",Am="[object Function]",$w="[object GeneratorFunction]",Vw="[object Map]",Kw="[object Number]",wm="[object Object]",Gw="[object RegExp]",Ww="[object Set]",Zw="[object String]",Xw="[object Symbol]",Jw="[object WeakMap]",Qw="[object ArrayBuffer]",Yw="[object DataView]",tN="[object Float32Array]",eN="[object Float64Array]",rN="[object Int8Array]",nN="[object Int16Array]",sN="[object Int32Array]",iN="[object Uint8Array]",oN="[object Uint8ClampedArray]",lN="[object Uint16Array]",aN="[object Uint32Array]",Jt={};Jt[Em]=Jt[Uw]=Jt[Qw]=Jt[Yw]=Jt[Fw]=Jt[Hw]=Jt[tN]=Jt[eN]=Jt[rN]=Jt[nN]=Jt[sN]=Jt[Vw]=Jt[Kw]=Jt[wm]=Jt[Gw]=Jt[Ww]=Jt[Zw]=Jt[Xw]=Jt[iN]=Jt[oN]=Jt[lN]=Jt[aN]=!0;Jt[zw]=Jt[Am]=Jt[Jw]=!1;function Ul(r,t,e,n,l,a){var u,f=t&Mw,d=t&Dw,m=t&Pw;if(e&&(u=l?e(r,n,l,a):e(r)),u!==void 0)return u;if(!ze(r))return r;var y=Or(r);if(y){if(u=am(r),!f)return wl(r,u)}else{var b=Sn(r),N=b==Am||b==$w;if(wn(r))return _l(r,f);if(b==wm||b==Em||N&&!l){if(u=d||N?{}:Pl(r),!f)return d?em(r,Gp(u,r)):tm(r,Kp(u,r))}else{if(!Jt[b])return l?r:{};u=pm(r,b,f)}}a||(a=new rs);var A=a.get(r);if(A)return A;a.set(r,u),xm(r)?r.forEach(function(x){u.add(Ul(x,t,e,x,r,a))}):bm(r)&&r.forEach(function(x,T){u.set(T,Ul(x,t,e,T,r,a))});var E=m?d?rm:mo:d?ln:ui,k=y?void 0:E(r);return sp(k||r,function(x,T){k&&(T=x,x=r[T]),Tl(u,T,Ul(x,t,e,T,r,a))}),u}var Nm=Ul;var cN=1,uN=4;function hN(r){return Nm(r,cN|uN)}var an=hN;var fN="__lodash_hash_undefined__";function dN(r){return this.__data__.set(r,fN),this}var Tm=dN;function pN(r){return this.__data__.has(r)}var Sm=pN;function Fl(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new ql;++t<e;)this.add(r[t])}Fl.prototype.add=Fl.prototype.push=Tm;Fl.prototype.has=Sm;var Lm=Fl;function mN(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}var Om=mN;function gN(r,t){return r.has(t)}var qm=gN;var bN=1,yN=2;function vN(r,t,e,n,l,a){var u=e&bN,f=r.length,d=t.length;if(f!=d&&!(u&&d>f))return!1;var m=a.get(r),y=a.get(t);if(m&&y)return m==t&&y==r;var b=-1,N=!0,A=e&yN?new Lm:void 0;for(a.set(r,t),a.set(t,r);++b<f;){var E=r[b],k=t[b];if(n)var x=u?n(k,E,b,t,r,a):n(E,k,b,r,t,a);if(x!==void 0){if(x)continue;N=!1;break}if(A){if(!Om(t,function(T,C){if(!qm(A,C)&&(E===T||l(E,T,e,n,a)))return A.push(C)})){N=!1;break}}else if(!(E===k||l(E,k,e,n,a))){N=!1;break}}return a.delete(r),a.delete(t),N}var Hl=vN;function xN(r){var t=-1,e=Array(r.size);return r.forEach(function(n,l){e[++t]=[l,n]}),e}var Cm=xN;function EN(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var _m=EN;var AN=1,wN=2,NN="[object Boolean]",TN="[object Date]",SN="[object Error]",LN="[object Map]",ON="[object Number]",qN="[object RegExp]",CN="[object Set]",_N="[object String]",kN="[object Symbol]",RN="[object ArrayBuffer]",IN="[object DataView]",km=Lr?Lr.prototype:void 0,Wc=km?km.valueOf:void 0;function BN(r,t,e,n,l,a,u){switch(e){case IN:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case RN:return!(r.byteLength!=t.byteLength||!a(new bi(r),new bi(t)));case NN:case TN:case ON:return sn(+r,+t);case SN:return r.name==t.name&&r.message==t.message;case qN:case _N:return r==t+"";case LN:var f=Cm;case CN:var d=n&AN;if(f||(f=_m),r.size!=t.size&&!d)return!1;var m=u.get(r);if(m)return m==t;n|=wN,u.set(r,t);var y=Hl(f(r),f(t),n,l,a,u);return u.delete(r),y;case kN:if(Wc)return Wc.call(r)==Wc.call(t)}return!1}var Rm=BN;var jN=1,MN=Object.prototype,DN=MN.hasOwnProperty;function PN(r,t,e,n,l,a){var u=e&jN,f=mo(r),d=f.length,m=mo(t),y=m.length;if(d!=y&&!u)return!1;for(var b=d;b--;){var N=f[b];if(!(u?N in t:DN.call(t,N)))return!1}var A=a.get(r),E=a.get(t);if(A&&E)return A==t&&E==r;var k=!0;a.set(r,t),a.set(t,r);for(var x=u;++b<d;){N=f[b];var T=r[N],C=t[N];if(n)var _=u?n(C,T,N,t,r,a):n(T,C,N,r,t,a);if(!(_===void 0?T===C||l(T,C,e,n,a):_)){k=!1;break}x||(x=N=="constructor")}if(k&&!x){var j=r.constructor,H=t.constructor;j!=H&&"constructor"in r&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof H=="function"&&H instanceof H)&&(k=!1)}return a.delete(r),a.delete(t),k}var Im=PN;var UN=1,Bm="[object Arguments]",jm="[object Array]",zl="[object Object]",FN=Object.prototype,Mm=FN.hasOwnProperty;function HN(r,t,e,n,l,a){var u=Or(r),f=Or(t),d=u?jm:Sn(r),m=f?jm:Sn(t);d=d==Bm?zl:d,m=m==Bm?zl:m;var y=d==zl,b=m==zl,N=d==m;if(N&&wn(r)){if(!wn(t))return!1;u=!0,y=!1}if(N&&!y)return a||(a=new rs),u||ci(r)?Hl(r,t,e,n,l,a):Rm(r,t,d,e,n,l,a);if(!(e&UN)){var A=y&&Mm.call(r,"__wrapped__"),E=b&&Mm.call(t,"__wrapped__");if(A||E){var k=A?r.value():r,x=E?t.value():t;return a||(a=new rs),l(k,x,e,n,a)}}return N?(a||(a=new rs),Im(r,t,e,n,l,a)):!1}var Dm=HN;function Pm(r,t,e,n,l){return r===t?!0:r==null||t==null||!Ue(r)&&!Ue(t)?r!==r&&t!==t:Dm(r,t,e,n,Pm,l)}var Um=Pm;function zN(r){return function(t,e,n){for(var l=-1,a=Object(t),u=n(t),f=u.length;f--;){var d=u[r?f:++l];if(e(a[d],d,a)===!1)break}return t}}var Fm=zN;var $N=Fm(),Hm=$N;function VN(r,t,e){(e!==void 0&&!sn(r[t],e)||e===void 0&&!(t in r))&&oi(r,t,e)}var go=VN;function KN(r){return Ue(r)&&Jn(r)}var zm=KN;function GN(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}var bo=GN;function WN(r){return on(r,ln(r))}var $m=WN;function ZN(r,t,e,n,l,a,u){var f=bo(r,e),d=bo(t,e),m=u.get(d);if(m){go(r,e,m);return}var y=a?a(f,d,e+"",r,t,u):void 0,b=y===void 0;if(b){var N=Or(d),A=!N&&wn(d),E=!N&&!A&&ci(d);y=d,N||A||E?Or(f)?y=f:zm(f)?y=wl(f):A?(b=!1,y=_l(d,!0)):E?(b=!1,y=Dl(d,!0)):y=[]:Up(d)||fo(d)?(y=f,fo(f)?y=$m(f):(!ze(f)||si(f))&&(y=Pl(d))):b=!1}b&&(u.set(d,y),l(y,d,n,a,u),u.delete(d)),go(r,e,y)}var Vm=ZN;function Km(r,t,e,n,l){r!==t&&Hm(t,function(a,u){if(l||(l=new rs),ze(a))Vm(r,t,u,e,Km,n,l);else{var f=n?n(bo(r,u),a,u+"",r,t,l):void 0;f===void 0&&(f=a),go(r,u,f)}},ln)}var Gm=Km;function XN(r,t){return Um(r,t)}var Cs=XN;var JN=cp(function(r,t,e){Gm(r,t,e)}),cr=JN;var xo={};Hd(xo,{Attributor:()=>Ye,AttributorStore:()=>yo,BlockBlot:()=>_s,ClassAttributor:()=>we,ContainerBlot:()=>wi,EmbedBlot:()=>ae,InlineBlot:()=>$l,LeafBlot:()=>Ne,ParentBlot:()=>ur,Registry:()=>is,Scope:()=>Q,ScrollBlot:()=>vo,StyleAttributor:()=>hr,TextBlot:()=>Ni});var Q=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(Q||{}),Ye=class{constructor(t,e,n={}){this.attrName=t,this.keyName=e;let l=Q.TYPE&Q.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Q.LEVEL|l:Q.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){let e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}},ss=class extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}},Xm=class Xc{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){let l=this.query(e);if(l==null)throw new ss(`Unable to create ${e} blot`);let a=l,u=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(n),f=new a(t,u,n);return Xc.blots.set(f.domNode,f),f}find(t,e=!1){return Xc.find(t,e)}query(t,e=Q.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Q.LEVEL&Q.BLOCK?n=this.types.block:t&Q.LEVEL&Q.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(l=>(n=this.classes[l],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Q.LEVEL&n.scope&&e&Q.TYPE&n.scope?n:null}register(...t){return t.map(e=>{let n="blotName"in e,l="attrName"in e;if(!n&&!l)throw new ss("Invalid definition");if(n&&e.blotName==="abstract")throw new ss("Cannot register abstract class");let a=n?e.blotName:l?e.attrName:void 0;return this.types[a]=e,l?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(u=>u.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(u=>{(this.tags[u]==null||e.className==null)&&(this.tags[u]=e)}))),e})}};Xm.blots=new WeakMap;var is=Xm;function Wm(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}var Jc=class extends Ye{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Wm(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){let e=(Wm(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}},we=Jc;function Zc(r){let t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}var Qc=class extends Ye{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Zc(this.keyName)]=e,!0):!1}remove(t){t.style[Zc(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){let e=t.style[Zc(this.keyName)];return this.canAdd(t,e)?e:""}},hr=Qc,Yc=class{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};let t=is.find(this.domNode);if(t==null)return;let e=Ye.keys(this.domNode),n=we.keys(this.domNode),l=hr.keys(this.domNode);e.concat(n).concat(l).forEach(a=>{let u=t.scroll.query(a,Q.ATTRIBUTE);u instanceof Ye&&(this.attributes[u.attrName]=u)})}copy(t){Object.keys(this.attributes).forEach(e=>{let n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}},yo=Yc,Jm=class{constructor(t,e){this.scroll=t,this.domNode=e,is.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ss("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){let t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),is.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,l){let a=this.isolate(t,e);if(this.scroll.query(n,Q.BLOT)!=null&&l)a.wrap(n,l);else if(this.scroll.query(n,Q.ATTRIBUTE)!=null){let u=this.scroll.create(this.statics.scope);a.wrap(u),u.format(n,l)}}insertAt(t,e,n){let l=n==null?this.scroll.create("text",e):this.scroll.create(e,n),a=this.split(t);this.parent.insertBefore(l,a||void 0)}isolate(t,e){let n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){let n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){let n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new ss(`Cannot wrap ${t}`);return n.appendChild(this),n}};Jm.blotName="abstract";var Qm=Jm,Ym=class extends Qm{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ym.scope=Q.INLINE_BLOT;var QN=Ym,Ne=QN,tu=class{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){let e=t.slice(1);this.append(...e)}}at(t){let e=this.iterator(),n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){let e=this.iterator(),n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){let e=this.iterator(),n=e(),l=0;for(;n;){if(n===t)return l;l+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{let e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){let n=this.iterator(),l=n();for(;l;){let a=l.length();if(t<a||e&&t===a&&(l.next==null||l.next.length()!==0))return[l,t];t-=a,l=n()}return[null,0]}forEach(t){let e=this.iterator(),n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;let[l,a]=this.find(t),u=t-a,f=this.iterator(l),d=f();for(;d&&u<t+e;){let m=d.length();t>u?n(d,t-u,Math.min(e,u+m-t)):n(d,0,Math.min(m,t+e-u)),u+=m,d=f()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){let n=this.iterator(),l=n();for(;l;)e=t(e,l),l=n();return e}};function Zm(r,t){let e=t.find(r);if(e)return e;try{return t.create(r)}catch{let n=t.create(Q.INLINE);return Array.from(r.childNodes).forEach(l=>{n.domNode.appendChild(l)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}var tg=class ns extends Qm{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ns.uiClass&&this.uiNode.classList.add(ns.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new tu,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{let e=Zm(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof ss)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,l,a)=>{n.deleteAt(l,a)})}descendant(t,e=0){let[n,l]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,l]:n instanceof ns?n.descendant(t,l):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let l=[],a=n;return this.children.forEachAt(e,n,(u,f,d)=>{(t.blotName==null&&t(u)||t.blotName!=null&&u instanceof t)&&l.push(u),u instanceof ns&&(l=l.concat(u.descendants(t,f,a))),a-=d}),l}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===Q.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof ns?e.unwrap():e.remove())})}formatAt(t,e,n,l){this.children.forEachAt(t,e,(a,u,f)=>{a.formatAt(u,f,n,l)})}insertAt(t,e,n){let[l,a]=this.children.find(t);if(l)l.insertAt(a,e,n);else{let u=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(u)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){let[n,l]=this.children.find(t,e),a=[[this,t]];return n instanceof ns?a.concat(n.path(l,e)):(n!=null&&a.push([n,l]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){let n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof ns&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}let n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(l,a,u)=>{let f=l.split(a,e);f!=null&&n.appendChild(f)}),n}splitAfter(t){let e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){let n=[],l=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(n.push(...a.addedNodes),l.push(...a.removedNodes))}),l.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let u=this.scroll.find(a);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),n.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,u)=>a===u?0:a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let u=null;a.nextSibling!=null&&(u=this.scroll.find(a.nextSibling));let f=Zm(a,this.scroll);(f.next!==u||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};tg.uiClass="";var YN=tg,ur=YN;function t2(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(let e in r)if(r[e]!==t[e])return!1;return!0}var vi=class xi extends ur{static create(t){return super.create(t)}static formats(t,e){let n=e.query(xi.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new yo(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof xi||(n=n.wrap(xi.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{let n=this.scroll.query(t,Q.INLINE);if(n==null)return;n instanceof Ye?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){let t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,l){this.formats()[n]!=null||this.scroll.query(n,Q.ATTRIBUTE)?this.isolate(t,e).format(n,l):super.formatAt(t,e,n,l)}optimize(t){super.optimize(t);let e=this.formats();if(Object.keys(e).length===0)return this.unwrap();let n=this.next;n instanceof xi&&n.prev===this&&t2(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){let n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){let n=super.wrap(t,e);return n instanceof xi&&this.attributes.move(n),n}};vi.allowedChildren=[vi,Ne],vi.blotName="inline",vi.scope=Q.INLINE_BLOT,vi.tagName="SPAN";var e2=vi,$l=e2,Ei=class eu extends ur{static create(t){return super.create(t)}static formats(t,e){let n=e.query(eu.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new yo(this.domNode)}format(t,e){let n=this.scroll.query(t,Q.BLOCK);n!=null&&(n instanceof Ye?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(eu.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){let t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,l){this.scroll.query(n,Q.BLOCK)!=null?this.format(n,l):super.formatAt(t,e,n,l)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Q.INLINE)!=null)super.insertAt(t,e,n);else{let l=this.split(t);if(l!=null){let a=this.scroll.create(e,n);l.parent.insertBefore(a,l)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){let n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Ei.blotName="block",Ei.scope=Q.BLOCK_BLOT,Ei.tagName="P",Ei.allowedChildren=[$l,Ei,Ne];var r2=Ei,_s=r2,ru=class extends ur{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,l){super.formatAt(t,e,n,l),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ru.blotName="container",ru.scope=Q.BLOCK_BLOT;var n2=ru,wi=n2,nu=class extends Ne{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,l){t===0&&e===this.length()?this.format(n,l):super.formatAt(t,e,n,l)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ae=nu,s2={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i2=100,Ai=class extends ur{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,s2),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){let n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=Q.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,l){this.update(),super.formatAt(t,e,n,l)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);let n=e.mutationsMap||new WeakMap,l=Array.from(this.observer.takeRecords());for(;l.length>0;)t.push(l.pop());let a=(d,m=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(n.has(d.domNode)||n.set(d.domNode,[]),m&&a(d.parent))},u=d=>{n.has(d.domNode)&&(d instanceof ur&&d.children.forEach(u),n.delete(d.domNode),d.optimize(e))},f=t;for(let d=0;f.length>0;d+=1){if(d>=i2)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(m=>{let y=this.find(m.target,!0);y!=null&&(y.domNode===m.target&&(m.type==="childList"?(a(this.find(m.previousSibling,!1)),Array.from(m.addedNodes).forEach(b=>{let N=this.find(b,!1);a(N,!1),N instanceof ur&&N.children.forEach(A=>{a(A,!1)})})):m.type==="attributes"&&a(y.prev)),a(y))}),this.children.forEach(u),f=Array.from(this.observer.takeRecords()),l=f.slice();l.length>0;)t.push(l.pop())}}update(t,e={}){t=t||this.observer.takeRecords();let n=new WeakMap;t.map(l=>{let a=this.find(l.target,!0);return a==null?null:n.has(a.domNode)?(n.get(a.domNode).push(l),null):(n.set(a.domNode,[l]),a)}).forEach(l=>{l!=null&&l!==this&&n.has(l.domNode)&&l.update(n.get(l.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Ai.blotName="scroll",Ai.defaultChild=_s,Ai.allowedChildren=[_s,wi],Ai.scope=Q.BLOCK_BLOT,Ai.tagName="DIV";var o2=Ai,vo=o2,su=class eg extends Ne{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof eg&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}let n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};su.blotName="text",su.scope=Q.INLINE_BLOT;var l2=su,Ni=l2;var us=lr(vr(),1);var ce=lr(vr(),1);var $u=lr(vr(),1);var Co=class extends ae{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}};Co.blotName="break";Co.tagName="BR";var $e=Co;var ve=class extends Ni{};function Us(r){return r.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}var zu=class r extends $l{static allowedChildren=[r,$e,ae,ve];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){let n=r.order.indexOf(t),l=r.order.indexOf(e);return n>=0||l>=0?n-l:t===e?0:t<e?-1:1}formatAt(t,e,n,l){if(r.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Q.BLOT)){let a=this.isolate(t,e);l&&a.wrap(n,l)}else super.formatAt(t,e,n,l)}optimize(t){if(super.optimize(t),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){let e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}},Ve=zu;var D1=1,$t=class extends _s{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=Vu(this)),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,e,n,l){e<=0||(this.scroll.query(n,Q.BLOCK)?t+e===this.length()&&this.format(n,l):super.formatAt(t,Math.min(e,this.length()-t-1),n,l),this.cache={})}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n),this.cache={};return}if(e.length===0)return;let l=e.split(`
`),a=l.shift();a.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let u=this;l.reduce((f,d)=>(u=u.split(f,!0),u.insertAt(0,d),d.length),t+a.length)}insertBefore(t,e){let{head:n}=this.children;super.insertBefore(t,e),n instanceof $e&&n.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+D1),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e&&(t===0||t>=this.length()-D1)){let l=this.clone();return t===0?(this.parent.insertBefore(l,this),this):(this.parent.insertBefore(l,this.next),l)}let n=super.split(t,e);return this.cache={},n}};$t.blotName="block";$t.tagName="P";$t.defaultChild=$e;$t.allowedChildren=[$e,Ve,ae,ve];var qe=class extends ae{attach(){super.attach(),this.attributes=new yo(this.domNode)}delta(){return new $u.default().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){let n=this.scroll.query(t,Q.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,l){this.format(n,l)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}let l=e.split(`
`),a=l.pop(),u=l.map(d=>{let m=this.scroll.create($t.blotName);return m.insertAt(0,d),m}),f=this.split(t);u.forEach(d=>{this.parent.insertBefore(d,f)}),a&&this.parent.insertBefore(this.scroll.create("text",a),f)}};qe.scope=Q.BLOCK_BLOT;function Vu(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(Ne).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),fr(n,{},t)),new $u.default).insert(`
`,fr(r))}function fr(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:fr(r.parent,t,e)}var Ku=class r extends ae{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(r.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,l=0;for(;n!=null&&n.statics.scope!==Q.BLOCK_BLOT;)l+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=r.CONTENTS.length,n.optimize(),n.formatAt(l,r.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;let t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let e=this.prev instanceof ve?this.prev:null,n=e?e.length():0,l=this.next instanceof ve?this.next:null,a=l?l.text:"",{textNode:u}=this,f=u.data.split(r.CONTENTS).join("");u.data=r.CONTENTS;let d;if(e)d=e,(f||l)&&(e.insertAt(e.length(),f+a),l&&l.remove());else if(l)d=l,l.insertAt(0,f);else{let m=document.createTextNode(f);d=this.scroll.create(m),this.parent.insertBefore(d,this)}if(this.remove(),t){let m=(N,A)=>e&&N===e.domNode?A:N===u?n+A-1:l&&N===l.domNode?n+f.length+A:null,y=m(t.start.node,t.start.offset),b=m(t.end.node,t.end.offset);if(y!==null&&b!==null)return{startNode:d.domNode,startOffset:y,endNode:d.domNode,endOffset:b}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){let n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=r.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}},cs=Ku;var Wu=lr(U1(),1);var ko=new WeakMap;var Zu=["error","warn","log","info"],Xu="warn";function F1(r){if(Xu&&Zu.indexOf(r)<=Zu.indexOf(Xu)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function Ju(r){return Zu.reduce((t,e)=>(t[e]=F1.bind(console,e,r),t),{})}Ju.level=r=>{Xu=r};F1.level=Ju.level;var xr=Ju;var Qu=xr("quill:events"),SS=["selectionchange","mousedown","mouseup","click"];SS.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(l=>{let a=ko.get(l);a&&a.emitter&&a.emitter.handleDOM(...e)})})});var Yu=class extends Wu.default{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Qu.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qu.log.call(Qu,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),l=1;l<e;l++)n[l-1]=arguments[l];(this.domListeners[t.type]||[]).forEach(a=>{let{node:u,handler:f}=a;(t.target===u||u.contains(t.target))&&f(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}},it=Yu;var th=xr("quill:selection"),rr=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}},rh=class{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new rr(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,it.sources.USER),1)}),this.emitter.on(it.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(it.events.SCROLL_UPDATE,(l,a)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);let u=a.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(u?it.sources.SILENT:l)}catch{}})}),this.emitter.on(it.events.SCROLL_OPTIMIZE,(n,l)=>{if(l.range){let{startNode:a,startOffset:u,endNode:f,endOffset:d}=l.range;this.setNativeRange(a,u,f,d),this.update(it.sources.SILENT)}}),this.update(it.sources.SILENT)}handleComposition(){this.emitter.on(it.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(it.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(it.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();let n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Q.BLOCK))){if(n.start.node!==this.cursor.textNode){let l=this.scroll.find(n.start.node,!1);if(l==null)return;if(l instanceof Ne){let a=l.split(n.start.offset);l.parent.insertBefore(this.cursor,a)}else l.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let l,[a,u]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&u===a.length()){let[y]=this.scroll.leaf(t+1);if(y){let[b]=this.scroll.line(t),[N]=this.scroll.line(t+1);b===N&&(a=y,u=0)}}[l,u]=a.position(u,!0);let f=document.createRange();if(e>0)return f.setStart(l,u),[a,u]=this.scroll.leaf(t+e),a==null?null:([l,u]=a.position(u,!0),f.setEnd(l,u),f.getBoundingClientRect());let d="left",m;if(l instanceof Text){if(!l.data.length)return null;u<l.data.length?(f.setStart(l,u),f.setEnd(l,u+1)):(f.setStart(l,u-1),f.setEnd(l,u),d="right"),m=f.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;m=a.domNode.getBoundingClientRect(),u>0&&(d="right")}return{bottom:m.top+m.height,height:m.height,left:m[d],right:m[d],top:m.top,width:0}}getNativeRange(){let t=document.getSelection();if(t==null||t.rangeCount<=0)return null;let e=t.getRangeAt(0);if(e==null)return null;let n=this.normalizeNative(e);return th.info("getNativeRange",n),n}getRange(){let t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];let e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&eh(this.root,document.activeElement)}normalizedToRange(t){let e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);let n=e.map(u=>{let[f,d]=u,m=this.scroll.find(f,!0),y=m.offset(this.scroll);return d===0?y:m instanceof Ne?y+m.index(f,d):y+m.length()}),l=Math.min(Math.max(...n),this.scroll.length()-1),a=Math.min(l,...n);return new rr(a,l-a)}normalizeNative(t){if(!eh(this.root,t.startContainer)||!t.collapsed&&!eh(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:l,offset:a}=n;for(;!(l instanceof Text)&&l.childNodes.length>0;)if(l.childNodes.length>a)l=l.childNodes[a],a=0;else if(l.childNodes.length===a)l=l.lastChild,l instanceof Text?a=l.data.length:l.childNodes.length>0?a=l.childNodes.length:a=l.childNodes.length+1;else break;n.node=l,n.offset=a}),e}rangeToNative(t){let e=this.scroll.length(),n=(l,a)=>{l=Math.min(e-1,l);let[u,f]=this.scroll.leaf(l);return u?u.position(f,a):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(th.info("setNativeRange",t,e,n,l),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;let u=document.getSelection();if(u!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});let{native:f}=this.getNativeRange()||{};if(f==null||a||t!==f.startContainer||e!==f.startOffset||n!==f.endContainer||l!==f.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(l=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);let d=document.createRange();d.setStart(t,e),d.setEnd(n,l),u.removeAllRanges(),u.addRange(d)}}else u.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it.sources.API;if(typeof e=="string"&&(n=e,e=!1),th.info("setRange",t),t!=null){let l=this.rangeToNative(t);this.setNativeRange(...l,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:it.sources.USER,e=this.lastRange,[n,l]=this.getRange();if(this.lastRange=n,this.lastNative=l,this.lastRange!=null&&(this.savedRange=this.lastRange),!Cs(e,this.lastRange)){if(!this.composing&&l!=null&&l.native.collapsed&&l.start.node!==this.cursor.textNode){let u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}let a=[it.events.SELECTION_CHANGE,an(this.lastRange),an(e),t];this.emitter.emit(it.events.EDITOR_CHANGE,...a),t!==it.sources.SILENT&&this.emitter.emit(...a)}}};function eh(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}var H1=rh;var LS=/^[ -~]*$/,sh=class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();let n=z1(t),l=new ce.default;return qS(n.ops.slice()).reduce((u,f)=>{let d=ce.Op.length(f),m=f.attributes||{},y=!1,b=!1;if(f.insert!=null){if(l.retain(d),typeof f.insert=="string"){let E=f.insert;b=!E.endsWith(`
`)&&(e<=u||!!this.scroll.descendant(qe,u)[0]),this.scroll.insertAt(u,E);let[k,x]=this.scroll.line(u),T=cr({},fr(k));if(k instanceof $t){let[C]=k.descendant(Ne,x);C&&(T=cr(T,fr(C)))}m=ce.AttributeMap.diff(T,m)||{}}else if(typeof f.insert=="object"){let E=Object.keys(f.insert)[0];if(E==null)return u;let k=this.scroll.query(E,Q.INLINE)!=null;if(k)(e<=u||this.scroll.descendant(qe,u)[0])&&(b=!0);else if(u>0){let[x,T]=this.scroll.descendant(Ne,u-1);x instanceof ve?x.value()[T]!==`
`&&(y=!0):x instanceof ae&&x.statics.scope===Q.INLINE_BLOT&&(y=!0)}if(this.scroll.insertAt(u,E,f.insert[E]),k){let[x]=this.scroll.descendant(Ne,u);if(x){let T=cr({},fr(x));m=ce.AttributeMap.diff(T,m)||{}}}}e+=d}else if(l.push(f),f.retain!==null&&typeof f.retain=="object"){let E=Object.keys(f.retain)[0];if(E==null)return u;this.scroll.updateEmbedAt(u,E,f.retain[E])}Object.keys(m).forEach(E=>{this.scroll.formatAt(u,d,E,m[E])});let N=y?1:0,A=b?1:0;return e+=N+A,l.retain(N),l.delete(A),u+d+N+A},0),l.reduce((u,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(u,f.delete),u):u+ce.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new ce.default().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(u=>{u.format(a,n[a])})}),this.scroll.optimize();let l=new ce.default().retain(t).retain(e,an(n));return this.update(l)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(a=>{this.scroll.formatAt(t,e,a,n[a])});let l=new ce.default().retain(t).retain(e,an(n));return this.update(l)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new ce.default)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],l=[];e===0?this.scroll.path(t).forEach(f=>{let[d]=f;d instanceof $t?n.push(d):d instanceof Ne&&l.push(d)}):(n=this.scroll.lines(t,e),l=this.scroll.descendants(Ne,t,e));let[a,u]=[n,l].map(f=>{let d=f.shift();if(d==null)return{};let m=fr(d);for(;Object.keys(m).length>0;){let y=f.shift();if(y==null)return m;m=OS(fr(y),m)}return m});return{...a,...u}}getHTML(t,e){let[n,l]=this.scroll.line(t);if(n){let a=n.length();return n.length()>=l+e&&!(l===0&&e===a)?Ro(n,l,e,!0):Ro(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){let n=z1(e),l=new ce.default().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(l)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new ce.default().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(l=>{this.scroll.formatAt(t,e.length,l,n[l])}),this.update(new ce.default().retain(t).insert(e,an(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;if(t?.statics.blotName!==$t.blotName)return!1;let e=t;return e.children.length>1?!1:e.children.head instanceof $e}removeFormat(t,e){let n=this.getText(t,e),[l,a]=this.scroll.line(t+e),u=0,f=new ce.default;l!=null&&(u=l.length()-a,f=l.delta().slice(a,a+u-1).insert(`
`));let m=this.getContents(t,e+u).diff(new ce.default().insert(n).concat(f)),y=new ce.default().retain(t).concat(m);return this.applyDelta(y)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(LS)&&this.scroll.find(e[0].target)){let a=this.scroll.find(e[0].target),u=fr(a),f=a.offset(this.scroll),d=e[0].oldValue.replace(cs.CONTENTS,""),m=new ce.default().insert(d),y=new ce.default().insert(a.value()),b=n&&{oldRange:$1(n.oldRange,-f),newRange:$1(n.newRange,-f)};t=new ce.default().retain(f).concat(m.diff(y,b)).reduce((A,E)=>E.insert?A.insert(E.insert,u):A.push(E),new ce.default),this.delta=l.compose(t)}else this.delta=this.getDelta(),(!t||!Cs(l.compose(t),this.delta))&&(t=l.diff(this.delta,n));return t}};function ki(r,t,e){if(r.length===0){let[A]=nh(e.pop());return t<=0?`</li></${A}>`:`</li></${A}>${ki([],t-1,e)}`}let[{child:n,offset:l,length:a,indent:u,type:f},...d]=r,[m,y]=nh(f);if(u>t)return e.push(f),u===t+1?`<${m}><li${y}>${Ro(n,l,a)}${ki(d,u,e)}`:`<${m}><li>${ki(r,t+1,e)}`;let b=e[e.length-1];if(u===t&&f===b)return`</li><li${y}>${Ro(n,l,a)}${ki(d,u,e)}`;let[N]=nh(e.pop());return`</li></${N}>${ki(r,t-1,e)}`}function Ro(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof ve)return Us(r.value().slice(t,t+e));if(r instanceof ur){if(r.statics.blotName==="list-container"){let m=[];return r.children.forEachAt(t,e,(y,b,N)=>{let A="formats"in y&&typeof y.formats=="function"?y.formats():{};m.push({child:y,offset:b,length:N,indent:A.indent||0,type:A.list})}),ki(m,-1,[])}let l=[];if(r.children.forEachAt(t,e,(m,y,b)=>{l.push(Ro(m,y,b))}),n||r.statics.blotName==="list")return l.join("");let{outerHTML:a,innerHTML:u}=r.domNode,[f,d]=a.split(`>${u}<`);return f==="<table"?`<table style="border: 1px solid #000;">${l.join("")}<${d}`:`${f}>${l.join("")}<${d}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function OS(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;let l=t[n];return l===r[n]?e[n]=l:Array.isArray(l)?l.indexOf(r[n])<0?e[n]=l.concat([r[n]]):e[n]=l:e[n]=[l,r[n]],e},{})}function nh(r){let t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function z1(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){let n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new ce.default)}function $1(r,t){let{index:e,length:n}=r;return new rr(e+t,n)}function qS(r){let t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((l,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),l&&t.push({insert:l,attributes:e.attributes})}):t.push(e)}),t}var V1=sh;var ih=class{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}},me=ih;var ma="\uFEFF",oh=class extends ae{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(ma),this.rightGuard=document.createTextNode(ma),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n,l=t.data.split(ma).join("");if(t===this.leftGuard)if(this.prev instanceof ve){let a=this.prev.length();this.prev.insertAt(a,l),e={startNode:this.prev.domNode,startOffset:a+l.length}}else n=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:l.length};else t===this.rightGuard&&(this.next instanceof ve?(this.next.insertAt(0,l),e={startNode:this.next.domNode,startOffset:l.length}):(n=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:l.length}));return t.data=ma,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){let l=this.restore(n.target);l&&(e.range=l)}})}},Ri=oh;var lh=class{isComposing=!1;constructor(t,e){this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){let e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Ri)&&(this.emitter.emit(it.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(it.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(it.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(it.events.COMPOSITION_END,t),this.isComposing=!1}},K1=lh;var ah=class r{static DEFAULTS={modules:{}};static themes={default:r};modules={};constructor(t,e){this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){let e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}},Ii=ah;var CS=r=>r.parentElement||r.getRootNode().host||null,_S=r=>{let t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},ga=r=>{let t=parseInt(r,10);return Number.isNaN(t)?0:t},G1=(r,t,e,n,l,a)=>r<e&&t>n?0:r<e?-(e-r+l):t>n?t-r>n-e?r+l-e:t-n+a:0,kS=(r,t)=>{let e=r.ownerDocument,n=t,l=r;for(;l;){let a=l===e.body,u=a?{top:0,right:window.visualViewport?.width??e.documentElement.clientWidth,bottom:window.visualViewport?.height??e.documentElement.clientHeight,left:0}:_S(l),f=getComputedStyle(l),d=G1(n.left,n.right,u.left,u.right,ga(f.scrollPaddingLeft),ga(f.scrollPaddingRight)),m=G1(n.top,n.bottom,u.top,u.bottom,ga(f.scrollPaddingTop),ga(f.scrollPaddingBottom));if(d||m)if(a)e.defaultView?.scrollBy(d,m);else{let{scrollLeft:y,scrollTop:b}=l;m&&(l.scrollTop+=m),d&&(l.scrollLeft+=d);let N=l.scrollLeft-y,A=l.scrollTop-b;n={left:n.left-N,top:n.top-A,right:n.right-N,bottom:n.bottom-A}}l=a||f.position==="fixed"?null:CS(l)}},W1=kS;var RS=100,IS=["block","break","cursor","inline","scroll","text"],BS=(r,t,e)=>{let n=new is;return IS.forEach(l=>{let a=t.query(l);a&&n.register(a)}),r.forEach(l=>{let a=t.query(l);a||e.error(`Cannot register "${l}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;a;)if(n.register(a),a="blotName"in a?a.requiredContainer??null:null,u+=1,u>RS){e.error(`Cycle detected in registering blot requiredContainer: "${l}"`);break}}),n},Z1=BS;var Bi=xr("quill"),ba=new is;ur.uiClass="ql-ui";var M=class r{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ba,theme:"default"};static events=it.events;static sources=it.sources;static version="2.0.2";static imports={delta:us.default,parchment:xo,"core/module":me,"core/theme":Ii};static debug(t){t===!0&&(t="log"),xr.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ko.get(t)||ba.find(t,e)}static import(t){return this.imports[t]==null&&Bi.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){let t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(l=>{this.register(l,t[l],e)})}else{let t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Bi.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&ba.register(e),typeof e.register=="function"&&e.register(ba)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=jS(t,e),this.container=this.options.container,this.container==null){Bi.error("Invalid Quill container",t);return}this.options.debug&&r.debug(this.options.debug);let n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ko.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new it;let l=vo.blotName,a=this.options.registry.query(l);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${l}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new V1(this.scroll),this.selection=new H1(this.scroll,this.emitter),this.composition=new K1(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(it.events.EDITOR_CHANGE,u=>{u===it.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(it.events.SCROLL_UPDATE,(u,f)=>{let d=this.selection.lastRange,[m]=this.selection.getRange(),y=d&&m?{oldRange:d,newRange:m}:void 0;Wr.call(this,()=>this.editor.update(null,f,y),u)}),this.emitter.on(it.events.SCROLL_EMBED_UPDATE,(u,f)=>{let d=this.selection.lastRange,[m]=this.selection.getRange(),y=d&&m?{oldRange:d,newRange:m}:void 0;Wr.call(this,()=>{let b=new us.default().retain(u.offset(this)).retain({[u.statics.blotName]:f});return this.editor.update(b,[],y)},r.sources.USER)}),n){let u=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){let n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=In(t,e,n),Wr.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;let e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it.sources.API;return Wr.call(this,()=>{let l=this.getSelection(!0),a=new us.default;if(l==null)return a;if(this.scroll.query(t,Q.BLOCK))a=this.editor.formatLine(l.index,l.length,{[t]:e});else{if(l.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(l.index,l.length,{[t]:e})}return this.setSelection(l,it.sources.SILENT),a},n)}formatLine(t,e,n,l,a){let u;return[t,e,u,a]=In(t,e,n,l,a),Wr.call(this,()=>this.editor.formatLine(t,e,u),a,t,0)}formatText(t,e,n,l,a){let u;return[t,e,u,a]=In(t,e,n,l,a),Wr.call(this,()=>this.editor.formatText(t,e,u),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;let l=this.container.getBoundingClientRect();return{bottom:n.bottom-l.top,height:n.height,left:n.left-l.left,right:n.right-l.left,top:n.top-l.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=In(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=In(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=In(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.sources.API;return Wr.call(this,()=>this.editor.insertEmbed(t,e,n),l,t)}insertText(t,e,n,l,a){let u;return[t,,u,a]=In(t,0,n,l,a),Wr.call(this,()=>this.editor.insertText(t,e,u),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=In(t,e,n),Wr.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){W1(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it.sources.API;return Wr.call(this,()=>{t=new us.default(t);let n=this.getLength(),l=this.editor.deleteText(0,n),a=this.editor.insertContents(0,t),u=this.editor.deleteText(this.getLength()-1,1);return l.compose(a).compose(u)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||r.sources.API):([t,e,,n]=In(t,e,n),this.selection.setRange(new rr(Math.max(0,t),e),n),n!==it.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it.sources.API,n=new us.default().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:it.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it.sources.API;return Wr.call(this,()=>(t=new us.default(t),this.editor.applyDelta(t)),e,!0)}};function X1(r){return typeof r=="string"?document.querySelector(r):r}function ch(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,l]=e;return{...t,[n]:l===!0?{}:l}},{})}function J1(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function jS(r,t){let e=X1(r);if(!e)throw new Error("Invalid Quill container");let l=!t.theme||t.theme===M.DEFAULTS.theme?Ii:M.import(`themes/${t.theme}`);if(!l)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);let{modules:a,...u}=M.DEFAULTS,{modules:f,...d}=l.DEFAULTS,m=ch(t.modules);m!=null&&m.toolbar&&m.toolbar.constructor!==Object&&(m={...m,toolbar:{container:m.toolbar}});let y=cr({},ch(a),ch(f),m),b={...u,...J1(d),...J1(t)},N=t.registry;return N?t.formats&&Bi.warn('Ignoring "formats" option because "registry" is specified'):N=t.formats?Z1(t.formats,b.registry,Bi):b.registry,{...b,registry:N,container:e,theme:l,modules:Object.entries(y).reduce((A,E)=>{let[k,x]=E;if(!x)return A;let T=M.import(`modules/${k}`);return T==null?(Bi.error(`Cannot load ${k} module. Are you sure you registered it?`),A):{...A,[k]:cr({},T.DEFAULTS||{},x)}},{}),bounds:X1(b.bounds)}}function Wr(r,t,e,n){if(!this.isEnabled()&&t===it.sources.USER&&!this.allowReadOnlyEdits)return new us.default;let l=e==null?null:this.getSelection(),a=this.editor.delta,u=r();if(l!=null&&(e===!0&&(e=l.index),n==null?l=Q1(l,u,t):n!==0&&(l=Q1(l,e,n,t)),this.setSelection(l,it.sources.SILENT)),u.length()>0){let f=[it.events.TEXT_CHANGE,u,a,t];this.emitter.emit(it.events.EDITOR_CHANGE,...f),t!==it.sources.SILENT&&this.emitter.emit(...f)}return u}function In(r,t,e,n,l){let a={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(l=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(l=n,n=e,e=t,t=0),typeof e=="object"?(a=e,l=n):typeof e=="string"&&(n!=null?a[e]=n:l=e),l=l||it.sources.API,[r,t,a,l]}function Q1(r,t,e,n){let l=typeof e=="number"?e:0;if(r==null)return null;let a,u;return t&&typeof t.transformPosition=="function"?[a,u]=[r.index,r.index+r.length].map(f=>t.transformPosition(f,n!==it.sources.USER)):[a,u]=[r.index,r.index+r.length].map(f=>f<t||f===t&&n===it.sources.USER?f:l>=0?f+l:Math.max(t,f+l)),new rr(a,u-a)}var uh=class extends wi{},Cr=uh;var _r=lr(vr(),1);function Y1(r){return r instanceof $t||r instanceof qe}function t0(r){return typeof r.updateContent=="function"}var fh=class extends vo{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=$t;static allowedChildren=[$t,qe,Cr];constructor(t,e,n){let{emitter:l}=n;super(t,e),this.emitter=l,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(it.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(it.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(it.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){let[n,l]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&n!==a&&l>0){if(n instanceof qe||a instanceof qe){this.optimize();return}let u=a.children.head instanceof $e?null:a.children.head;n.moveChildren(a,u),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,l){super.formatAt(t,e,n,l),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,Q.BLOCK)==null){let l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l),n==null&&e.endsWith(`
`)?l.insertAt(0,e.slice(0,-1),n):l.insertAt(0,e,n)}else{let l=this.scroll.create(e,n);this.appendChild(l)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===Q.INLINE_BLOT){let n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){let n=this.deltaToRenderBlocks(e.concat(new _r.default().insert(`
`))),l=n.pop();if(l==null)return;this.batchStart();let a=n.shift();if(a){let d=a.type==="block"&&(a.delta.length()===0||!this.descendant(qe,t)[0]&&t<this.length()),m=a.type==="block"?a.delta:new _r.default().insert({[a.key]:a.value});hh(this,t,m);let y=a.type==="block"?1:0,b=t+m.length()+y;d&&this.insertAt(b-1,`
`);let N=fr(this.line(t)[0]),A=_r.AttributeMap.diff(N,a.attributes)||{};Object.keys(A).forEach(E=>{this.formatAt(b-1,1,E,A[E])}),t=b}let[u,f]=this.children.find(t);if(n.length&&(u&&(u=u.split(f),f=0),n.forEach(d=>{if(d.type==="block"){let m=this.createBlock(d.attributes,u||void 0);hh(m,0,d.delta)}else{let m=this.create(d.key,d.value);this.insertBefore(m,u||void 0),Object.keys(d.attributes).forEach(y=>{m.format(y,d.attributes[y])})}})),l.type==="block"&&l.delta.length()){let d=u?u.offset(u.scroll)+f:this.length();hh(this,d,l.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){let e=this.path(t).pop();if(!e)return[null,-1];let[n,l]=e;return n instanceof Ne?[n,l]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Y1,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=(l,a,u)=>{let f=[],d=u;return l.children.forEachAt(a,u,(m,y,b)=>{Y1(m)?f.push(m):m instanceof wi&&(f=f.concat(n(m,y,d))),d-=b}),f};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(it.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=it.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:l}=n,a=this.find(l,!0);return a&&!t0(a)}),t.length>0&&this.emitter.emit(it.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(it.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){let[l]=this.descendant(a=>a instanceof qe,t);l&&l.statics.blotName===e&&t0(l)&&l.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){let e=[],n=new _r.default;return t.forEach(l=>{let a=l?.insert;if(a)if(typeof a=="string"){let u=a.split(`
`);u.slice(0,-1).forEach(d=>{n.insert(d,l.attributes),e.push({type:"block",delta:n,attributes:l.attributes??{}}),n=new _r.default});let f=u[u.length-1];f&&n.insert(f,l.attributes)}else{let u=Object.keys(a)[0];if(!u)return;this.query(u,Q.INLINE)?n.push(l):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new _r.default,e.push({type:"blockEmbed",key:u,value:a[u],attributes:l.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n,l={};Object.entries(t).forEach(f=>{let[d,m]=f;this.query(d,Q.BLOCK&Q.BLOT)!=null?n=d:l[d]=m});let a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);let u=a.length();return Object.entries(l).forEach(f=>{let[d,m]=f;a.formatAt(0,u,d,m)}),a}};function hh(r,t,e){e.reduce((n,l)=>{let a=_r.Op.length(l),u=l.attributes||{};if(l.insert!=null){if(typeof l.insert=="string"){let f=l.insert;r.insertAt(n,f);let[d]=r.descendant(Ne,n),m=fr(d);u=_r.AttributeMap.diff(m,u)||{}}else if(typeof l.insert=="object"){let f=Object.keys(l.insert)[0];if(f==null)return n;if(r.insertAt(n,f,l.insert[f]),r.scroll.query(f,Q.INLINE)!=null){let[m]=r.descendant(Ne,n),y=fr(m);u=_r.AttributeMap.diff(y,u)||{}}}}return Object.keys(u).forEach(f=>{r.formatAt(n,a,f,u[f])}),n+a},t)}var e0=fh;var dr=lr(vr(),1);var dh={scope:Q.BLOCK,whitelist:["right","center","justify"]},r0=new Ye("align","align",dh),ph=new we("align","ql-align",dh),ya=new hr("align","text-align",dh);var Io=class extends hr{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):e}},n0=new we("color","ql-color",{scope:Q.INLINE}),Bo=new Io("color","color",{scope:Q.INLINE});var s0=new we("background","ql-bg",{scope:Q.INLINE}),jo=new Io("background","background-color",{scope:Q.INLINE});var un=class extends Cr{static create(t){let e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${Us(this.code(t,e))}
</pre>`}},Te=class extends $t{static TAB="  ";static register(){M.register(un)}},ji=class extends Ve{};ji.blotName="code";ji.tagName="CODE";Te.blotName="code-block";Te.className="ql-code-block";Te.tagName="DIV";un.blotName="code-block-container";un.className="ql-code-block-container";un.tagName="DIV";un.allowedChildren=[Te];Te.allowedChildren=[ve,$e,cs];Te.requiredContainer=un;var mh={scope:Q.BLOCK,whitelist:["rtl"]},va=new Ye("direction","dir",mh),gh=new we("direction","ql-direction",mh),xa=new hr("direction","direction",mh);var i0={scope:Q.INLINE,whitelist:["serif","monospace"]},yh=new we("font","ql-font",i0),bh=class extends hr{value(t){return super.value(t).replace(/["']/g,"")}},Ea=new bh("font","font-family",i0);var vh=new we("size","ql-size",{scope:Q.INLINE,whitelist:["small","large","huge"]}),Aa=new hr("size","font-size",{scope:Q.INLINE,whitelist:["10px","18px","32px"]});var Ge=lr(vr(),1);var MS=xr("quill:keyboard"),DS=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Mo=class r extends me{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=US(t);if(l==null){MS.warn("Attempted to add invalid keyboard binding",l);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(l.key)?l.key:[l.key]).forEach(u=>{let f={...l,key:u,...e,...n};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;let l=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(T=>r.match(t,T));if(l.length===0)return;let a=M.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;let u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;let[f,d]=this.quill.getLine(u.index),[m,y]=this.quill.getLeaf(u.index),[b,N]=u.length===0?[m,y]:this.quill.getLeaf(u.index+u.length),A=m instanceof Ni?m.value().slice(0,y):"",E=b instanceof Ni?b.value().slice(N):"",k={collapsed:u.length===0,empty:u.length===0&&f.length()<=1,format:this.quill.getFormat(u),line:f,offset:d,prefix:A,suffix:E,event:t};l.some(T=>{if(T.collapsed!=null&&T.collapsed!==k.collapsed||T.empty!=null&&T.empty!==k.empty||T.offset!=null&&T.offset!==k.offset)return!1;if(Array.isArray(T.format)){if(T.format.every(C=>k.format[C]==null))return!1}else if(typeof T.format=="object"&&!Object.keys(T.format).every(C=>T.format[C]===!0?k.format[C]!=null:T.format[C]===!1?k.format[C]==null:Cs(T.format[C],k.format[C])))return!1;return T.prefix!=null&&!T.prefix.test(k.prefix)||T.suffix!=null&&!T.suffix.test(k.suffix)?!1:T.handler.call(this,u,k,T)!==!0})&&t.preventDefault()})}handleBackspace(t,e){let n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let l={},[a]=this.quill.getLine(t.index),u=new Ge.default().retain(t.index-n).delete(n);if(e.offset===0){let[f]=this.quill.getLine(t.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){let m=a.formats(),y=this.quill.getFormat(t.index-1,1);if(l=Ge.AttributeMap.diff(m,y)||{},Object.keys(l).length>0){let b=new Ge.default().retain(t.index+a.length()-2).retain(1,l);u=u.compose(b)}}}this.quill.updateContents(u,M.sources.USER),this.quill.focus()}handleDelete(t,e){let n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let l={},[a]=this.quill.getLine(t.index),u=new Ge.default().retain(t.index).delete(n);if(e.offset>=a.length()-1){let[f]=this.quill.getLine(t.index+1);if(f){let d=a.formats(),m=this.quill.getFormat(t.index,1);l=Ge.AttributeMap.diff(d,m)||{},Object.keys(l).length>0&&(u=u.retain(f.length()-1).retain(1,l))}}this.quill.updateContents(u,M.sources.USER),this.quill.focus()}handleDeleteRange(t){Do({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){let n=Object.keys(e.format).reduce((a,u)=>(this.quill.scroll.query(u,Q.BLOCK)&&!Array.isArray(e.format[u])&&(a[u]=e.format[u]),a),{}),l=new Ge.default().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(l,M.sources.USER),this.quill.setSelection(t.index+1,M.sources.SILENT),this.quill.focus()}},PS={bindings:{bold:xh("bold"),italic:xh("italic"),underline:xh("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",M.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",M.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",M.sources.USER):t.format.list!=null&&this.quill.format("list",!1,M.sources.USER)}},"indent code-block":o0(!0),"outdent code-block":o0(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,M.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();let e=new Ge.default().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,M.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,M.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,M.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){let e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,M.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){let[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},l=new Ge.default().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,M.sources.USER),this.quill.setSelection(r.index+1,M.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){let[e,n]=this.quill.getLine(r.index),l=new Ge.default().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(l,M.sources.USER),this.quill.setSelection(r.index+1,M.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){let t=this.quill.getModule("table");if(t){let[e,n,l,a]=t.getTable(r),u=FS(e,n,l,a);if(u==null)return;let f=e.offset();if(u<0){let d=new Ge.default().retain(f).insert(`
`);this.quill.updateContents(d,M.sources.USER),this.quill.setSelection(r.index+1,r.length,M.sources.SILENT)}else if(u>0){f+=e.length();let d=new Ge.default().retain(f).insert(`
`);this.quill.updateContents(d,M.sources.USER),this.quill.setSelection(f,M.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){let{event:e,line:n}=t,l=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(l-1,M.sources.USER):this.quill.setSelection(l+n.length(),M.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;let{length:e}=t.prefix,[n,l]=this.quill.getLine(r.index);if(l>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(r.index," ",M.sources.USER),this.quill.history.cutoff();let u=new Ge.default().retain(r.index-l).delete(e+1).retain(n.length()-2-l).retain(1,{list:a});return this.quill.updateContents(u,M.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,M.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){let[t,e]=this.quill.getLine(r.index),n=2,l=t;for(;l!=null&&l.length()<=1&&l.formats()["code-block"];)if(l=l.prev,n-=1,n<=0){let a=new Ge.default().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,M.sources.USER),this.quill.setSelection(r.index-1,M.sources.SILENT),!1}return!0}},"embed left":wa("ArrowLeft",!1),"embed left shift":wa("ArrowLeft",!0),"embed right":wa("ArrowRight",!1),"embed right shift":wa("ArrowRight",!0),"table down":l0(!1),"table up":l0(!0)}};Mo.DEFAULTS=PS;function o0(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e,l=this.quill.scroll.query("code-block"),{TAB:a}=l;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,a,M.sources.USER),this.quill.setSelection(t.index+a.length,M.sources.SILENT);return}let u=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t),{index:f,length:d}=t;u.forEach((m,y)=>{r?(m.insertAt(0,a),y===0?f+=a.length:d+=a.length):m.domNode.textContent.startsWith(a)&&(m.deleteAt(0,a.length),y===0?f-=a.length:d-=a.length)}),this.quill.update(M.sources.USER),this.quill.setSelection(f,d,M.sources.SILENT)}}}function wa(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:l}=n;r==="ArrowRight"&&(l+=n.length+1);let[a]=this.quill.getLeaf(l);return a instanceof ae?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,M.sources.USER):this.quill.setSelection(n.index-1,M.sources.USER):t?this.quill.setSelection(n.index,n.length+1,M.sources.USER):this.quill.setSelection(n.index+n.length+1,M.sources.USER),!1):!0}}}function xh(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],M.sources.USER)}}}function l0(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){let n=r?"prev":"next",l=e.line,a=l.parent[n];if(a!=null){if(a.statics.blotName==="table-row"){let u=a.children.head,f=l;for(;f.prev!=null;)f=f.prev,u=u.next;let d=u.offset(this.quill.scroll)+Math.min(e.offset,u.length()-1);this.quill.setSelection(d,0,M.sources.USER)}}else{let u=l.table()[n];u!=null&&(r?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,M.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,M.sources.USER))}return!1}}}function US(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=an(r);else return null;return r.shortKey&&(r[DS]=r.shortKey,delete r.shortKey),r}function Do(r){let{quill:t,range:e}=r,n=t.getLines(e),l={};if(n.length>1){let a=n[0].formats(),u=n[n.length-1].formats();l=Ge.AttributeMap.diff(u,a)||{}}t.deleteText(e,M.sources.USER),Object.keys(l).length>0&&t.formatLine(e.index,1,l,M.sources.USER),t.setSelection(e.index,M.sources.SILENT)}function FS(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}var HS=/font-weight:\s*normal/,zS=["P","OL","UL"],a0=r=>r&&zS.includes(r.tagName),$S=r=>{Array.from(r.querySelectorAll("br")).filter(t=>a0(t.previousElementSibling)&&a0(t.nextElementSibling)).forEach(t=>{t.parentNode?.removeChild(t)})},VS=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>t.getAttribute("style")?.match(HS)).forEach(t=>{let e=r.createDocumentFragment();e.append(...t.childNodes),t.parentNode?.replaceChild(e,t)})};function Eh(r){r.querySelector('[id^="docs-internal-guid-"]')&&(VS(r),$S(r))}var KS=/\bmso-list:[^;]*ignore/i,GS=/\bmso-list:[^;]*\bl(\d+)/i,WS=/\bmso-list:[^;]*\blevel(\d+)/i,ZS=(r,t)=>{let e=r.getAttribute("style"),n=e?.match(GS);if(!n)return null;let l=Number(n[1]),a=e?.match(WS),u=a?Number(a[1]):1,f=new RegExp(`@list l${l}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=t.match(f),m=d&&d[1]==="bullet"?"bullet":"ordered";return{id:l,indent:u,type:m,element:r}},XS=r=>{let t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(u=>{(u.getAttribute("style")||"").match(KS)?e.push(u):n.push(u)}),e.forEach(u=>u.parentNode?.removeChild(u));let l=r.documentElement.innerHTML,a=n.map(u=>ZS(u,l)).filter(u=>u);for(;a.length;){let u=[],f=a.shift();for(;f;)u.push(f),f=a.length&&a[0]?.element===f.element.nextElementSibling&&a[0].id===f.id?a.shift():null;let d=document.createElement("ul");u.forEach(b=>{let N=document.createElement("li");N.setAttribute("data-list",b.type),b.indent>1&&N.setAttribute("class",`ql-indent-${b.indent-1}`),N.innerHTML=b.element.innerHTML,d.appendChild(N)});let m=u[0]?.element,{parentNode:y}=m??{};m&&y?.replaceChild(d,m),u.slice(1).forEach(b=>{let{element:N}=b;y?.removeChild(N)})}};function Ah(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&XS(r)}var JS=[Ah,Eh],QS=r=>{r.documentElement&&JS.forEach(t=>{t(r)})},c0=QS;var YS=xr("quill:clipboard"),tL=[[Node.TEXT_NODE,fL],[Node.TEXT_NODE,h0],["br",iL],[Node.ELEMENT_NODE,h0],[Node.ELEMENT_NODE,sL],[Node.ELEMENT_NODE,nL],[Node.ELEMENT_NODE,uL],["li",aL],["ol, ul",cL],["pre",oL],["tr",hL],["b",wh("bold")],["i",wh("italic")],["strike",wh("strike")],["style",lL]],eL=[r0,va].reduce((r,t)=>(r[t.keyName]=t,r),{}),u0=[ya,jo,Bo,xa,Ea,Aa].reduce((r,t)=>(r[t.keyName]=t,r),{}),Ta=class extends me{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],tL.concat(this.options.matchers??[]).forEach(n=>{let[l,a]=n;this.addMatcher(l,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l[Te.blotName])return new dr.default().insert(n||"",{[Te.blotName]:l[Te.blotName]});if(!e)return new dr.default().insert(n||"",l);let a=this.convertHTML(e);return Po(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||l.table)?a.compose(new dr.default().retain(a.length()-1).delete(1)):a}normalizeHTML(t){c0(t)}convertHTML(t){let e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);let n=e.body,l=new WeakMap,[a,u]=this.prepareMatching(n,l);return Sa(this.quill.scroll,n,a,u,l)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;if(typeof t=="string"){let l=this.convert({html:t,text:""});this.quill.setContents(l,e),this.quill.setSelection(0,M.sources.SILENT)}else{let l=this.convert({html:e,text:""});this.quill.updateContents(new dr.default().retain(t).concat(l),n),this.quill.setSelection(t+l.length(),M.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();let[n]=this.quill.selection.getRange();if(n==null)return;let{html:l,text:a}=this.onCopy(n,e);t.clipboardData?.setData("text/plain",a),t.clipboardData?.setData("text/html",l),e&&Do({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();let e=this.quill.getSelection(!0);if(e==null)return;let n=t.clipboardData?.getData("text/html"),l=t.clipboardData?.getData("text/plain");if(!n&&!l){let u=t.clipboardData?.getData("text/uri-list");u&&(l=this.normalizeURIList(u))}let a=Array.from(t.clipboardData?.files||[]);if(!n&&a.length>0){this.quill.uploader.upload(e,a);return}if(n&&a.length>0){let u=new DOMParser().parseFromString(n,"text/html");if(u.body.childElementCount===1&&u.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:n,text:l})}onCopy(t){let e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:l}=e,a=this.quill.getFormat(t.index),u=this.convert({text:n,html:l},a);YS.log("onPaste",u,{text:n,html:l});let f=new dr.default().retain(t.index).delete(t.length).concat(u);this.quill.updateContents(f,M.sources.USER),this.quill.setSelection(f.length()-t.length,M.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){let n=[],l=[];return this.matchers.forEach(a=>{let[u,f]=a;switch(u){case Node.TEXT_NODE:l.push(f);break;case Node.ELEMENT_NODE:n.push(f);break;default:Array.from(t.querySelectorAll(u)).forEach(d=>{e.has(d)?e.get(d)?.push(f):e.set(d,[f])});break}}),[n,l]}};function Fs(r,t,e,n){return n.query(t)?r.reduce((l,a)=>{if(!a.insert)return l;if(a.attributes&&a.attributes[t])return l.push(a);let u=e?{[t]:e}:{};return l.insert(a.insert,{...u,...a.attributes})},new dr.default):r}function Po(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){let l=r.ops[n];if(typeof l.insert!="string")break;e=l.insert+e}return e.slice(-1*t.length)===t}function hs(r,t){if(!(r instanceof Element))return!1;let e=t.query(r);return e&&e.prototype instanceof ae?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function rL(r,t){return r.previousElementSibling&&r.nextElementSibling&&!hs(r.previousElementSibling,t)&&!hs(r.nextElementSibling,t)}var Na=new WeakMap;function f0(r){return r==null?!1:(Na.has(r)||(r.tagName==="PRE"?Na.set(r,!0):Na.set(r,f0(r.parentNode))),Na.get(r))}function Sa(r,t,e,n,l){return t.nodeType===t.TEXT_NODE?n.reduce((a,u)=>u(t,a,r),new dr.default):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,u)=>{let f=Sa(r,u,e,n,l);return u.nodeType===t.ELEMENT_NODE&&(f=e.reduce((d,m)=>m(u,d,r),f),f=(l.get(u)||[]).reduce((d,m)=>m(u,d,r),f)),a.concat(f)},new dr.default):new dr.default}function wh(r){return(t,e,n)=>Fs(e,r,!0,n)}function nL(r,t,e){let n=Ye.keys(r),l=we.keys(r),a=hr.keys(r),u={};return n.concat(l).concat(a).forEach(f=>{let d=e.query(f,Q.ATTRIBUTE);d!=null&&(u[d.attrName]=d.value(r),u[d.attrName])||(d=eL[f],d!=null&&(d.attrName===f||d.keyName===f)&&(u[d.attrName]=d.value(r)||void 0),d=u0[f],d!=null&&(d.attrName===f||d.keyName===f)&&(d=u0[f],u[d.attrName]=d.value(r)||void 0))}),Object.entries(u).reduce((f,d)=>{let[m,y]=d;return Fs(f,m,y,e)},t)}function sL(r,t,e){let n=e.query(r);if(n==null)return t;if(n.prototype instanceof ae){let l={},a=n.value(r);if(a!=null)return l[n.blotName]=a,new dr.default().insert(l,n.formats(r,e))}else if(n.prototype instanceof _s&&!Po(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Fs(t,n.blotName,n.formats(r,e),e);return t}function iL(r,t){return Po(t,`
`)||t.insert(`
`),t}function oL(r,t,e){let n=e.query("code-block"),l=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return Fs(t,"code-block",l,e)}function lL(){return new dr.default}function aL(r,t,e){let n=e.query(r);if(n==null||n.blotName!=="list"||!Po(t,`
`))return t;let l=-1,a=r.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(l+=1),a=a.parentNode;return l<=0?t:t.reduce((u,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?u.push(f):u.insert(f.insert,{indent:l,...f.attributes||{}}):u,new dr.default)}function cL(r,t,e){let n=r,l=n.tagName==="OL"?"ordered":"bullet",a=n.getAttribute("data-checked");return a&&(l=a==="true"?"checked":"unchecked"),Fs(t,"list",l,e)}function h0(r,t,e){if(!Po(t,`
`)){if(hs(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(hs(n,e))return t.insert(`
`);let l=e.query(n);if(l&&l.prototype instanceof qe)return t.insert(`
`);n=n.firstChild}}}return t}function uL(r,t,e){let n={},l=r.style||{};return l.fontStyle==="italic"&&(n.italic=!0),l.textDecoration==="underline"&&(n.underline=!0),l.textDecoration==="line-through"&&(n.strike=!0),(l.fontWeight?.startsWith("bold")||parseInt(l.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((a,u)=>{let[f,d]=u;return Fs(a,f,d,e)},t),parseFloat(l.textIndent||0)>0?new dr.default().insert("	").concat(t):t}function hL(r,t,e){let n=r.parentElement?.tagName==="TABLE"?r.parentElement:r.parentElement?.parentElement;if(n!=null){let a=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return Fs(t,"table",a,e)}return t}function fL(r,t,e){let n=r.data;if(r.parentElement?.tagName==="O:P")return t.insert(n.trim());if(!f0(r)){if(n.trim().length===0&&n.includes(`
`)&&!rL(r,e))return t;let l=(a,u)=>{let f=u.replace(/[^\u00a0]/g,"");return f.length<1&&a?" ":f};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,l.bind(l,!0)),(r.previousSibling==null&&r.parentElement!=null&&hs(r.parentElement,e)||r.previousSibling instanceof Element&&hs(r.previousSibling,e))&&(n=n.replace(/^\s+/,l.bind(l,!1))),(r.nextSibling==null&&r.parentElement!=null&&hs(r.parentElement,e)||r.nextSibling instanceof Element&&hs(r.nextSibling,e))&&(n=n.replace(/\s+$/,l.bind(l,!1)))}return t.insert(n)}var La=class extends me{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e),this.quill.on(M.events.EDITOR_CHANGE,(n,l,a,u)=>{n===M.events.SELECTION_CHANGE?l&&u!==M.sources.SILENT&&(this.currentRange=l):n===M.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===M.sources.USER?this.record(l,a):this.transform(l)),this.currentRange=Nh(this.currentRange,l))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",n=>{n.inputType==="historyUndo"?(this.undo(),n.preventDefault()):n.inputType==="historyRedo"&&(this.redo(),n.preventDefault())})}change(t,e){if(this.stack[t].length===0)return;let n=this.stack[t].pop();if(!n)return;let l=this.quill.getContents(),a=n.delta.invert(l);this.stack[e].push({delta:a,range:Nh(n.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,M.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let n=t.invert(e),l=this.currentRange,a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){let u=this.stack.undo.pop();u&&(n=n.compose(u.delta),l=u.range)}else this.lastRecorded=a;n.length()!==0&&(this.stack.undo.push({delta:n,range:l}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){d0(this.stack.undo,t),d0(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,M.sources.USER);else{let e=pL(this.quill.scroll,t.delta);this.quill.setSelection(e,M.sources.USER)}}};function d0(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){let l=r[n];r[n]={delta:e.transform(l.delta,!0),range:l.range&&Nh(l.range,e)},e=l.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function dL(r,t){let e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,Q.BLOCK)!=null):!1}function pL(r,t){let e=t.reduce((l,a)=>l+(a.delete||0),0),n=t.length()-e;return dL(r,t)&&(n-=1),n}function Nh(r,t){if(!r)return r;let e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}var p0=lr(vr(),1);var Oa=class extends me{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{n.preventDefault();let l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){let u=document.caretPositionFromPoint(n.clientX,n.clientY);l=document.createRange(),l.setStart(u.offsetNode,u.offset),l.setEnd(u.offsetNode,u.offset)}let a=l&&t.selection.normalizeNative(l);if(a){let u=t.selection.normalizedToRange(a);n.dataTransfer?.files&&this.upload(u,n.dataTransfer.files)}})}upload(t,e){let n=[];Array.from(e).forEach(l=>{l&&this.options.mimetypes?.includes(l.type)&&n.push(l)}),n.length>0&&this.options.handler.call(this,t,n)}};Oa.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;let e=t.map(n=>new Promise(l=>{let a=new FileReader;a.onload=()=>{l(a.result)},a.readAsDataURL(n)}));Promise.all(e).then(n=>{let l=n.reduce((a,u)=>a.insert({image:u}),new p0.default().retain(r.index).delete(r.length));this.quill.updateContents(l,it.sources.USER),this.quill.setSelection(r.index+n.length,it.sources.SILENT)})}};var m0=Oa;var qa=lr(vr(),1);var g0=lr(vr(),1);var mL=["insertText","insertReplacementText"],Th=class extends me{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(M.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Do({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){let n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new g0.default().retain(t.index).insert(e,n),M.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,M.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!mL.includes(t.inputType))return;let e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;let n=gL(t);if(n==null)return;let l=this.quill.selection.normalizeNative(e),a=l?this.quill.selection.normalizedToRange(l):null;a&&this.replaceText(a,n)&&t.preventDefault()}handleCompositionStart(){let t=this.quill.getSelection();t&&this.replaceText(t)}};function gL(r){return typeof r.data=="string"?r.data:r.dataTransfer?.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}var b0=Th;var bL=/Mac/i.test(navigator.platform),yL=100,vL=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||bL&&r.key==="a"&&r.ctrlKey===!0),Sh=class extends me{isListening=!1;selectionChangeDeadline=0;constructor(t,e){super(t,e),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:n,event:l}=e;if(!(n instanceof ur)||!n.uiNode)return!0;let a=getComputedStyle(n.domNode).direction==="rtl";return a&&l.key!=="ArrowRight"||!a&&l.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(l.shiftKey?1:0),M.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&vL(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+yL,this.isListening)return;this.isListening=!0;let t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){let t=document.getSelection();if(!t)return;let e=t.getRangeAt(0);if(e.collapsed!==!0||e.startOffset!==0)return;let n=this.quill.scroll.find(e.startContainer);if(!(n instanceof ur)||!n.uiNode)return;let l=document.createRange();l.setStartAfter(n.uiNode),l.setEndAfter(n.uiNode),t.removeAllRanges(),t.addRange(l)}},y0=Sh;M.register({"blots/block":$t,"blots/block/embed":qe,"blots/break":$e,"blots/container":Cr,"blots/cursor":cs,"blots/embed":Ri,"blots/inline":Ve,"blots/scroll":e0,"blots/text":ve,"modules/clipboard":Ta,"modules/history":La,"modules/keyboard":Mo,"modules/uploader":m0,"modules/input":b0,"modules/uiNode":y0});var Ca=M;var Lh=class extends we{add(t,e){let n=0;if(e==="+1"||e==="-1"){let l=this.value(t)||0;n=e==="+1"?l+1:l-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}},xL=new Lh("indent","ql-indent",{scope:Q.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),v0=xL;var Oh=class extends $t{static blotName="blockquote";static tagName="blockquote"},x0=Oh;var qh=class extends $t{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}},E0=qh;var Hs=class extends Cr{};Hs.blotName="list-container";Hs.tagName="OL";var fs=class extends $t{static create(t){let e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){M.register(Hs)}constructor(t,e){super(t,e);let n=e.ownerDocument.createElement("span"),l=a=>{if(!t.isEnabled())return;let u=this.statics.formats(e,t);u==="checked"?(this.format("list","unchecked"),a.preventDefault()):u==="unchecked"&&(this.format("list","checked"),a.preventDefault())};n.addEventListener("mousedown",l),n.addEventListener("touchstart",l),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}};fs.blotName="list";fs.tagName="LI";Hs.allowedChildren=[fs];fs.requiredContainer=Hs;var Ch=class extends Ve{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},Mi=Ch;var _h=class extends Mi{static blotName="italic";static tagName=["EM","I"]},A0=_h;var Bn=class extends Ve{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){let e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return kh(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}};function kh(r,t){let e=document.createElement("a");e.href=r;let n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}var Rh=class extends Ve{static blotName="script";static tagName=["SUB","SUP"];static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}},w0=Rh;var Ih=class extends Mi{static blotName="strike";static tagName=["S","STRIKE"]},N0=Ih;var Bh=class extends Ve{static blotName="underline";static tagName="U"},T0=Bh;var jh=class extends Ri{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");let e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){let{formula:t}=this.value();return`<span>${t}</span>`}},S0=jh;var L0=["alt","height","width"],Mh=class extends ae{static blotName="image";static tagName="IMG";static create(t){let e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return L0.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return kh(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){L0.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}},O0=Mh;var q0=["height","width"],Dh=class extends qe{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){let e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return q0.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Bn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){q0.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){let{video:t}=this.value();return`<a href="${t}">${t}</a>`}},C0=Dh;var _a=lr(vr(),1);var Uo=new we("code-token","hljs",{scope:Q.INLINE}),jn=class r extends Ve{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Te.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),Uo.add(this.domNode,n)}format(t,e){t!==r.blotName?super.format(t,e):e?Uo.add(this.domNode,e):(Uo.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Uo.value(this.domNode)||this.unwrap()}};jn.blotName="code-token";jn.className="ql-token";var pr=class extends Te{static create(t){let e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),jn.blotName,!1),super.replaceWith(t,e)}},zs=class extends un{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===pr.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,l){n===pr.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,l)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;let l=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,a=pr.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==l){if(l.trim().length>0||this.cachedText==null){let u=this.children.reduce((d,m)=>d.concat(Vu(m,!1)),new _a.default),f=t(l,a);u.diff(f).reduce((d,m)=>{let{retain:y,attributes:b}=m;return y?(b&&Object.keys(b).forEach(N=>{[pr.blotName,jn.blotName].includes(N)&&this.formatAt(d,y,N,b[N])}),d+y):d},0)}this.cachedText=l,this.forceNext=!1}}html(t,e){let[n]=this.children.find(t);return`<pre data-language="${n?pr.formats(n.domNode):"plain"}">
${Us(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){let e=pr.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}};zs.allowedChildren=[pr];pr.requiredContainer=zs;pr.allowedChildren=[jn,cs,ve,$e];var EL=(r,t,e)=>{if(typeof r.versionString=="string"){let n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value},Fo=class extends me{static register(){M.register(jn,!0),M.register(pr,!0),M.register(zs,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,l)=>{let{key:a}=l;return n[a]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(M.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof zs))return;let e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:l,label:a}=n,u=e.ownerDocument.createElement("option");u.textContent=a,u.setAttribute("value",l),e.appendChild(u)}),e.addEventListener("change",()=>{t.format(pr.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=pr.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(M.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(M.sources.USER);let n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(zs):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(M.sources.SILENT),n!=null&&this.quill.setSelection(n,M.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return Us(t).split(`
`).reduce((l,a,u)=>(u!==0&&l.insert(`
`,{[Te.blotName]:e}),l.insert(a)),new _a.default);let n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Te.className),n.innerHTML=EL(this.options.hljs,e,t),Sa(this.quill.scroll,n,[(l,a)=>{let u=Uo.value(l);return u?a.compose(new _a.default().retain(a.length(),{[jn.blotName]:u})):a}],[(l,a)=>l.data.split(`
`).reduce((u,f,d)=>(d!==0&&u.insert(`
`,{[Te.blotName]:e}),u.insert(f)),a)],new WeakMap)}};Fo.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var _0=lr(vr(),1);var kr=class r extends $t{static blotName="table";static tagName="TD";static create(t){let e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",ka()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===r.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}},hn=class extends Cr{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),l=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===l.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;let n=e.formats(),l=e.next.formats();if(n.table!==l.table){let a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}},Zr=class extends Cr{static blotName="table-body";static tagName="TBODY"},$s=class extends Cr{static blotName="table-container";static tagName="TABLE";balanceCells(){let t=this.descendants(hn),e=t.reduce((n,l)=>Math.max(l.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let l;n.children.head!=null&&(l=kr.formats(n.children.head.domNode));let a=this.scroll.create(kr.blotName,l);n.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){let[e]=this.descendant(Zr);e==null||e.children.head==null||e.children.forEach(n=>{let l=n.children.at(t);l?.remove()})}insertColumn(t){let[e]=this.descendant(Zr);e==null||e.children.head==null||e.children.forEach(n=>{let l=n.children.at(t),a=kr.formats(n.children.head.domNode),u=this.scroll.create(kr.blotName,a);n.insertBefore(u,l)})}insertRow(t){let[e]=this.descendant(Zr);if(e==null||e.children.head==null)return;let n=ka(),l=this.scroll.create(hn.blotName);e.children.head.children.forEach(()=>{let u=this.scroll.create(kr.blotName,n);l.appendChild(u)});let a=e.children.at(t);e.insertBefore(l,a)}rows(){let t=this.children.head;return t==null?[]:t.children.map(e=>e)}};$s.allowedChildren=[Zr];Zr.requiredContainer=$s;Zr.allowedChildren=[hn];hn.requiredContainer=Zr;hn.allowedChildren=[kr];kr.requiredContainer=hn;function ka(){return`row-${Math.random().toString(36).slice(2,6)}`}var Ph=class extends me{static register(){M.register(kr),M.register(hn),M.register(Zr),M.register($s)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($s).forEach(t=>{t.balanceCells()})}deleteColumn(){let[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(M.sources.USER))}deleteRow(){let[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(M.sources.USER))}deleteTable(){let[t]=this.getTable();if(t==null)return;let e=t.offset();t.remove(),this.quill.update(M.sources.USER),this.quill.setSelection(e,M.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];let[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==kr.blotName)return[null,null,null,-1];let l=e.parent;return[l.parent.parent,l,e,n]}insertColumn(t){let e=this.quill.getSelection();if(!e)return;let[n,l,a]=this.getTable(e);if(a==null)return;let u=a.cellOffset();n.insertColumn(u+t),this.quill.update(M.sources.USER);let f=l.rowOffset();t===0&&(f+=1),this.quill.setSelection(e.index+f,e.length,M.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){let e=this.quill.getSelection();if(!e)return;let[n,l,a]=this.getTable(e);if(a==null)return;let u=l.rowOffset();n.insertRow(u+t),this.quill.update(M.sources.USER),t>0?this.quill.setSelection(e,M.sources.SILENT):this.quill.setSelection(e.index+l.children.length,e.length,M.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){let n=this.quill.getSelection();if(n==null)return;let l=new Array(t).fill(0).reduce(a=>{let u=new Array(e).fill(`
`).join("");return a.insert(u,{table:ka()})},new _0.default().retain(n.index));this.quill.updateContents(l,M.sources.USER),this.quill.setSelection(n.index,M.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(M.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(M.events.TEXT_CHANGE,(n,l,a)=>{a===M.sources.USER&&this.balanceTables()}),!0):!1)})}},k0=Ph;var B0=lr(vr(),1);var R0=xr("quill:toolbar"),Di=class extends me{constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){let n=document.createElement("div");n.setAttribute("role","toolbar"),AL(n,this.options.container),t.container?.parentNode?.insertBefore(n,t.container),this.container=n}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){R0.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(n=>{let l=this.options.handlers?.[n];l&&this.addHandler(n,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(n=>{this.attach(n)}),this.quill.on(M.events.EDITOR_CHANGE,()=>{let[n]=this.quill.selection.getRange();this.update(n)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(l=>l.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){R0.warn("ignoring attaching to nonexistent format",e,t);return}let n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,l=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;let f=t.options[t.selectedIndex];f.hasAttribute("selected")?a=!1:a=f.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),l.preventDefault();this.quill.focus();let[u]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof ae){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new B0.default().retain(u.index).delete(u.length).insert({[e]:a}),M.sources.USER)}else this.quill.format(e,a,M.sources.USER);this.update(u)}),this.controls.push([e,t])}update(t){let e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{let[l,a]=n;if(a.tagName==="SELECT"){let u=null;if(t==null)u=null;else if(e[l]==null)u=a.querySelector("option[selected]");else if(!Array.isArray(e[l])){let f=e[l];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),u=a.querySelector(`option[value="${f}"]`)}u==null?(a.value="",a.selectedIndex=-1):u.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){let u=e[l],f=u===a.getAttribute("value")||u!=null&&u.toString()===a.getAttribute("value")||u==null&&!a.getAttribute("value");a.classList.toggle("ql-active",f),a.setAttribute("aria-pressed",f.toString())}else{let u=e[l]!=null;a.classList.toggle("ql-active",u),a.setAttribute("aria-pressed",u.toString())}})}};Di.DEFAULTS={};function I0(r,t,e){let n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function AL(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{let n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(l=>{if(typeof l=="string")I0(n,l);else{let a=Object.keys(l)[0],u=l[a];Array.isArray(u)?wL(n,a,u):I0(n,a,u)}}),r.appendChild(n)})}function wL(r,t,e){let n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(l=>{let a=document.createElement("option");l!==!1?a.setAttribute("value",String(l)):a.setAttribute("selected","selected"),n.appendChild(a)}),r.appendChild(n)}Di.DEFAULTS={container:null,handlers:{clean(){let r=this.quill.getSelection();if(r!=null)if(r.length===0){let t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,Q.INLINE)!=null&&this.quill.format(e,!1,M.sources.USER)})}else this.quill.removeFormat(r.index,r.length,M.sources.USER)},direction(r){let{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",M.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,M.sources.USER),this.quill.format("direction",r,M.sources.USER)},indent(r){let t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let l=r==="+1"?1:-1;e.direction==="rtl"&&(l*=-1),this.quill.format("indent",n+l,M.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,M.sources.USER)},list(r){let t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,M.sources.USER):this.quill.format("list","unchecked",M.sources.USER):this.quill.format("list",r,M.sources.USER)}}};var NL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',TL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',SL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',LL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',OL='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',qL='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',CL='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',_L='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',j0='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',kL='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',RL='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',IL='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',BL='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',jL='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',ML='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',DL='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',PL='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',UL='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',FL='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',HL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',zL='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',$L='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',VL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',KL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',GL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',WL='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ZL='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',XL='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',JL='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',QL='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',YL='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',tO='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',eO='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ds={align:{"":NL,center:TL,right:SL,justify:LL},background:OL,blockquote:qL,bold:CL,clean:_L,code:j0,"code-block":j0,color:kL,direction:{"":RL,rtl:IL},formula:BL,header:{1:jL,2:ML,3:DL,4:PL,5:UL,6:FL},italic:HL,image:zL,indent:{"+1":$L,"-1":VL},link:KL,list:{bullet:GL,check:WL,ordered:ZL},script:{sub:XL,super:JL},strike:QL,table:YL,underline:tO,video:eO};var rO='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',M0=0;function D0(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}var Uh=class{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break;default:}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),D0(this.label,"aria-expanded"),D0(this.options,"aria-hidden")}buildItem(t){let e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");let n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",l=>{switch(l.key){case"Enter":this.selectItem(e,!0),l.preventDefault();break;case"Escape":this.escape(),l.preventDefault();break;default:}}),e}buildLabel(){let t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=rO,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){let t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${M0}`,M0+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{let n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");t!==n&&(n?.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){let n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);let e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}},ps=Uh;var Fh=class extends ps{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){let e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);let n=this.label.querySelector(".ql-color-label"),l=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=l:n.style.fill=l)}},Ra=Fh;var Hh=class extends ps{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);let n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}},Ia=Hh;var nO=r=>{let{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"},zh=class{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,nO(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){let e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");let l=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),u=0;if(a.right>l.right&&(u=l.right-a.right,this.root.style.left=`${e+u}px`),a.left<l.left&&(u=l.left-a.left,this.root.style.left=`${e+u}px`),a.bottom>l.bottom){let f=a.bottom-a.top,d=t.bottom-t.top+f;this.root.style.top=`${n-d}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Ba=zh;var sO=[!1,"center","right","justify"],iO=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],oO=[!1,"serif","monospace"],lO=["1","2","3",!1],aO=["small",!1,"large","huge"],Mn=class extends Ii{constructor(t,e){super(t,e);let n=l=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(l.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(l.target)||a.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){let e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")n.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")n.innerHTML=e[a];else{let u=n.value||"";u!=null&&e[a][u]&&(n.innerHTML=e[a][u])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(l=>{if(l.classList.contains("ql-align")&&(l.querySelector("option")==null&&Ho(l,sO),typeof e.align=="object"))return new Ia(l,e.align);if(l.classList.contains("ql-background")||l.classList.contains("ql-color")){let a=l.classList.contains("ql-background")?"background":"color";return l.querySelector("option")==null&&Ho(l,iO,a==="background"?"#ffffff":"#000000"),new Ra(l,e[a])}return l.querySelector("option")==null&&(l.classList.contains("ql-font")?Ho(l,oO):l.classList.contains("ql-header")?Ho(l,lO):l.classList.contains("ql-size")&&Ho(l,aO)),new ps(l)});let n=()=>{this.pickers.forEach(l=>{l.update()})};this.quill.on(it.events.EDITOR_CHANGE,n)}};Mn.DEFAULTS=cr({},Ii.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{let t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});var Pi=class extends Ba{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,it.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,it.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=cO(t);case"formula":{if(!t)break;let e=this.quill.getSelection(!0);if(e!=null){let n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,it.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",it.sources.USER),this.quill.setSelection(n+2,it.sources.USER)}break}default:}this.textbox.value="",this.hide()}};function cO(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function Ho(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{let l=document.createElement("option");n===e?l.setAttribute("selected","selected"):l.setAttribute("value",String(n)),r.appendChild(l)})}var uO=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],$h=class extends Pi{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e),this.quill.on(it.events.EDITOR_CHANGE,(n,l,a,u)=>{if(n===it.events.SELECTION_CHANGE)if(l!=null&&l.length>0&&u===it.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let f=this.quill.getLines(l.index,l.length);if(f.length===1){let d=this.quill.getBounds(l);d!=null&&this.position(d)}else{let d=f[f.length-1],m=this.quill.getIndex(d),y=Math.min(d.length()-1,l.index+l.length-m),b=this.quill.getBounds(new rr(m,y));b!=null&&this.position(b)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(it.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let t=this.quill.getSelection();if(t!=null){let e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){let e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}},zo=class extends Mn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=uO),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new $h(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ds),this.buildPickers(t.container.querySelectorAll("select"),ds))}};zo.DEFAULTS=cr({},Mn.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,M.sources.USER)}}}}});var hO=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Vh=class extends Pi{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){let e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,it.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(it.events.SELECTION_CHANGE,(t,e,n)=>{if(t!=null){if(t.length===0&&n===it.sources.USER){let[l,a]=this.quill.scroll.descendant(Bn,t.index);if(l!=null){this.linkRange=new rr(t.index-a,l.length());let u=Bn.formats(l.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();let f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}},ja=class extends Mn{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=hO),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ds),this.buildPickers(t.container.querySelectorAll("select"),ds),this.tooltip=new Vh(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}};ja.DEFAULTS=cr({},Mn.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){let t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);let{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,M.sources.USER)}}}}});var P0=ja;Ca.register({"attributors/attribute/direction":va,"attributors/class/align":ph,"attributors/class/background":s0,"attributors/class/color":n0,"attributors/class/direction":gh,"attributors/class/font":yh,"attributors/class/size":vh,"attributors/style/align":ya,"attributors/style/background":jo,"attributors/style/color":Bo,"attributors/style/direction":xa,"attributors/style/font":Ea,"attributors/style/size":Aa},!0);Ca.register({"formats/align":ph,"formats/direction":gh,"formats/indent":v0,"formats/background":jo,"formats/color":Bo,"formats/font":yh,"formats/size":vh,"formats/blockquote":x0,"formats/code-block":Te,"formats/header":E0,"formats/list":fs,"formats/bold":Mi,"formats/code":ji,"formats/italic":A0,"formats/link":Bn,"formats/script":w0,"formats/strike":N0,"formats/underline":T0,"formats/formula":S0,"formats/image":O0,"formats/video":C0,"modules/syntax":Fo,"modules/table":k0,"modules/toolbar":Di,"themes/bubble":zo,"themes/snow":P0,"ui/icons":ds,"ui/picker":ps,"ui/icon-picker":Ia,"ui/color-picker":Ra,"ui/tooltip":Ba},!0);var Ui=Ca;function $o(r,t){return function(){return r.apply(t,arguments)}}var{toString:fO}=Object.prototype,{getPrototypeOf:Wh}=Object,Da=(r=>t=>{let e=fO.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Xr=r=>(r=r.toLowerCase(),t=>Da(t)===r),Pa=r=>t=>typeof t===r,{isArray:Fi}=Array,Vo=Pa("undefined");function dO(r){return r!==null&&!Vo(r)&&r.constructor!==null&&!Vo(r.constructor)&&Er(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var H0=Xr("ArrayBuffer");function pO(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&H0(r.buffer),t}var mO=Pa("string"),Er=Pa("function"),z0=Pa("number"),Ua=r=>r!==null&&typeof r=="object",gO=r=>r===!0||r===!1,Ma=r=>{if(Da(r)!=="object")return!1;let t=Wh(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},bO=Xr("Date"),yO=Xr("File"),vO=Xr("Blob"),xO=Xr("FileList"),EO=r=>Ua(r)&&Er(r.pipe),AO=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Er(r.append)&&((t=Da(r))==="formdata"||t==="object"&&Er(r.toString)&&r.toString()==="[object FormData]"))},wO=Xr("URLSearchParams"),[NO,TO,SO,LO]=["ReadableStream","Request","Response","Headers"].map(Xr),OO=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ko(r,t,{allOwnKeys:e=!1}={}){if(r===null||typeof r>"u")return;let n,l;if(typeof r!="object"&&(r=[r]),Fi(r))for(n=0,l=r.length;n<l;n++)t.call(null,r[n],n,r);else{let a=e?Object.getOwnPropertyNames(r):Object.keys(r),u=a.length,f;for(n=0;n<u;n++)f=a[n],t.call(null,r[f],f,r)}}function $0(r,t){t=t.toLowerCase();let e=Object.keys(r),n=e.length,l;for(;n-- >0;)if(l=e[n],t===l.toLowerCase())return l;return null}var Vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V0=r=>!Vo(r)&&r!==Vs;function Gh(){let{caseless:r}=V0(this)&&this||{},t={},e=(n,l)=>{let a=r&&$0(t,l)||l;Ma(t[a])&&Ma(n)?t[a]=Gh(t[a],n):Ma(n)?t[a]=Gh({},n):Fi(n)?t[a]=n.slice():t[a]=n};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&Ko(arguments[n],e);return t}var qO=(r,t,e,{allOwnKeys:n}={})=>(Ko(t,(l,a)=>{e&&Er(l)?r[a]=$o(l,e):r[a]=l},{allOwnKeys:n}),r),CO=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),_O=(r,t,e,n)=>{r.prototype=Object.create(t.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),e&&Object.assign(r.prototype,e)},kO=(r,t,e,n)=>{let l,a,u,f={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),a=l.length;a-- >0;)u=l[a],(!n||n(u,r,t))&&!f[u]&&(t[u]=r[u],f[u]=!0);r=e!==!1&&Wh(r)}while(r&&(!e||e(r,t))&&r!==Object.prototype);return t},RO=(r,t,e)=>{r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=t.length;let n=r.indexOf(t,e);return n!==-1&&n===e},IO=r=>{if(!r)return null;if(Fi(r))return r;let t=r.length;if(!z0(t))return null;let e=new Array(t);for(;t-- >0;)e[t]=r[t];return e},BO=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Wh(Uint8Array)),jO=(r,t)=>{let n=(r&&r[Symbol.iterator]).call(r),l;for(;(l=n.next())&&!l.done;){let a=l.value;t.call(r,a[0],a[1])}},MO=(r,t)=>{let e,n=[];for(;(e=r.exec(t))!==null;)n.push(e);return n},DO=Xr("HTMLFormElement"),PO=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,l){return n.toUpperCase()+l}),U0=(({hasOwnProperty:r})=>(t,e)=>r.call(t,e))(Object.prototype),UO=Xr("RegExp"),K0=(r,t)=>{let e=Object.getOwnPropertyDescriptors(r),n={};Ko(e,(l,a)=>{let u;(u=t(l,a,r))!==!1&&(n[a]=u||l)}),Object.defineProperties(r,n)},FO=r=>{K0(r,(t,e)=>{if(Er(r)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;let n=r[e];if(Er(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},HO=(r,t)=>{let e={},n=l=>{l.forEach(a=>{e[a]=!0})};return Fi(r)?n(r):n(String(r).split(t)),e},zO=()=>{},$O=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t,Kh="abcdefghijklmnopqrstuvwxyz",F0="0123456789",G0={DIGIT:F0,ALPHA:Kh,ALPHA_DIGIT:Kh+Kh.toUpperCase()+F0},VO=(r=16,t=G0.ALPHA_DIGIT)=>{let e="",{length:n}=t;for(;r--;)e+=t[Math.random()*n|0];return e};function KO(r){return!!(r&&Er(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}var GO=r=>{let t=new Array(10),e=(n,l)=>{if(Ua(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[l]=n;let a=Fi(n)?[]:{};return Ko(n,(u,f)=>{let d=e(u,l+1);!Vo(d)&&(a[f]=d)}),t[l]=void 0,a}}return n};return e(r,0)},WO=Xr("AsyncFunction"),ZO=r=>r&&(Ua(r)||Er(r))&&Er(r.then)&&Er(r.catch),W0=((r,t)=>r?setImmediate:t?((e,n)=>(Vs.addEventListener("message",({source:l,data:a})=>{l===Vs&&a===e&&n.length&&n.shift()()},!1),l=>{n.push(l),Vs.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Er(Vs.postMessage)),XO=typeof queueMicrotask<"u"?queueMicrotask.bind(Vs):typeof process<"u"&&process.nextTick||W0,I={isArray:Fi,isArrayBuffer:H0,isBuffer:dO,isFormData:AO,isArrayBufferView:pO,isString:mO,isNumber:z0,isBoolean:gO,isObject:Ua,isPlainObject:Ma,isReadableStream:NO,isRequest:TO,isResponse:SO,isHeaders:LO,isUndefined:Vo,isDate:bO,isFile:yO,isBlob:vO,isRegExp:UO,isFunction:Er,isStream:EO,isURLSearchParams:wO,isTypedArray:BO,isFileList:xO,forEach:Ko,merge:Gh,extend:qO,trim:OO,stripBOM:CO,inherits:_O,toFlatObject:kO,kindOf:Da,kindOfTest:Xr,endsWith:RO,toArray:IO,forEachEntry:jO,matchAll:MO,isHTMLForm:DO,hasOwnProperty:U0,hasOwnProp:U0,reduceDescriptors:K0,freezeMethods:FO,toObjectSet:HO,toCamelCase:PO,noop:zO,toFiniteNumber:$O,findKey:$0,global:Vs,isContextDefined:V0,ALPHABET:G0,generateString:VO,isSpecCompliantForm:KO,toJSONObject:GO,isAsyncFn:WO,isThenable:ZO,setImmediate:W0,asap:XO};function Hi(r,t,e,n,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),l&&(this.response=l)}I.inherits(Hi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Z0=Hi.prototype,X0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{X0[r]={value:r}});Object.defineProperties(Hi,X0);Object.defineProperty(Z0,"isAxiosError",{value:!0});Hi.from=(r,t,e,n,l,a)=>{let u=Object.create(Z0);return I.toFlatObject(r,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),Hi.call(u,r.message,t,e,n,l),u.cause=r,u.name=r.name,a&&Object.assign(u,a),u};var bt=Hi;var Fa=null;function Zh(r){return I.isPlainObject(r)||I.isArray(r)}function Q0(r){return I.endsWith(r,"[]")?r.slice(0,-2):r}function J0(r,t,e){return r?r.concat(t).map(function(l,a){return l=Q0(l),!e&&a?"["+l+"]":l}).join(e?".":""):t}function JO(r){return I.isArray(r)&&!r.some(Zh)}var QO=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function YO(r,t,e){if(!I.isObject(r))throw new TypeError("target must be an object");t=t||new(Fa||FormData),e=I.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!I.isUndefined(x[k])});let n=e.metaTokens,l=e.visitor||y,a=e.dots,u=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(l))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(I.isDate(E))return E.toISOString();if(!d&&I.isBlob(E))throw new bt("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(E)||I.isTypedArray(E)?d&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,k,x){let T=E;if(E&&!x&&typeof E=="object"){if(I.endsWith(k,"{}"))k=n?k:k.slice(0,-2),E=JSON.stringify(E);else if(I.isArray(E)&&JO(E)||(I.isFileList(E)||I.endsWith(k,"[]"))&&(T=I.toArray(E)))return k=Q0(k),T.forEach(function(_,j){!(I.isUndefined(_)||_===null)&&t.append(u===!0?J0([k],j,a):u===null?k:k+"[]",m(_))}),!1}return Zh(E)?!0:(t.append(J0(x,k,a),m(E)),!1)}let b=[],N=Object.assign(QO,{defaultVisitor:y,convertValue:m,isVisitable:Zh});function A(E,k){if(!I.isUndefined(E)){if(b.indexOf(E)!==-1)throw Error("Circular reference detected in "+k.join("."));b.push(E),I.forEach(E,function(T,C){(!(I.isUndefined(T)||T===null)&&l.call(t,T,I.isString(C)?C.trim():C,k,N))===!0&&A(T,k?k.concat(C):[C])}),b.pop()}}if(!I.isObject(r))throw new TypeError("data must be an object");return A(r),t}var ms=YO;function Y0(r){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tb(r,t){this._pairs=[],r&&ms(r,this,t)}var eb=tb.prototype;eb.append=function(t,e){this._pairs.push([t,e])};eb.toString=function(t){let e=t?function(n){return t.call(this,n,Y0)}:Y0;return this._pairs.map(function(l){return e(l[0])+"="+e(l[1])},"").join("&")};var Ha=tb;function tq(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Go(r,t,e){if(!t)return r;let n=e&&e.encode||tq,l=e&&e.serialize,a;if(l?a=l(t,e):a=I.isURLSearchParams(t)?t.toString():new Ha(t,e).toString(n),a){let u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}var Xh=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(n){n!==null&&t(n)})}},Jh=Xh;var za={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var rb=typeof URLSearchParams<"u"?URLSearchParams:Ha;var nb=typeof FormData<"u"?FormData:null;var sb=typeof Blob<"u"?Blob:null;var ib={isBrowser:!0,classes:{URLSearchParams:rb,FormData:nb,Blob:sb},protocols:["http","https","file","blob","url","data"]};var Yh={};Hd(Yh,{hasBrowserEnv:()=>Qh,hasStandardBrowserEnv:()=>eq,hasStandardBrowserWebWorkerEnv:()=>rq,origin:()=>nq});var Qh=typeof window<"u"&&typeof document<"u",eq=(r=>Qh&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),rq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nq=Qh&&window.location.href||"http://localhost";var Re={...Yh,...ib};function tf(r,t){return ms(r,new Re.classes.URLSearchParams,Object.assign({visitor:function(e,n,l,a){return Re.isNode&&I.isBuffer(e)?(this.append(n,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function sq(r){return I.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iq(r){let t={},e=Object.keys(r),n,l=e.length,a;for(n=0;n<l;n++)a=e[n],t[a]=r[a];return t}function oq(r){function t(e,n,l,a){let u=e[a++];if(u==="__proto__")return!0;let f=Number.isFinite(+u),d=a>=e.length;return u=!u&&I.isArray(l)?l.length:u,d?(I.hasOwnProp(l,u)?l[u]=[l[u],n]:l[u]=n,!f):((!l[u]||!I.isObject(l[u]))&&(l[u]=[]),t(e,n,l[u],a)&&I.isArray(l[u])&&(l[u]=iq(l[u])),!f)}if(I.isFormData(r)&&I.isFunction(r.entries)){let e={};return I.forEachEntry(r,(n,l)=>{t(sq(n),l,e,0)}),e}return null}var $a=oq;function lq(r,t,e){if(I.isString(r))try{return(t||JSON.parse)(r),I.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(r)}var ef={transitional:za,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){let n=e.getContentType()||"",l=n.indexOf("application/json")>-1,a=I.isObject(t);if(a&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return l?JSON.stringify($a(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tf(t,this.formSerializer).toString();if((f=I.isFileList(t))||n.indexOf("multipart/form-data")>-1){let d=this.env&&this.env.FormData;return ms(f?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||l?(e.setContentType("application/json",!1),lq(t)):t}],transformResponse:[function(t){let e=this.transitional||ef.transitional,n=e&&e.forcedJSONParsing,l=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(n&&!this.responseType||l)){let u=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(f){if(u)throw f.name==="SyntaxError"?bt.from(f,bt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],r=>{ef.headers[r]={}});var zi=ef;var aq=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ob=r=>{let t={},e,n,l;return r&&r.split(`
`).forEach(function(u){l=u.indexOf(":"),e=u.substring(0,l).trim().toLowerCase(),n=u.substring(l+1).trim(),!(!e||t[e]&&aq[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t};var lb=Symbol("internals");function Wo(r){return r&&String(r).trim().toLowerCase()}function Va(r){return r===!1||r==null?r:I.isArray(r)?r.map(Va):String(r)}function cq(r){let t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=e.exec(r);)t[n[1]]=n[2];return t}var uq=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function rf(r,t,e,n,l){if(I.isFunction(n))return n.call(this,t,e);if(l&&(t=e),!!I.isString(t)){if(I.isString(n))return t.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(t)}}function hq(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function fq(r,t){let e=I.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+e,{value:function(l,a,u){return this[n].call(this,t,l,a,u)},configurable:!0})})}var $i=class{constructor(t){t&&this.set(t)}set(t,e,n){let l=this;function a(f,d,m){let y=Wo(d);if(!y)throw new Error("header name must be a non-empty string");let b=I.findKey(l,y);(!b||l[b]===void 0||m===!0||m===void 0&&l[b]!==!1)&&(l[b||d]=Va(f))}let u=(f,d)=>I.forEach(f,(m,y)=>a(m,y,d));if(I.isPlainObject(t)||t instanceof this.constructor)u(t,e);else if(I.isString(t)&&(t=t.trim())&&!uq(t))u(ob(t),e);else if(I.isHeaders(t))for(let[f,d]of t.entries())a(d,f,n);else t!=null&&a(e,t,n);return this}get(t,e){if(t=Wo(t),t){let n=I.findKey(this,t);if(n){let l=this[n];if(!e)return l;if(e===!0)return cq(l);if(I.isFunction(e))return e.call(this,l,n);if(I.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Wo(t),t){let n=I.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||rf(this,this[n],n,e)))}return!1}delete(t,e){let n=this,l=!1;function a(u){if(u=Wo(u),u){let f=I.findKey(n,u);f&&(!e||rf(n,n[f],f,e))&&(delete n[f],l=!0)}}return I.isArray(t)?t.forEach(a):a(t),l}clear(t){let e=Object.keys(this),n=e.length,l=!1;for(;n--;){let a=e[n];(!t||rf(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){let e=this,n={};return I.forEach(this,(l,a)=>{let u=I.findKey(n,a);if(u){e[u]=Va(l),delete e[a];return}let f=t?hq(a):String(a).trim();f!==a&&delete e[a],e[f]=Va(l),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let e=Object.create(null);return I.forEach(this,(n,l)=>{n!=null&&n!==!1&&(e[l]=t&&I.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){let n=new this(t);return e.forEach(l=>n.set(l)),n}static accessor(t){let n=(this[lb]=this[lb]={accessors:{}}).accessors,l=this.prototype;function a(u){let f=Wo(u);n[f]||(fq(l,u),n[f]=!0)}return I.isArray(t)?t.forEach(a):a(t),this}};$i.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors($i.prototype,({value:r},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(n){this[e]=n}}});I.freezeMethods($i);var Ce=$i;function Zo(r,t){let e=this||zi,n=t||e,l=Ce.from(n.headers),a=n.data;return I.forEach(r,function(f){a=f.call(e,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function Xo(r){return!!(r&&r.__CANCEL__)}function ab(r,t,e){bt.call(this,r??"canceled",bt.ERR_CANCELED,t,e),this.name="CanceledError"}I.inherits(ab,bt,{__CANCEL__:!0});var fn=ab;function Jo(r,t,e){let n=e.config.validateStatus;!e.status||!n||n(e.status)?r(e):t(new bt("Request failed with status code "+e.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function nf(r){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function dq(r,t){r=r||10;let e=new Array(r),n=new Array(r),l=0,a=0,u;return t=t!==void 0?t:1e3,function(d){let m=Date.now(),y=n[a];u||(u=m),e[l]=d,n[l]=m;let b=a,N=0;for(;b!==l;)N+=e[b++],b=b%r;if(l=(l+1)%r,l===a&&(a=(a+1)%r),m-u<t)return;let A=y&&m-y;return A?Math.round(N*1e3/A):void 0}}var cb=dq;function pq(r,t){let e=0,n=1e3/t,l,a,u=(m,y=Date.now())=>{e=y,l=null,a&&(clearTimeout(a),a=null),r.apply(null,m)};return[(...m)=>{let y=Date.now(),b=y-e;b>=n?u(m,y):(l=m,a||(a=setTimeout(()=>{a=null,u(l)},n-b)))},()=>l&&u(l)]}var ub=pq;var Vi=(r,t,e=3)=>{let n=0,l=cb(50,250);return ub(a=>{let u=a.loaded,f=a.lengthComputable?a.total:void 0,d=u-n,m=l(d),y=u<=f;n=u;let b={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:m||void 0,estimated:m&&f&&y?(f-u)/m:void 0,event:a,lengthComputable:f!=null,[t?"download":"upload"]:!0};r(b)},e)},sf=(r,t)=>{let e=r!=null;return[n=>t[0]({lengthComputable:e,total:r,loaded:n}),t[1]]},of=r=>(...t)=>I.asap(()=>r(...t));var hb=Re.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),n;function l(a){let u=a;return t&&(e.setAttribute("href",u),u=e.href),e.setAttribute("href",u),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=l(window.location.href),function(u){let f=I.isString(u)?l(u):u;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}();var fb=Re.hasStandardBrowserEnv?{write(r,t,e,n,l,a){let u=[r+"="+encodeURIComponent(t)];I.isNumber(e)&&u.push("expires="+new Date(e).toGMTString()),I.isString(n)&&u.push("path="+n),I.isString(l)&&u.push("domain="+l),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(r){let t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lf(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function af(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function Qo(r,t){return r&&!lf(t)?af(r,t):t}var db=r=>r instanceof Ce?{...r}:r;function Jr(r,t){t=t||{};let e={};function n(m,y,b){return I.isPlainObject(m)&&I.isPlainObject(y)?I.merge.call({caseless:b},m,y):I.isPlainObject(y)?I.merge({},y):I.isArray(y)?y.slice():y}function l(m,y,b){if(I.isUndefined(y)){if(!I.isUndefined(m))return n(void 0,m,b)}else return n(m,y,b)}function a(m,y){if(!I.isUndefined(y))return n(void 0,y)}function u(m,y){if(I.isUndefined(y)){if(!I.isUndefined(m))return n(void 0,m)}else return n(void 0,y)}function f(m,y,b){if(b in t)return n(m,y);if(b in r)return n(void 0,m)}let d={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,y)=>l(db(m),db(y),!0)};return I.forEach(Object.keys(Object.assign({},r,t)),function(y){let b=d[y]||l,N=b(r[y],t[y],y);I.isUndefined(N)&&b!==f||(e[y]=N)}),e}var Ka=r=>{let t=Jr({},r),{data:e,withXSRFToken:n,xsrfHeaderName:l,xsrfCookieName:a,headers:u,auth:f}=t;t.headers=u=Ce.from(u),t.url=Go(Qo(t.baseURL,t.url),r.params,r.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(I.isFormData(e)){if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){let[m,...y]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Re.hasStandardBrowserEnv&&(n&&I.isFunction(n)&&(n=n(t)),n||n!==!1&&hb(t.url))){let m=l&&a&&fb.read(a);m&&u.set(l,m)}return t};var mq=typeof XMLHttpRequest<"u",pb=mq&&function(r){return new Promise(function(e,n){let l=Ka(r),a=l.data,u=Ce.from(l.headers).normalize(),{responseType:f,onUploadProgress:d,onDownloadProgress:m}=l,y,b,N,A,E;function k(){A&&A(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let x=new XMLHttpRequest;x.open(l.method.toUpperCase(),l.url,!0),x.timeout=l.timeout;function T(){if(!x)return;let _=Ce.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),H={data:!f||f==="text"||f==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:r,request:x};Jo(function(G){e(G),k()},function(G){n(G),k()},H),x=null}"onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(T)},x.onabort=function(){x&&(n(new bt("Request aborted",bt.ECONNABORTED,r,x)),x=null)},x.onerror=function(){n(new bt("Network Error",bt.ERR_NETWORK,r,x)),x=null},x.ontimeout=function(){let j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",H=l.transitional||za;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),n(new bt(j,H.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,r,x)),x=null},a===void 0&&u.setContentType(null),"setRequestHeader"in x&&I.forEach(u.toJSON(),function(j,H){x.setRequestHeader(H,j)}),I.isUndefined(l.withCredentials)||(x.withCredentials=!!l.withCredentials),f&&f!=="json"&&(x.responseType=l.responseType),m&&([N,E]=Vi(m,!0),x.addEventListener("progress",N)),d&&x.upload&&([b,A]=Vi(d),x.upload.addEventListener("progress",b),x.upload.addEventListener("loadend",A)),(l.cancelToken||l.signal)&&(y=_=>{x&&(n(!_||_.type?new fn(null,r,x):_),x.abort(),x=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));let C=nf(l.url);if(C&&Re.protocols.indexOf(C)===-1){n(new bt("Unsupported protocol "+C+":",bt.ERR_BAD_REQUEST,r));return}x.send(a||null)})};var gq=(r,t)=>{let e=new AbortController,n,l=function(d){if(!n){n=!0,u();let m=d instanceof Error?d:this.reason;e.abort(m instanceof bt?m:new fn(m instanceof Error?m.message:m))}},a=t&&setTimeout(()=>{l(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t),u=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",l):d.unsubscribe(l))}),r=null)};r.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",l));let{signal:f}=e;return f.unsubscribe=u,[f,()=>{a&&clearTimeout(a),a=null}]},mb=gq;var bq=function*(r,t){let e=r.byteLength;if(!t||e<t){yield r;return}let n=0,l;for(;n<e;)l=n+t,yield r.slice(n,l),n=l},yq=async function*(r,t,e){for await(let n of r)yield*bq(ArrayBuffer.isView(n)?n:await e(String(n)),t)},cf=(r,t,e,n,l)=>{let a=yq(r,t,l),u=0,f,d=m=>{f||(f=!0,n&&n(m))};return new ReadableStream({async pull(m){try{let{done:y,value:b}=await a.next();if(y){d(),m.close();return}let N=b.byteLength;if(e){let A=u+=N;e(A)}m.enqueue(new Uint8Array(b))}catch(y){throw d(y),y}},cancel(m){return d(m),a.return()}},{highWaterMark:2})};var Wa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bb=Wa&&typeof ReadableStream=="function",uf=Wa&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),yb=(r,...t)=>{try{return!!r(...t)}catch{return!1}},vq=bb&&yb(()=>{let r=!1,t=new Request(Re.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),gb=64*1024,hf=bb&&yb(()=>I.isReadableStream(new Response("").body)),Ga={stream:hf&&(r=>r.body)};Wa&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ga[t]&&(Ga[t]=I.isFunction(r[t])?e=>e[t]():(e,n)=>{throw new bt(`Response type '${t}' is not supported`,bt.ERR_NOT_SUPPORT,n)})})})(new Response);var xq=async r=>{if(r==null)return 0;if(I.isBlob(r))return r.size;if(I.isSpecCompliantForm(r))return(await new Request(r).arrayBuffer()).byteLength;if(I.isArrayBufferView(r)||I.isArrayBuffer(r))return r.byteLength;if(I.isURLSearchParams(r)&&(r=r+""),I.isString(r))return(await uf(r)).byteLength},Eq=async(r,t)=>{let e=I.toFiniteNumber(r.getContentLength());return e??xq(t)},vb=Wa&&(async r=>{let{url:t,method:e,data:n,signal:l,cancelToken:a,timeout:u,onDownloadProgress:f,onUploadProgress:d,responseType:m,headers:y,withCredentials:b="same-origin",fetchOptions:N}=Ka(r);m=m?(m+"").toLowerCase():"text";let[A,E]=l||a||u?mb([l,a],u):[],k,x,T=()=>{!k&&setTimeout(()=>{A&&A.unsubscribe()}),k=!0},C;try{if(d&&vq&&e!=="get"&&e!=="head"&&(C=await Eq(y,n))!==0){let Z=new Request(t,{method:"POST",body:n,duplex:"half"}),G;if(I.isFormData(n)&&(G=Z.headers.get("content-type"))&&y.setContentType(G),Z.body){let[O,W]=sf(C,Vi(of(d)));n=cf(Z.body,gb,O,W,uf)}}I.isString(b)||(b=b?"include":"omit"),x=new Request(t,{...N,signal:A,method:e.toUpperCase(),headers:y.normalize().toJSON(),body:n,duplex:"half",credentials:b});let _=await fetch(x),j=hf&&(m==="stream"||m==="response");if(hf&&(f||j)){let Z={};["status","statusText","headers"].forEach(ot=>{Z[ot]=_[ot]});let G=I.toFiniteNumber(_.headers.get("content-length")),[O,W]=f&&sf(G,Vi(of(f),!0))||[];_=new Response(cf(_.body,gb,O,()=>{W&&W(),j&&T()},uf),Z)}m=m||"text";let H=await Ga[I.findKey(Ga,m)||"text"](_,r);return!j&&T(),E&&E(),await new Promise((Z,G)=>{Jo(Z,G,{data:H,headers:Ce.from(_.headers),status:_.status,statusText:_.statusText,config:r,request:x})})}catch(_){throw T(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,r,x),{cause:_.cause||_}):bt.from(_,_&&_.code,r,x)}});var ff={http:Fa,xhr:pb,fetch:vb};I.forEach(ff,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});var xb=r=>`- ${r}`,Aq=r=>I.isFunction(r)||r===null||r===!1,Za={getAdapter:r=>{r=I.isArray(r)?r:[r];let{length:t}=r,e,n,l={};for(let a=0;a<t;a++){e=r[a];let u;if(n=e,!Aq(e)&&(n=ff[(u=String(e)).toLowerCase()],n===void 0))throw new bt(`Unknown adapter '${u}'`);if(n)break;l[u||"#"+a]=n}if(!n){let a=Object.entries(l).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build")),u=t?a.length>1?`since :
`+a.map(xb).join(`
`):" "+xb(a[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n},adapters:ff};function df(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new fn(null,r)}function Xa(r){return df(r),r.headers=Ce.from(r.headers),r.data=Zo.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Za.getAdapter(r.adapter||zi.adapter)(r).then(function(n){return df(r),n.data=Zo.call(r,r.transformResponse,n),n.headers=Ce.from(n.headers),n},function(n){return Xo(n)||(df(r),n&&n.response&&(n.response.data=Zo.call(r,r.transformResponse,n.response),n.response.headers=Ce.from(n.response.headers))),Promise.reject(n)})}var Ja="1.7.4";var pf={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{pf[r]=function(n){return typeof n===r||"a"+(t<1?"n ":" ")+r}});var Eb={};pf.transitional=function(t,e,n){function l(a,u){return"[Axios v"+Ja+"] Transitional option '"+a+"'"+u+(n?". "+n:"")}return(a,u,f)=>{if(t===!1)throw new bt(l(u," has been removed"+(e?" in "+e:"")),bt.ERR_DEPRECATED);return e&&!Eb[u]&&(Eb[u]=!0,console.warn(l(u," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,u,f):!0}};function wq(r,t,e){if(typeof r!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);let n=Object.keys(r),l=n.length;for(;l-- >0;){let a=n[l],u=t[a];if(u){let f=r[a],d=f===void 0||u(f,a,r);if(d!==!0)throw new bt("option "+a+" must be "+d,bt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new bt("Unknown option "+a,bt.ERR_BAD_OPTION)}}var Qa={assertOptions:wq,validators:pf};var gs=Qa.validators,Ki=class{constructor(t){this.defaults=t,this.interceptors={request:new Jh,response:new Jh}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;let a=l.stack?l.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Jr(this.defaults,e);let{transitional:n,paramsSerializer:l,headers:a}=e;n!==void 0&&Qa.assertOptions(n,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),l!=null&&(I.isFunction(l)?e.paramsSerializer={serialize:l}:Qa.assertOptions(l,{encode:gs.function,serialize:gs.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let u=a&&I.merge(a.common,a[e.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),e.headers=Ce.concat(u,a);let f=[],d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(e)===!1||(d=d&&k.synchronous,f.unshift(k.fulfilled,k.rejected))});let m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let y,b=0,N;if(!d){let E=[Xa.bind(this),void 0];for(E.unshift.apply(E,f),E.push.apply(E,m),N=E.length,y=Promise.resolve(e);b<N;)y=y.then(E[b++],E[b++]);return y}N=f.length;let A=e;for(b=0;b<N;){let E=f[b++],k=f[b++];try{A=E(A)}catch(x){k.call(this,x);break}}try{y=Xa.call(this,A)}catch(E){return Promise.reject(E)}for(b=0,N=m.length;b<N;)y=y.then(m[b++],m[b++]);return y}getUri(t){t=Jr(this.defaults,t);let e=Qo(t.baseURL,t.url);return Go(e,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){Ki.prototype[t]=function(e,n){return this.request(Jr(n||{},{method:t,url:e,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(t){function e(n){return function(a,u,f){return this.request(Jr(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Ki.prototype[t]=e(),Ki.prototype[t+"Form"]=e(!0)});var Yo=Ki;var mf=class r{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});let n=this;this.promise.then(l=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](l);n._listeners=null}),this.promise.then=l=>{let a,u=new Promise(f=>{n.subscribe(f),a=f}).then(l);return u.cancel=function(){n.unsubscribe(a)},u},t(function(a,u,f){n.reason||(n.reason=new fn(a,u,f),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new r(function(l){t=l}),cancel:t}}},Ab=mf;function gf(r){return function(e){return r.apply(null,e)}}function bf(r){return I.isObject(r)&&r.isAxiosError===!0}var yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yf).forEach(([r,t])=>{yf[t]=r});var wb=yf;function Nb(r){let t=new Yo(r),e=$o(Yo.prototype.request,t);return I.extend(e,Yo.prototype,t,{allOwnKeys:!0}),I.extend(e,t,null,{allOwnKeys:!0}),e.create=function(l){return Nb(Jr(r,l))},e}var Se=Nb(zi);Se.Axios=Yo;Se.CanceledError=fn;Se.CancelToken=Ab;Se.isCancel=Xo;Se.VERSION=Ja;Se.toFormData=ms;Se.AxiosError=bt;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=gf;Se.isAxiosError=bf;Se.mergeConfig=Jr;Se.AxiosHeaders=Ce;Se.formToJSON=r=>$a(I.isHTMLForm(r)?new FormData(r):r);Se.getAdapter=Za.getAdapter;Se.HttpStatusCode=wb;Se.default=Se;var Ya=Se;var{Axios:YD,AxiosError:tP,CanceledError:eP,isCancel:rP,CancelToken:nP,VERSION:sP,all:iP,Cancel:oP,isAxiosError:lP,spread:aP,toFormData:cP,AxiosHeaders:uP,HttpStatusCode:hP,formToJSON:fP,getAdapter:dP,mergeConfig:pP}=Ya;var Gi=class{baseURL=window.location.origin;timeout=5e3;headers={"Content-Type":"application/json"};LocalAPI=Ya.create({baseURL:this.baseURL,timeout:this.timeout,headers:this.headers});async CreateNewArticle(t){let e={data:{},status:500,statusText:"",headers:{},config:{headers:{},method:"get",url:""}};try{e=await this.LocalAPI.post("/api/articles",t)}catch(n){console.error(n)}return e.data}async ListArticleBySlug(t){let e={data:{},status:500,statusText:"",headers:{},config:{headers:{},method:"get",url:""}};try{e=await this.LocalAPI.get(`/api/articles/${t}`)}catch(n){console.error(n)}return e.data}};function Tb(r){if(!document.getElementById("article-display"))return;let e=new Ui("#article-display",{modules:{toolbar:!1}});e.disable();async function n(){let a=await new Gi().ListArticleBySlug(r);e.setContents(a?.content)}n()}function Sb(r){if(!document.getElementById("editor"))return;let e=new Ui("#editor",{modules:{toolbar:[["bold","italic","underline","strike"],["link","blockquote","code-block","image"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],[{direction:"rtl"}],[{size:["small","medium","large","huge"]}],[{color:[]},{background:[]}],[{font:[]}]],htmlEditButton:{msg:"Edit your content in html format"},cssEditorModule:{}},placeholder:"Write your article here...",theme:"snow"});function n(){let u=document.querySelector('[name="title"]'),f=document.querySelector('[name="author"]');u&&(u.value=""),f&&(f.value=""),e.setContents([])}n();let l=document.getElementById("resetForm");l&&l.addEventListener("click",n);let a=document.getElementById("editor-form");if(a){async function u(f){f.preventDefault();let d=new Gi,m=document.getElementById("title"),y=document.getElementById("author"),b=e.getContents().ops,N={title:m?.value||"",author:y?.value||"",slug:r,article_content:b};await d.CreateNewArticle(N),location.reload()}a.addEventListener("submit",u)}}var qb=lr(Ob());var tc=class{toolbar;constructor(t,e){this.toolbar=t.getModule("toolbar");let n=this.toolbar.container,l=this.createElem("span");l.setAttribute("class","ql-formats");let a=this.createElem("button");a.innerHTML="CSS",a.title="Edit page's CSS",a.type="button",a.addEventListener("click",u=>{u.preventDefault(),this.openCssEditor()}),l.append(a),n?.append(l)}createElem(t){return document.createElement(t)}openCssEditor(){let t=this.createElem("div"),e=this.createElem("div"),n=`Edit HTML here, when you click "OK" the quill editor's contents will be replaced`;e.setAttribute("class","ql-html-overlayContainer"),t.setAttribute("class","ql-html-popupContainer");let l=this.createElem("span");l.setAttribute("class","ql-html-popupTitle"),l.innerText=n;let a=this.createElem("div");a.appendChild(l),a.setAttribute("class","ql-html-textContainer");let u=document.createElement("input");u.type="color",u.addEventListener("input",m=>{let y=m.target.value;this.applyBackgroundColor(y)}),u.click();let f=this.createElem("button");f.innerHTML="Cancel",f.setAttribute("class","ql-html-buttonCancel");let d=this.createElem("div");d.setAttribute("class","ql-html-buttonGroup"),d.appendChild(f),a.appendChild(u),a.appendChild(d),t.appendChild(a),e.appendChild(t),f.addEventListener("click",()=>{document.body.removeChild(e)}),t.addEventListener("click",m=>{m.preventDefault(),m.stopPropagation()})}applyBackgroundColor(t){let e=document.querySelector("header");e&&(e.style.backgroundColor=t)}};var Cb=location.pathname.split("/").slice(1)[0];Ui.register({"modules/htmlEditButton":qb.default,"modules/cssEditorModule":tc});Sb(Cb);Tb(Cb);})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
